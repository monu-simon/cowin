(self.webpackChunkcovidinfo=self.webpackChunkcovidinfo||[]).push([[179],{8255:e=>{function t(e){return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=()=>[],t.resolve=t,t.id=8255,e.exports=t},7716:(e,t,n)=>{"use strict";n.d(t,{deG:()=>nn,tb:()=>Cl,AFp:()=>vl,ip1:()=>yl,CZH:()=>_l,hGG:()=>yc,z2F:()=>ac,sBO:()=>Sa,Sil:()=>Ll,_Vd:()=>Go,EJc:()=>kl,SBq:()=>Wo,qLn:()=>_r,vpe:()=>Ja,gxx:()=>rs,tBr:()=>Cn,XFs:()=>A,OlP:()=>tn,zs3:()=>_s,ZZ4:()=>ma,aQg:()=>ya,soG:()=>Il,YKP:()=>Da,v3s:()=>cc,h0i:()=>Ra,PXZ:()=>nc,R0b:()=>Vl,FiY:()=>Tn,Lbi:()=>El,g9A:()=>Sl,n_E:()=>el,Qsj:()=>Xo,FYo:()=>Jo,JOm:()=>wr,Tiy:()=>ta,q3G:()=>dr,tp0:()=>In,EAV:()=>dc,Rgc:()=>ka,dDg:()=>zl,DyG:()=>rn,q4F:()=>ra,GfV:()=>na,s_b:()=>Pa,ifc:()=>L,eFA:()=>rc,G48:()=>ec,Gpc:()=>p,f3M:()=>wn,X6Q:()=>Xl,_c5:()=>mc,VLi:()=>Kl,c2e:()=>Tl,zSh:()=>ss,wAp:()=>Do,vHH:()=>g,EiD:()=>ur,mCW:()=>$n,qzn:()=>Fn,JVY:()=>Vn,pB0:()=>Zn,eBb:()=>qn,L6k:()=>Un,LAX:()=>jn,cg1:()=>Ao,Tjo:()=>fc,kL8:()=>Oo,yhl:()=>Mn,dqk:()=>q,sIi:()=>xs,CqO:()=>Gs,QGY:()=>Hs,F4k:()=>zs,RDi:()=>Te,AaK:()=>u,z3N:()=>Ln,qOj:()=>bs,TTD:()=>_e,_Bn:()=>Bo,xp6:()=>li,uIk:()=>Rs,Gre:()=>Co,ekj:()=>co,Suo:()=>dl,Xpm:()=>Q,lG2:()=>ie,Yz7:()=>b,cJS:()=>w,oAB:()=>te,Yjl:()=>se,Y36:()=>Ls,_UZ:()=>qs,BQk:()=>Zs,ynx:()=>js,qZA:()=>Us,TgZ:()=>Vs,EpF:()=>Bs,n5z:()=>Wt,Ikx:()=>To,LFG:()=>bn,$8M:()=>Jt,NdJ:()=>$s,CRH:()=>pl,O4$:()=>ft,oxw:()=>Ws,ALo:()=>Ya,lcZ:()=>Wa,Hsn:()=>Xs,F$t:()=>Js,Q6J:()=>Fs,s9C:()=>eo,iGM:()=>ul,MAs:()=>Ps,CHM:()=>Be,LSH:()=>pr,kYT:()=>ne,Udp:()=>lo,YNc:()=>Ns,_uU:()=>wo,Oqu:()=>So,hij:()=>Eo,Gf:()=>hl});var r=n(9765),i=n(5319),s=n(7574),o=n(6682),a=n(8819);function l(e){for(let t in e)if(e[t]===l)return t;throw Error("Could not find renamed property on target object.")}function c(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function u(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(u).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function h(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const d=l({__forward_ref__:l});function p(e){return e.__forward_ref__=p,e.toString=function(){return u(this())},e}function f(e){return m(e)?e():e}function m(e){return"function"==typeof e&&e.hasOwnProperty(d)&&e.__forward_ref__===p}class g extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function y(e){return"string"==typeof e?e:null==e?"":String(e)}function _(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():y(e)}function v(e,t){const n=t?` in ${t}`:"";throw new g("201",`No provider for ${_(e)} found${n}`)}function b(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function w(e){return{providers:e.providers||[],imports:e.imports||[]}}function S(e){return E(e,T)||E(e,k)}function E(e,t){return e.hasOwnProperty(t)?e[t]:null}function C(e){return e&&(e.hasOwnProperty(I)||e.hasOwnProperty(x))?e[I]:null}const T=l({"\u0275prov":l}),I=l({"\u0275inj":l}),k=l({ngInjectableDef:l}),x=l({ngInjectorDef:l});var A=(()=>((A=A||{})[A.Default=0]="Default",A[A.Host=1]="Host",A[A.Self=2]="Self",A[A.SkipSelf=4]="SkipSelf",A[A.Optional=8]="Optional",A))();let O;function R(e){const t=O;return O=e,t}function D(e,t,n){const r=S(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&A.Optional?null:void 0!==t?t:void v(u(e),"Injector")}function N(e){return{toString:e}.toString()}var P=(()=>((P=P||{})[P.OnPush=0]="OnPush",P[P.Default=1]="Default",P))(),L=(()=>((L=L||{})[L.Emulated=0]="Emulated",L[L.None=2]="None",L[L.ShadowDom=3]="ShadowDom",L))();const F="undefined"!=typeof globalThis&&globalThis,M="undefined"!=typeof window&&window,V="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,U="undefined"!=typeof global&&global,q=F||U||M||V,j={},Z=[],B=l({"\u0275cmp":l}),H=l({"\u0275dir":l}),z=l({"\u0275pipe":l}),G=l({"\u0275mod":l}),$=l({"\u0275loc":l}),K=l({"\u0275fac":l}),Y=l({__NG_ELEMENT_ID__:l});let W=0;function Q(e){return N(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===P.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Z,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||L.Emulated,id:"c",styles:e.styles||Z,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,s=e.pipes;return n.id+=W++,n.inputs=re(e.inputs,t),n.outputs=re(e.outputs),i&&i.forEach(e=>e(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(J):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(X):null,n})}function J(e){return oe(e)||function(e){return e[H]||null}(e)}function X(e){return function(e){return e[z]||null}(e)}const ee={};function te(e){return N(()=>{const t={type:e.type,bootstrap:e.bootstrap||Z,declarations:e.declarations||Z,imports:e.imports||Z,exports:e.exports||Z,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(ee[e.id]=e.type),t})}function ne(e,t){return N(()=>{const n=ae(e,!0);n.declarations=t.declarations||Z,n.imports=t.imports||Z,n.exports=t.exports||Z})}function re(e,t){if(null==e)return j;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}const ie=Q;function se(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function oe(e){return e[B]||null}function ae(e,t){const n=e[G]||null;if(!n&&!0===t)throw new Error(`Type ${u(e)} does not have '\u0275mod' property.`);return n}const le=20,ce=10;function ue(e){return Array.isArray(e)&&"object"==typeof e[1]}function he(e){return Array.isArray(e)&&!0===e[1]}function de(e){return 0!=(8&e.flags)}function pe(e){return 2==(2&e.flags)}function fe(e){return 1==(1&e.flags)}function me(e){return null!==e.template}function ge(e,t){return e.hasOwnProperty(K)?e[K]:null}class ye{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function _e(){return ve}function ve(e){return e.type.prototype.ngOnChanges&&(e.setInput=we),be}function be(){const e=Se(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===j)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function we(e,t,n,r){const i=Se(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:j,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],l=o[a];s[a]=new ye(l&&l.currentValue,t,o===j),e[r]=t}function Se(e){return e.__ngSimpleChanges__||null}_e.ngInherit=!0;const Ee="http://www.w3.org/2000/svg";let Ce;function Te(e){Ce=e}function Ie(e){return!!e.listen}const ke={createRenderer:(e,t)=>void 0!==Ce?Ce:"undefined"!=typeof document?document:void 0};function xe(e){for(;Array.isArray(e);)e=e[0];return e}function Ae(e,t){return xe(t[e])}function Oe(e,t){return xe(t[e.index])}function Re(e,t){return e.data[t]}function De(e,t){return e[t]}function Ne(e,t){const n=t[e];return ue(n)?n:n[0]}function Pe(e){return 4==(4&e[2])}function Le(e){return 128==(128&e[2])}function Fe(e,t){return null==t?null:e[t]}function Me(e){e[18]=0}function Ve(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Ue={lFrame:at(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function qe(){return Ue.bindingsEnabled}function je(){return Ue.lFrame.lView}function Ze(){return Ue.lFrame.tView}function Be(e){return Ue.lFrame.contextLView=e,e[8]}function He(){let e=ze();for(;null!==e&&64===e.type;)e=e.parent;return e}function ze(){return Ue.lFrame.currentTNode}function Ge(e,t){const n=Ue.lFrame;n.currentTNode=e,n.isParent=t}function $e(){return Ue.lFrame.isParent}function Ke(){Ue.lFrame.isParent=!1}function Ye(){return Ue.isInCheckNoChangesMode}function We(e){Ue.isInCheckNoChangesMode=e}function Qe(){return Ue.lFrame.bindingIndex++}function Je(e){const t=Ue.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Xe(e,t){const n=Ue.lFrame;n.bindingIndex=n.bindingRootIndex=e,et(t)}function et(e){Ue.lFrame.currentDirectiveIndex=e}function tt(){return Ue.lFrame.currentQueryIndex}function nt(e){Ue.lFrame.currentQueryIndex=e}function rt(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function it(e,t,n){if(n&A.SkipSelf){let r=t,i=e;for(;r=r.parent,!(null!==r||n&A.Host||(r=rt(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;t=r,e=i}const r=Ue.lFrame=ot();return r.currentTNode=t,r.lView=e,!0}function st(e){const t=ot(),n=e[1];Ue.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function ot(){const e=Ue.lFrame,t=null===e?null:e.child;return null===t?at(e):t}function at(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function lt(){const e=Ue.lFrame;return Ue.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ct=lt;function ut(){const e=lt();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ht(){return Ue.lFrame.selectedIndex}function dt(e){Ue.lFrame.selectedIndex=e}function pt(){const e=Ue.lFrame;return Re(e.tView,e.selectedIndex)}function ft(){Ue.lFrame.currentNamespace=Ee}function mt(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=t;r&&(e.contentHooks||(e.contentHooks=[])).push(-n,r),i&&((e.contentHooks||(e.contentHooks=[])).push(n,i),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),o&&((e.viewHooks||(e.viewHooks=[])).push(n,o),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,o)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(n,a)}}function gt(e,t,n){vt(e,t,3,n)}function yt(e,t,n,r){(3&e[2])===n&&vt(e,t,n,r)}function _t(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function vt(e,t,n,r){const i=null!=r?r:-1,s=t.length-1;let o=0;for(let a=void 0!==r?65535&e[18]:0;a<s;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=r&&o>=r)break}else t[a]<0&&(e[18]+=65536),(o<i||-1==i)&&(bt(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function bt(e,t,n,r){const i=n[r]<0,s=n[r+1],o=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}const wt=-1;class St{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function Et(e,t,n){const r=Ie(e);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],l=n[i++];r?e.setAttribute(t,a,l,o):t.setAttributeNS(o,a,l)}else{const o=s,a=n[++i];Tt(o)?r&&e.setProperty(t,o,a):r?e.setAttribute(t,o,a):t.setAttribute(o,a),i++}}return i}function Ct(e){return 3===e||4===e||6===e}function Tt(e){return 64===e.charCodeAt(0)}function It(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||kt(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function kt(e,t,n,r,i){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const n=e[s++];if("number"==typeof n){if(n===t){o=-1;break}if(n>t){o=s-1;break}}}for(;s<e.length;){const t=e[s];if("number"==typeof t)break;if(t===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}function xt(e){return e!==wt}function At(e){return 32767&e}function Ot(e,t){let n=e>>16,r=t;for(;n>0;)r=r[15],n--;return r}let Rt=!0;function Dt(e){const t=Rt;return Rt=e,t}let Nt=0;function Pt(e,t){const n=Ft(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Lt(r.data,e),Lt(t,null),Lt(r.blueprint,null));const i=Mt(e,t),s=e.injectorIndex;if(xt(i)){const e=At(i),n=Ot(i,t),r=n[1].data;for(let i=0;i<8;i++)t[s+i]=n[e+i]|r[e+i]}return t[s+8]=i,s}function Lt(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Ft(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Mt(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const e=i[1],t=e.type;if(r=2===t?e.declTNode:1===t?i[6]:null,null===r)return wt;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return wt}function Vt(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Y)&&(r=n[Y]),null==r&&(r=n[Y]=Nt++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function Ut(e,t,n){if(n&A.Optional)return e;v(t,"NodeInjector")}function qt(e,t,n,r){if(n&A.Optional&&void 0===r&&(r=null),0==(n&(A.Self|A.Host))){const i=e[9],s=R(void 0);try{return i?i.get(t,r,n&A.Optional):D(t,r,n&A.Optional)}finally{R(s)}}return Ut(r,t,n)}function jt(e,t,n,r=A.Default,i){if(null!==e){const s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Y)?e[Y]:void 0;return"number"==typeof t?t>=0?255&t:Bt:t}(n);if("function"==typeof s){if(!it(t,e,r))return r&A.Host?Ut(i,n,r):qt(t,n,r,i);try{const e=s(r);if(null!=e||r&A.Optional)return e;v(n)}finally{ct()}}else if("number"==typeof s){let i=null,o=Ft(e,t),a=wt,l=r&A.Host?t[16][6]:null;for((-1===o||r&A.SkipSelf)&&(a=-1===o?Mt(e,t):t[o+8],a!==wt&&Kt(r,!1)?(i=t[1],o=At(a),t=Ot(a,t)):o=-1);-1!==o;){const e=t[1];if($t(s,o,e.data)){const e=Ht(o,t,n,i,r,l);if(e!==Zt)return e}a=t[o+8],a!==wt&&Kt(r,t[1].data[o+8]===l)&&$t(s,o,t)?(i=e,o=At(a),t=Ot(a,t)):o=-1}}}return qt(t,n,r,i)}const Zt={};function Bt(){return new Yt(He(),je())}function Ht(e,t,n,r,i,s){const o=t[1],a=o.data[e+8],l=zt(a,o,n,null==r?pe(a)&&Rt:r!=o&&0!=(3&a.type),i&A.Host&&s===a);return null!==l?Gt(t,o,l,a):Zt}function zt(e,t,n,r,i){const s=e.providerIndexes,o=t.data,a=1048575&s,l=e.directiveStart,c=s>>20,u=i?a+c:e.directiveEnd;for(let h=r?a:a+c;h<u;h++){const e=o[h];if(h<l&&n===e||h>=l&&e.type===n)return h}if(i){const e=o[l];if(e&&me(e)&&e.type===n)return l}return null}function Gt(e,t,n,r){let i=e[n];const s=t.data;if(i instanceof St){const o=i;o.resolving&&function(e,t){throw new g("200",`Circular dependency in DI detected for ${e}`)}(_(s[n]));const a=Dt(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?R(o.injectImpl):null;it(e,r,A.Default);try{i=e[n]=o.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const r=ve(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==l&&R(l),Dt(a),o.resolving=!1,ct()}}return i}function $t(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Kt(e,t){return!(e&A.Self||e&A.Host&&t)}class Yt{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return jt(this._tNode,this._lView,e,void 0,t)}}function Wt(e){return N(()=>{const t=e.prototype.constructor,n=t[K]||Qt(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const e=i[K]||Qt(i);if(e&&e!==n)return e;i=Object.getPrototypeOf(i)}return e=>new e})}function Qt(e){return m(e)?()=>{const t=Qt(f(e));return t&&t()}:ge(e)}function Jt(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let r=0;for(;r<e;){const i=n[r];if(Ct(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<e&&"string"==typeof n[r];)r++;else{if(i===t)return n[r+1];r+=2}}}return null}(He(),e)}const Xt="__parameters__";function en(e,t,n){return N(()=>{const r=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return n.annotation=t,n;function n(e,n,r){const i=e.hasOwnProperty(Xt)?e[Xt]:Object.defineProperty(e,Xt,{value:[]})[Xt];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(t),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class tn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=b({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const nn=new tn("AnalyzeForEntryComponents"),rn=Function;function sn(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),sn(r,t)):t!==e&&t.push(r)}return t}function on(e,t){e.forEach(e=>Array.isArray(e)?on(e,t):t(e))}function an(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ln(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function cn(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function un(e,t,n){let r=dn(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function hn(e,t){const n=dn(e,t);if(n>=0)return e[1|n]}function dn(e,t){return function(e,t,n){let r=0,i=e.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=e[n<<1];if(t===s)return n<<1;s>t?i=n:r=n+1}return~(i<<1)}(e,t)}const pn={},fn=/\n/gm,mn="__source",gn=l({provide:String,useValue:l});let yn;function _n(e){const t=yn;return yn=e,t}function vn(e,t=A.Default){if(void 0===yn)throw new Error("inject() must be called from an injection context");return null===yn?D(e,void 0,t):yn.get(e,t&A.Optional?null:void 0,t)}function bn(e,t=A.Default){return(O||vn)(f(e),t)}const wn=bn;function Sn(e){const t=[];for(let n=0;n<e.length;n++){const r=f(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let e,n=A.Default;for(let t=0;t<r.length;t++){const i=r[t],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?e=i.token:n|=s:e=i}t.push(bn(e,n))}else t.push(bn(r))}return t}function En(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}const Cn=En(en("Inject",e=>({token:e})),-1),Tn=En(en("Optional"),8),In=En(en("SkipSelf"),4);let kn;function xn(e){var t;return(null===(t=function(){if(void 0===kn&&(kn=null,q.trustedTypes))try{kn=q.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(t){}return kn}())||void 0===t?void 0:t.createHTML(e))||e}class An{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class On extends An{getTypeName(){return"HTML"}}class Rn extends An{getTypeName(){return"Style"}}class Dn extends An{getTypeName(){return"Script"}}class Nn extends An{getTypeName(){return"URL"}}class Pn extends An{getTypeName(){return"ResourceURL"}}function Ln(e){return e instanceof An?e.changingThisBreaksApplicationSecurity:e}function Fn(e,t){const n=Mn(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function Mn(e){return e instanceof An&&e.getTypeName()||null}function Vn(e){return new On(e)}function Un(e){return new Rn(e)}function qn(e){return new Dn(e)}function jn(e){return new Nn(e)}function Zn(e){return new Pn(e)}class Bn{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(xn(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class Hn{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=xn(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=xn(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const zn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Gn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function $n(e){return(e=String(e)).match(zn)||e.match(Gn)?e:"unsafe:"+e}function Kn(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Yn(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const Wn=Kn("area,br,col,hr,img,wbr"),Qn=Kn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Jn=Kn("rp,rt"),Xn=Yn(Jn,Qn),er=Yn(Wn,Yn(Qn,Kn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Yn(Jn,Kn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xn),tr=Kn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nr=Kn("srcset"),rr=Yn(tr,nr,Kn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Kn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ir=Kn("script,style,template");class sr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!er.hasOwnProperty(t))return this.sanitizedSomething=!0,!ir.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let i=0;i<n.length;i++){const e=n.item(i),t=e.name,s=t.toLowerCase();if(!rr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=e.value;tr[s]&&(o=$n(o)),nr[s]&&(r=o,o=(r=String(r)).split(",").map(e=>$n(e.trim())).join(", ")),this.buf.push(" ",t,'="',lr(o),'"')}var r;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();er.hasOwnProperty(t)&&!Wn.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(lr(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const or=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ar=/([^\#-~ |!])/g;function lr(e){return e.replace(/&/g,"&amp;").replace(or,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(ar,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let cr;function ur(e,t){let n=null;try{cr=cr||function(e){const t=new Hn(e);return function(){try{return!!(new window.DOMParser).parseFromString(xn(""),"text/html")}catch(e){return!1}}()?new Bn(t):t}(e);let r=t?String(t):"";n=cr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=cr.getInertBodyElement(r)}while(r!==s);return xn((new sr).sanitizeChildren(hr(n)||n))}finally{if(n){const e=hr(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function hr(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var dr=(()=>((dr=dr||{})[dr.NONE=0]="NONE",dr[dr.HTML=1]="HTML",dr[dr.STYLE=2]="STYLE",dr[dr.SCRIPT=3]="SCRIPT",dr[dr.URL=4]="URL",dr[dr.RESOURCE_URL=5]="RESOURCE_URL",dr))();function pr(e){const t=function(){const e=je();return e&&e[12]}();return t?t.sanitize(dr.URL,e)||"":Fn(e,"URL")?Ln(e):$n(y(e))}function fr(e,t){e.__ngContext__=t}function mr(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function gr(e){return e.ngOriginalError}function yr(e,...t){e.error(...t)}class _r{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e&&e.ngErrorLogger||yr}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?function(e){return e.ngDebugContext}(e)||this._findContext(gr(e)):null}_findOriginalError(e){let t=e&&gr(e);for(;t&&gr(t);)t=gr(t);return t||null}}const vr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(q))();function br(e){return e instanceof Function?e():e}var wr=(()=>((wr=wr||{})[wr.Important=1]="Important",wr[wr.DashCase=2]="DashCase",wr))();function Sr(e,t){return(void 0)(e,t)}function Er(e){const t=e[3];return he(t)?t[3]:t}function Cr(e){return Ir(e[13])}function Tr(e){return Ir(e[4])}function Ir(e){for(;null!==e&&!he(e);)e=e[4];return e}function kr(e,t,n,r,i){if(null!=r){let s,o=!1;he(r)?s=r:ue(r)&&(o=!0,r=r[0]);const a=xe(r);0===e&&null!==n?null==i?Lr(t,n,a):Pr(t,n,a,i||null,!0):1===e&&null!==n?Pr(t,n,a,i||null,!0):2===e?function(e,t,n){const r=Mr(e,t);r&&function(e,t,n,r){Ie(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function(e,t,n,r,i){const s=n[7];s!==xe(n)&&kr(t,e,r,s,i);for(let o=ce;o<n.length;o++){const i=n[o];zr(i[1],i,e,t,r,s)}}(t,e,s,n,i)}}function xr(e,t,n){return Ie(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Ar(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Ve(i,-1)),n.splice(r,1)}function Or(e,t){if(e.length<=ce)return;const n=ce+t,r=e[n];if(r){const s=r[17];null!==s&&s!==e&&Ar(s,r),t>0&&(e[n-1][4]=r[4]);const o=ln(e,ce+t);zr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Rr(e,t){if(!(256&t[2])){const n=t[11];Ie(n)&&n.destroyNode&&zr(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return Dr(e[1],e);for(;t;){let n=null;if(ue(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)ue(t)&&Dr(t[1],t),t=t[3];null===t&&(t=e),ue(t)&&Dr(t[1],t),n=t&&t[4]}t=n}}(t)}}function Dr(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const e=t[n[r]];if(!(e instanceof St)){const t=n[r+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2){const r=e[t[n]],i=t[n+1];try{i.call(r)}finally{}}else try{t.call(e)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const e=n[s+1],o="function"==typeof e?e(t):xe(t[e]),a=r[i=n[s+2]],l=n[s+3];"boolean"==typeof l?o.removeEventListener(n[s],a,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),s+=2}else{const e=r[i=n[s+1]];n[s].call(e)}if(null!==r){for(let e=i+1;e<r.length;e++)(0,r[e])();t[7]=null}}(e,t),1===t[1].type&&Ie(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&he(t[3])){n!==t[3]&&Ar(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function Nr(e,t,n){return function(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const t=e.data[r.directiveStart].encapsulation;if(t===L.None||t===L.Emulated)return null}return Oe(r,n)}(e,t.parent,n)}function Pr(e,t,n,r,i){Ie(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function Lr(e,t,n){Ie(e)?e.appendChild(t,n):t.appendChild(n)}function Fr(e,t,n,r,i){null!==r?Pr(e,t,n,r,i):Lr(e,t,n)}function Mr(e,t){return Ie(e)?e.parentNode(t):t.parentNode}function Vr(e,t,n){return Ur(e,t,n)}let Ur=function(e,t,n){return 40&e.type?Oe(e,n):null};function qr(e,t,n,r){const i=Nr(e,r,t),s=t[11],o=Vr(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Fr(s,i,n[a],o,!1);else Fr(s,i,n,o,!1)}function jr(e,t){if(null!==t){const n=t.type;if(3&n)return Oe(t,e);if(4&n)return Br(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return jr(e,n);{const n=e[t.index];return he(n)?Br(-1,n):xe(n)}}if(32&n)return Sr(t,e)()||xe(e[t.index]);{const n=Zr(e,t);return null!==n?Array.isArray(n)?n[0]:jr(Er(e[16]),n):jr(e,t.next)}}return null}function Zr(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Br(e,t){const n=ce+e+1;if(n<t.length){const e=t[n],r=e[1].firstChild;if(null!==r)return jr(e,r)}return t[7]}function Hr(e,t,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===t&&(a&&fr(xe(a),r),n.flags|=4),64!=(64&n.flags))if(8&l)Hr(e,t,n.child,r,i,s,!1),kr(t,e,i,a,s);else if(32&l){const o=Sr(n,r);let l;for(;l=o();)kr(t,e,i,l,s);kr(t,e,i,a,s)}else 16&l?Gr(e,t,r,n,i,s):kr(t,e,i,a,s);n=o?n.projectionNext:n.next}}function zr(e,t,n,r,i,s){Hr(n,r,e.firstChild,t,i,s,!1)}function Gr(e,t,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)kr(t,e,i,a[l],s);else Hr(e,t,a,o[3],i,s,!0)}function $r(e,t,n){Ie(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Kr(e,t,n){Ie(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Yr(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const n=t.length;if(i+n===r||e.charCodeAt(i+n)<=32)return i}n=i+1}}const Wr="ng-template";function Qr(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==Yr(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Jr(e){return 4===e.type&&e.value!==Wr}function Xr(e,t,n){return t===(4!==e.type||n?e.value:Wr)}function ei(e,t,n){let r=4;const i=e.attrs||[],s=function(e){for(let t=0;t<e.length;t++)if(Ct(e[t]))return t;return e.length}(i);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!Xr(e,l,n)||""===l&&1===t.length){if(ti(r))return!1;o=!0}}else{const c=8&r?l:t[++a];if(8&r&&null!==e.attrs){if(!Qr(e.attrs,c,n)){if(ti(r))return!1;o=!0}continue}const u=ni(8&r?"class":l,i,Jr(e),n);if(-1===u){if(ti(r))return!1;o=!0;continue}if(""!==c){let e;e=u>s?"":i[u+1].toLowerCase();const t=8&r?e:null;if(t&&-1!==Yr(t,c,0)||2&r&&c!==e){if(ti(r))return!1;o=!0}}}}else{if(!o&&!ti(r)&&!ti(l))return!1;if(o&&ti(l))continue;o=!1,r=l|1&r}}return ti(r)||o}function ti(e){return 0==(1&e)}function ni(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let n=!1;for(;i<t.length;){const r=t[i];if(r===e)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let e=t[++i];for(;"string"==typeof e;)e=t[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function ri(e,t,n=!1){for(let r=0;r<t.length;r++)if(ei(e,t[r],n))return!0;return!1}function ii(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let t=0;t<e.length;t++)if(e[t]!==r[t])continue e;return!0}}return!1}function si(e,t){return e?":not("+t.trim()+")":t}function oi(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const t=e[++n];i+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||ti(o)||(t+=si(s,i),i=""),r=o,s=s||!ti(r);n++}return""!==i&&(t+=si(s,i)),t}const ai={};function li(e){ci(Ze(),je(),ht()+e,Ye())}function ci(e,t,n,r){if(!r)if(3==(3&t[2])){const r=e.preOrderCheckHooks;null!==r&&gt(t,r,n)}else{const r=e.preOrderHooks;null!==r&&yt(t,r,0,n)}dt(n)}function ui(e,t){return e<<17|t<<2}function hi(e){return e>>17&32767}function di(e){return 2|e}function pi(e){return(131068&e)>>2}function fi(e,t){return-131069&e|t<<2}function mi(e){return 1|e}function gi(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=e.data[s];nt(i),n.contentQueries(2,t[s],s)}}}function yi(e,t,n,r,i,s,o,a,l,c){const u=t.blueprint.slice();return u[0]=i,u[2]=140|r,Me(u),u[3]=u[15]=e,u[8]=n,u[10]=o||e&&e[10],u[11]=a||e&&e[11],u[12]=l||e&&e[12]||null,u[9]=c||e&&e[9]||null,u[6]=s,u[16]=2==t.type?e[16]:u,u}function _i(e,t,n,r,i){let s=e.data[t];if(null===s)s=function(e,t,n,r,i){const s=ze(),o=$e(),a=e.data[t]=function(e,t,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(e,t,n,r,i),Ue.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const e=function(){const e=Ue.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===e?-1:e.injectorIndex}return Ge(s,!0),s}function vi(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function bi(e,t,n){st(t);try{const r=e.viewQuery;null!==r&&Wi(1,r,n);const i=e.template;null!==i&&Ei(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&gi(e,t),e.staticViewQueries&&Wi(2,e.viewQuery,n);const s=e.components;null!==s&&function(e,t){for(let n=0;n<t.length;n++)zi(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),r}finally{t[2]&=-5,ut()}}function wi(e,t,n,r){const i=t[2];if(256==(256&i))return;st(t);const s=Ye();try{Me(t),Ue.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&Ei(e,t,n,2,r);const o=3==(3&i);if(!s)if(o){const n=e.preOrderCheckHooks;null!==n&&gt(t,n,null)}else{const n=e.preOrderHooks;null!==n&&yt(t,n,0,null),_t(t,0)}if(function(e){for(let t=Cr(e);null!==t;t=Tr(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],r=n[3];0==(1024&n[2])&&Ve(r,1),n[2]|=1024}}}(t),function(e){for(let t=Cr(e);null!==t;t=Tr(t))for(let e=ce;e<t.length;e++){const n=t[e],r=n[1];Le(n)&&wi(r,n,r.template,n[8])}}(t),null!==e.contentQueries&&gi(e,t),!s)if(o){const n=e.contentCheckHooks;null!==n&&gt(t,n)}else{const n=e.contentHooks;null!==n&&yt(t,n,1),_t(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const r=n[e];if(r<0)dt(~r);else{const i=r,s=n[++e],o=n[++e];Xe(s,i),o(2,t[i])}}}finally{dt(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)Bi(e,t[n])}(t,a);const l=e.viewQuery;if(null!==l&&Wi(2,l,r),!s)if(o){const n=e.viewCheckHooks;null!==n&&gt(t,n)}else{const n=e.viewHooks;null!==n&&yt(t,n,2),_t(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Ve(t[3],-1))}finally{ut()}}function Si(e,t,n,r){const i=t[10],s=!Ye(),o=Pe(t);try{s&&!o&&i.begin&&i.begin(),o&&bi(e,t,r),wi(e,t,n,r)}finally{s&&!o&&i.end&&i.end()}}function Ei(e,t,n,r,i){const s=ht(),o=2&r;try{dt(-1),o&&t.length>le&&ci(e,t,le,Ye()),n(r,i)}finally{dt(s)}}function Ci(e,t,n){if(de(t)){const r=t.directiveEnd;for(let i=t.directiveStart;i<r;i++){const t=e.data[i];t.contentQueries&&t.contentQueries(1,n[i],i)}}}function Ti(e,t,n){qe()&&(function(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;e.firstCreatePass||Pt(n,t),fr(r,t);const o=n.initialInputs;for(let a=i;a<s;a++){const r=e.data[a],s=me(r);s&&Ui(t,n,r);const l=Gt(t,e,a,n);fr(l,t),null!==o&&qi(0,a-i,l,r,0,o),s&&(Ne(n.index,t)[8]=l)}}(e,t,n,Oe(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Ue.lFrame.currentDirectiveIndex;try{dt(s);for(let n=r;n<i;n++){const r=e.data[n],i=t[n];et(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Pi(r,i)}}finally{dt(-1),et(o)}}(e,t,n))}function Ii(e,t,n=Oe){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(t,e):e[o];e[i++]=a}}}function ki(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=xi(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function xi(e,t,n,r,i,s,o,a,l,c){const u=le+r,h=u+i,d=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:ai);return n}(u,h),p="function"==typeof c?c():c;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function Ai(e,t,n,r){const i=Ji(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&Xi(e).push(r,i.length-1))}function Oi(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function Ri(e,t,n,r,i,s,o,a){const l=Oe(t,n);let c,u=t.inputs;var h;!a&&null!=u&&(c=u[r])?(ts(e,n,c,r,i),pe(t)&&function(e,t){const n=Ne(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,t.value||"",r):i,Ie(s)?s.setProperty(l,r,i):Tt(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function Di(e,t,n,r){let i=!1;if(qe()){const s=function(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ri(n,o.selectors,!1)&&(i||(i=[]),Vt(Pt(n,t),e,o.type),me(o)?(Li(e,n),i.unshift(o)):i.push(o))}return i}(e,t,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Mi(n,e.data.length,s.length);for(let e=0;e<s.length;e++){const t=s[e];t.providersResolver&&t.providersResolver(t)}let r=!1,a=!1,l=vi(e,t,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=It(n.mergedAttrs,c.hostAttrs),Vi(e,n,t,l,c),Fi(l,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const u=c.type.prototype;!r&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),r=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function(e,t){const n=t.directiveEnd,r=e.data,i=t.attrs,s=[];let o=null,a=null;for(let l=t.directiveStart;l<n;l++){const e=r[l],n=e.inputs,c=null===i||Jr(t)?null:ji(n,i);s.push(c),o=Oi(n,l,o),a=Oi(e.outputs,l,a)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=o,t.outputs=a}(e,n)}o&&function(e,t,n){if(t){const r=e.localNames=[];for(let e=0;e<t.length;e+=2){const i=n[t[e+1]];if(null==i)throw new g("301",`Export of name '${t[e+1]}' not found!`);r.push(t[e],i)}}}(n,r,o)}return n.mergedAttrs=It(n.mergedAttrs,n.attrs),i}function Ni(e,t,n,r,i,s){const o=s.hostBindings;if(o){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const s=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Pi(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Li(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Fi(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;me(t)&&(n[""]=e)}}function Mi(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Vi(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=ge(i.type)),o=new St(s,me(i),null);e.blueprint[r]=o,n[r]=o,Ni(e,t,0,r,vi(e,n,i.hostVars,ai),i)}function Ui(e,t,n){const r=Oe(t,e),i=ki(n),s=e[10],o=Gi(e,yi(e,i,null,n.onPush?64:16,r,t,s,s.createRenderer(r,n),null,null));e[t.index]=o}function qi(e,t,n,r,i,s){const o=s[t];if(null!==o){const e=r.setInput;for(let t=0;t<o.length;){const i=o[t++],s=o[t++],a=o[t++];null!==e?r.setInput(n,a,i,s):n[s]=a}}}function ji(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Zi(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function Bi(e,t){const n=Ne(t,e);if(Le(n)){const e=n[1];80&n[2]?wi(e,n,e.template,n[8]):n[5]>0&&Hi(n)}}function Hi(e){for(let n=Cr(e);null!==n;n=Tr(n))for(let e=ce;e<n.length;e++){const t=n[e];if(1024&t[2]){const e=t[1];wi(e,t,e.template,t[8])}else t[5]>0&&Hi(t)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const r=Ne(t[n],e);Le(r)&&r[5]>0&&Hi(r)}}function zi(e,t){const n=Ne(t,e),r=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),bi(r,n,n[8])}function Gi(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function $i(e){for(;e;){e[2]|=64;const t=Er(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function Ki(e,t,n){const r=t[10];r.begin&&r.begin();try{wi(e,t,e.template,n)}catch(i){throw es(t,i),i}finally{r.end&&r.end()}}function Yi(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=mr(n),i=r[1];Si(i,r,i.template,n)}}(e[8])}function Wi(e,t,n){nt(0),t(e,n)}const Qi=(()=>Promise.resolve(null))();function Ji(e){return e[7]||(e[7]=[])}function Xi(e){return e.cleanup||(e.cleanup=[])}function es(e,t){const n=e[9],r=n?n.get(_r,null):null;r&&r.handleError(t)}function ts(e,t,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=t[o],c=e.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function ns(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const e=t[o];"number"==typeof e?s=e:1==s?i=h(i,e):2==s&&(r=h(r,e+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}const rs=new tn("INJECTOR",-1);class is{get(e,t=pn){if(t===pn){const t=new Error(`NullInjectorError: No provider for ${u(e)}!`);throw t.name="NullInjectorError",t}return t}}const ss=new tn("Set Injector scope."),os={},as={};let ls;function cs(){return void 0===ls&&(ls=new is),ls}function us(e,t=null,n=null,r){return new hs(e,n,t||cs(),r)}class hs{constructor(e,t,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];t&&on(t,n=>this.processProvider(n,e,t)),on([e],e=>this.processInjectorType(e,[],i)),this.records.set(rs,fs(void 0,this));const s=this.records.get(ss);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof e?null:u(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=pn,n=A.Default){this.assertNotDestroyed();const r=_n(this),i=R(void 0);try{if(!(n&A.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(s=e)||"object"==typeof s&&s instanceof tn)&&S(e);t=n&&this.injectableDefInScope(n)?fs(ds(e),os):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&A.Self?cs():this.parent).get(e,t=n&A.Optional&&t===pn?null:t)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(u(e)),r)throw o;return function(e,t,n,r){const i=e.ngTempTokenPath;throw t[mn]&&i.unshift(t[mn]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=u(t);if(Array.isArray(t))i=t.map(u).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):u(r)))}i=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(fn,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(o,e,"R3InjectorError",this.source)}throw o}finally{R(i),_n(r)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(u(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=f(e)))return!1;let r=C(e);const i=null==r&&e.ngModule||void 0,s=void 0===i?e:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=C(i)),null==r)return!1;if(null!=r.imports&&!o){let e;n.push(s);try{on(r.imports,r=>{this.processInjectorType(r,t,n)&&(void 0===e&&(e=[]),e.push(r))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:r}=e[t];on(r,e=>this.processProvider(e,n,r||Z))}}this.injectorDefTypes.add(s);const a=ge(s)||(()=>new s);this.records.set(s,fs(a,os));const l=r.providers;if(null!=l&&!o){const t=e;on(l,e=>this.processProvider(e,t,l))}return void 0!==i&&void 0!==e.providers}processProvider(e,t,n){let r=gs(e=f(e))?e:f(e&&e.provide);const i=function(e,t,n){return ms(e)?fs(void 0,e.useValue):fs(ps(e),os)}(e);if(gs(e)||!0!==e.multi)this.records.get(r);else{let t=this.records.get(r);t||(t=fs(void 0,os,!0),t.factory=()=>Sn(t.multi),this.records.set(r,t)),r=e,t.multi.push(e)}this.records.set(r,i)}hydrate(e,t){var n;return t.value===os&&(t.value=as,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=f(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function ds(e){const t=S(e),n=null!==t?t.factory:ge(e);if(null!==n)return n;if(e instanceof tn)throw new Error(`Token ${u(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=cn(t,"?");throw new Error(`Can't resolve all parameters for ${u(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[T]||e[k]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function ps(e,t,n){let r;if(gs(e)){const t=f(e);return ge(t)||ds(t)}if(ms(e))r=()=>f(e.useValue);else if((i=e)&&i.useFactory)r=()=>e.useFactory(...Sn(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>bn(f(e.useExisting));else{const t=f(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return ge(t)||ds(t);r=()=>new t(...Sn(e.deps))}var i;return r}function fs(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function ms(e){return null!==e&&"object"==typeof e&&gn in e}function gs(e){return"function"==typeof e}const ys=function(e,t,n){return function(e,t=null,n=null,r){const i=us(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)};class _s{static create(e,t){return Array.isArray(e)?ys(e,t,""):ys(e.providers,e.parent,e.name||"")}}function vs(e,t){mt(mr(e)[1],He())}function bs(e){let t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0;const r=[e];for(;t;){let i;if(me(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);const t=e;t.inputs=ws(e.inputs),t.declaredInputs=ws(e.declaredInputs),t.outputs=ws(e.outputs);const n=i.hostBindings;n&&Cs(e,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Ss(e,s),o&&Es(e,o),c(e.inputs,i.inputs),c(e.declaredInputs,i.declaredInputs),c(e.outputs,i.outputs),me(i)&&i.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(i.data.animation)}}const t=i.features;if(t)for(let r=0;r<t.length;r++){const i=t[r];i&&i.ngInherit&&i(e),i===bs&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=It(i.hostAttrs,n=It(n,i.hostAttrs))}}(r)}function ws(e){return e===j?{}:e===Z?[]:e}function Ss(e,t){const n=e.viewQuery;e.viewQuery=n?(e,r)=>{t(e,r),n(e,r)}:t}function Es(e,t){const n=e.contentQueries;e.contentQueries=n?(e,r,i)=>{t(e,r,i),n(e,r,i)}:t}function Cs(e,t){const n=e.hostBindings;e.hostBindings=n?(e,r)=>{t(e,r),n(e,r)}:t}_s.THROW_IF_NOT_FOUND=pn,_s.NULL=new is,_s.\u0275prov=b({token:_s,providedIn:"any",factory:()=>bn(rs)}),_s.__NG_ELEMENT_ID__=-1;let Ts=null;function Is(){if(!Ts){const e=q.Symbol;if(e&&e.iterator)Ts=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ts=n)}}}return Ts}class ks{constructor(e){this.wrapped=e}static wrap(e){return new ks(e)}static unwrap(e){return ks.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof ks}}function xs(e){return!!As(e)&&(Array.isArray(e)||!(e instanceof Map)&&Is()in e)}function As(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Os(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Rs(e,t,n,r){const i=je();return Os(i,Qe(),t)&&(Ze(),function(e,t,n,r,i,s){const o=Oe(e,t);!function(e,t,n,r,i,s,o){if(null==s)Ie(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{const a=null==o?y(s):o(s,r||"",i);Ie(e)?e.setAttribute(t,i,a,n):n?t.setAttributeNS(n,i,a):t.setAttribute(i,a)}}(t[11],o,s,e.value,n,r,i)}(pt(),i,e,t,n,r)),Rs}function Ds(e,t,n,r){return Os(e,Qe(),n)?t+y(n)+r:ai}function Ns(e,t,n,r,i,s,o,a){const l=je(),c=Ze(),u=e+le,h=c.firstCreatePass?function(e,t,n,r,i,s,o,a,l){const c=t.consts,u=_i(t,e,4,o||null,Fe(c,a));Di(t,n,u,Fe(c,l)),mt(t,u);const h=u.tViews=xi(2,u,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,u),h.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,n,r,i,s,o):c.data[u];Ge(h,!1);const d=l[11].createComment("");qr(c,l,d,h),fr(d,l),Gi(l,l[u]=Zi(d,l,d,h)),fe(h)&&Ti(c,l,h),null!=o&&Ii(l,h,a)}function Ps(e){return De(Ue.lFrame.contextLView,le+e)}function Ls(e,t=A.Default){const n=je();return null===n?bn(e,t):jt(He(),n,f(e),t)}function Fs(e,t,n){const r=je();return Os(r,Qe(),t)&&Ri(Ze(),pt(),r,e,t,r[11],n,!1),Fs}function Ms(e,t,n,r,i){const s=i?"class":"style";ts(e,n,t.inputs[s],s,r)}function Vs(e,t,n,r){const i=je(),s=Ze(),o=le+e,a=i[11],l=i[o]=xr(a,t,Ue.lFrame.currentNamespace),c=s.firstCreatePass?function(e,t,n,r,i,s,o){const a=t.consts,l=_i(t,e,2,i,Fe(a,s));return Di(t,n,l,Fe(a,o)),null!==l.attrs&&ns(l,l.attrs,!1),null!==l.mergedAttrs&&ns(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,i,0,t,n,r):s.data[o];Ge(c,!0);const u=c.mergedAttrs;null!==u&&Et(a,l,u);const h=c.classes;null!==h&&Kr(a,l,h);const d=c.styles;null!==d&&$r(a,l,d),64!=(64&c.flags)&&qr(s,i,l,c),0===Ue.lFrame.elementDepthCount&&fr(l,i),Ue.lFrame.elementDepthCount++,fe(c)&&(Ti(s,i,c),Ci(s,c,i)),null!==r&&Ii(i,c)}function Us(){let e=He();$e()?Ke():(e=e.parent,Ge(e,!1));const t=e;Ue.lFrame.elementDepthCount--;const n=Ze();n.firstCreatePass&&(mt(n,e),de(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Ms(n,t,je(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Ms(n,t,je(),t.stylesWithoutHost,!1)}function qs(e,t,n,r){Vs(e,t,n,r),Us()}function js(e,t,n){const r=je(),i=Ze(),s=e+le,o=i.firstCreatePass?function(e,t,n,r,i){const s=t.consts,o=Fe(s,r),a=_i(t,e,8,"ng-container",o);return null!==o&&ns(a,o,!0),Di(t,n,a,Fe(s,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,i,r,t,n):i.data[s];Ge(o,!0);const a=r[s]=r[11].createComment("");qr(i,r,a,o),fr(a,r),fe(o)&&(Ti(i,r,o),Ci(i,o,r)),null!=n&&Ii(r,o)}function Zs(){let e=He();const t=Ze();$e()?Ke():(e=e.parent,Ge(e,!1)),t.firstCreatePass&&(mt(t,e),de(e)&&t.queries.elementEnd(e))}function Bs(){return je()}function Hs(e){return!!e&&"function"==typeof e.then}function zs(e){return!!e&&"function"==typeof e.subscribe}const Gs=zs;function $s(e,t,n,r){const i=je(),s=Ze(),o=He();return function(e,t,n,r,i,s,o,a){const l=fe(r),c=e.firstCreatePass&&Xi(e),u=Ji(t);let h=!0;if(3&r.type||a){const d=Oe(r,t),p=a?a(d):d,f=u.length,m=a?e=>a(xe(e[r.index])):r.index;if(Ie(n)){let o=null;if(!a&&l&&(o=function(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const e=i[s];if(e===n&&i[s+1]===r){const e=t[7],n=i[s+2];return e.length>n?e[n]:null}"string"==typeof e&&(s+=2)}return null}(e,t,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Ys(r,t,0,s,!1);const e=n.listen(p,i,s);u.push(s,e),c&&c.push(i,m,f,f+1)}}else s=Ys(r,t,0,s,!0),p.addEventListener(i,s,o),u.push(s),c&&c.push(i,m,f,o)}else s=Ys(r,t,0,s,!1);const d=r.outputs;let p;if(h&&null!==d&&(p=d[i])){const e=p.length;if(e)for(let n=0;n<e;n+=2){const e=t[p[n]][p[n+1]].subscribe(s),o=u.length;u.push(s,e),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,e,t,!!n,r),$s}function Ks(e,t,n,r){try{return!1!==n(r)}catch(i){return es(e,i),!1}}function Ys(e,t,n,r,i){return function n(s){if(s===Function)return r;const o=2&e.flags?Ne(e.index,t):t;0==(32&t[2])&&$i(o);let a=Ks(t,0,r,s),l=n.__ngNextListenerFn__;for(;l;)a=Ks(t,0,l,s)&&a,l=l.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Ws(e=1){return function(e){return(Ue.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Ue.lFrame.contextLView))[8]}(e)}function Qs(e,t){let n=null;const r=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let i=0;i<t.length;i++){const s=t[i];if("*"!==s){if(null===r?ri(e,s,!0):ii(r,s))return i}else n=i}return n}function Js(e){const t=je()[16][6];if(!t.projection){const n=t.projection=cn(e?e.length:1,null),r=n.slice();let i=t.child;for(;null!==i;){const t=e?Qs(i,e):0;null!==t&&(r[t]?r[t].projectionNext=i:n[t]=i,r[t]=i),i=i.next}}}function Xs(e,t=0,n){const r=je(),i=Ze(),s=_i(i,le+e,16,null,n||null);null===s.projection&&(s.projection=t),Ke(),64!=(64&s.flags)&&function(e,t,n){Gr(t[11],0,t,n,Nr(e,n,t),Vr(n.parent||t[6],n,t))}(i,r,s)}function eo(e,t,n){return to(e,"",t,"",n),eo}function to(e,t,n,r,i){const s=je(),o=Ds(s,t,n,r);return o!==ai&&Ri(Ze(),pt(),s,e,o,s[11],i,!1),to}function no(e,t,n,r,i){const s=e[n+1],o=null===t;let a=r?hi(s):pi(s),l=!1;for(;0!==a&&(!1===l||o);){const n=e[a+1];ro(e[a],t)&&(l=!0,e[a+1]=r?mi(n):di(n)),a=r?hi(n):pi(n)}l&&(e[n+1]=r?di(s):mi(s))}function ro(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&dn(e,t)>=0}const io={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function so(e){return e.substring(io.key,io.keyEnd)}function oo(e,t){const n=io.textEnd;return n===t?-1:(t=io.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,io.key=t,n),ao(e,t,n))}function ao(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function lo(e,t,n){return ho(e,t,n,!1),lo}function co(e,t){return ho(e,t,null,!0),co}function uo(e,t){for(let n=function(e){return function(e){io.key=0,io.keyEnd=0,io.value=0,io.valueEnd=0,io.textEnd=e.length}(e),oo(e,ao(e,0,io.textEnd))}(t);n>=0;n=oo(t,n))un(e,so(t),!0)}function ho(e,t,n,r){const i=je(),s=Ze(),o=Je(2);s.firstUpdatePass&&fo(s,e,o,r),t!==ai&&Os(i,o,t)&&yo(s,s.data[ht()],i,i[11],e,i[o+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=u(Ln(e)))),e}(t,n),r,o)}function po(e,t){return t>=e.expandoStartIndex}function fo(e,t,n,r){const i=e.data;if(null===i[n+1]){const s=i[ht()],o=po(e,n);bo(s,r)&&null===t&&!o&&(t=!1),t=function(e,t,n,r){const i=function(e){const t=Ue.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=go(n=mo(null,e,t,n,r),t.attrs,r),s=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==i)if(n=mo(i,e,t,n,r),null===s){let n=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==pi(r))return e[hi(r)]}(e,t,r);void 0!==n&&Array.isArray(n)&&(n=mo(null,e,t,n[1],r),n=go(n,t.attrs,r),function(e,t,n,r){e[hi(n?t.classBindings:t.styleBindings)]=r}(e,t,r,n))}else s=function(e,t,n){let r;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)r=go(r,e[s].hostAttrs,n);return go(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(i,s,t,r),function(e,t,n,r,i,s){let o=s?t.classBindings:t.styleBindings,a=hi(o),l=pi(o);e[r]=n;let c,u=!1;if(Array.isArray(n)){const e=n;c=e[1],(null===c||dn(e,c)>0)&&(u=!0)}else c=n;if(i)if(0!==l){const t=hi(e[a+1]);e[r+1]=ui(t,a),0!==t&&(e[t+1]=fi(e[t+1],r)),e[a+1]=131071&e[a+1]|r<<17}else e[r+1]=ui(a,0),0!==a&&(e[a+1]=fi(e[a+1],r)),a=r;else e[r+1]=ui(l,0),0===a?a=r:e[l+1]=fi(e[l+1],r),l=r;u&&(e[r+1]=di(e[r+1])),no(e,c,r,!0),no(e,c,r,!1),function(e,t,n,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&dn(s,t)>=0&&(n[r+1]=mi(n[r+1]))}(t,c,e,r,s),o=ui(a,l),s?t.classBindings=o:t.styleBindings=o}(i,s,t,n,o,r)}}function mo(e,t,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=t[a],r=go(r,s.hostAttrs,i),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function go(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),un(e,o,!!n||t[++s]))}return void 0===e?null:e}function yo(e,t,n,r,i,s,o,a){if(!(3&t.type))return;const l=e.data,c=l[a+1];vo(1==(1&c)?_o(l,t,n,i,pi(c),o):void 0)||(vo(s)||2==(2&c)&&(s=_o(l,null,n,i,a,o)),function(e,t,n,r,i){const s=Ie(e);if(t)i?s?e.addClass(n,r):n.classList.add(r):s?e.removeClass(n,r):n.classList.remove(r);else{let t=-1===r.indexOf("-")?void 0:wr.DashCase;if(null==i)s?e.removeStyle(n,r,t):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),t|=wr.Important),s?e.setStyle(n,r,i,t):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Ae(ht(),n),i,s))}function _o(e,t,n,r,i,s){const o=null===t;let a;for(;i>0;){const t=e[i],s=Array.isArray(t),l=s?t[1]:t,c=null===l;let u=n[i+1];u===ai&&(u=c?Z:void 0);let h=c?hn(u,r):l===r?u:void 0;if(s&&!vo(h)&&(h=hn(t,r)),vo(h)&&(a=h,o))return a;const d=e[i+1];i=o?hi(d):pi(d)}if(null!==t){let e=s?t.residualClasses:t.residualStyles;null!=e&&(a=hn(e,r))}return a}function vo(e){return void 0!==e}function bo(e,t){return 0!=(e.flags&(t?16:32))}function wo(e,t=""){const n=je(),r=Ze(),i=e+le,s=r.firstCreatePass?_i(r,i,1,t,null):r.data[i],o=n[i]=function(e,t){return Ie(e)?e.createText(t):e.createTextNode(t)}(n[11],t);qr(r,n,o,s),Ge(s,!1)}function So(e){return Eo("",e,""),So}function Eo(e,t,n){const r=je(),i=Ds(r,e,t,n);return i!==ai&&function(e,t,n){const r=Ae(t,e);!function(e,t,n){Ie(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}(r,ht(),i),Eo}function Co(e,t,n){!function(e,t,n,r){const i=Ze(),s=Je(2);i.firstUpdatePass&&fo(i,null,s,r);const o=je();if(n!==ai&&Os(o,s,n)){const a=i.data[ht()];if(bo(a,r)&&!po(i,s)){let e=a.classesWithoutHost;null!==e&&(n=h(e,n||"")),Ms(i,a,o,n,r)}else!function(e,t,n,r,i,s,o,a){i===ai&&(i=Z);let l=0,c=0,u=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==u||null!==h;){const o=l<i.length?i[l+1]:void 0,d=c<s.length?s[c+1]:void 0;let p,f=null;u===h?(l+=2,c+=2,o!==d&&(f=h,p=d)):null===h||null!==u&&u<h?(l+=2,f=u):(c+=2,f=h,p=d),null!==f&&yo(e,t,n,r,f,p,true,a),u=l<i.length?i[l]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(e,t,n){if(null==n||""===n)return Z;const r=[],i=Ln(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)e(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&e(r,s,i[s]);else"string"==typeof i&&t(r,i);return r}(e,t,n),0,s)}}(un,uo,Ds(je(),e,t,n),!0)}function To(e,t,n){const r=je();return Os(r,Qe(),t)&&Ri(Ze(),pt(),r,e,t,r[11],n,!0),To}const Io=void 0;var ko=["en",[["a","p"],["AM","PM"],Io],[["AM","PM"],Io,Io],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Io,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Io,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Io,"{1} 'at' {0}",Io],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let xo={};function Ao(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Ro(t);if(n)return n;const r=t.split("-")[0];if(n=Ro(r),n)return n;if("en"===r)return ko;throw new Error(`Missing locale data for the locale "${e}".`)}function Oo(e){return Ao(e)[Do.PluralCase]}function Ro(e){return e in xo||(xo[e]=q.ng&&q.ng.common&&q.ng.common.locales&&q.ng.common.locales[e]),xo[e]}var Do=(()=>((Do=Do||{})[Do.LocaleId=0]="LocaleId",Do[Do.DayPeriodsFormat=1]="DayPeriodsFormat",Do[Do.DayPeriodsStandalone=2]="DayPeriodsStandalone",Do[Do.DaysFormat=3]="DaysFormat",Do[Do.DaysStandalone=4]="DaysStandalone",Do[Do.MonthsFormat=5]="MonthsFormat",Do[Do.MonthsStandalone=6]="MonthsStandalone",Do[Do.Eras=7]="Eras",Do[Do.FirstDayOfWeek=8]="FirstDayOfWeek",Do[Do.WeekendRange=9]="WeekendRange",Do[Do.DateFormat=10]="DateFormat",Do[Do.TimeFormat=11]="TimeFormat",Do[Do.DateTimeFormat=12]="DateTimeFormat",Do[Do.NumberSymbols=13]="NumberSymbols",Do[Do.NumberFormats=14]="NumberFormats",Do[Do.CurrencyCode=15]="CurrencyCode",Do[Do.CurrencySymbol=16]="CurrencySymbol",Do[Do.CurrencyName=17]="CurrencyName",Do[Do.Currencies=18]="Currencies",Do[Do.Directionality=19]="Directionality",Do[Do.PluralCase=20]="PluralCase",Do[Do.ExtraData=21]="ExtraData",Do))();const No="en-US";let Po=No;function Lo(e){var t,n;n="Expected localeId to be defined",null==(t=e)&&function(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e} [Expected=> null != ${t} <=Actual]`)}(n,t),"string"==typeof e&&(Po=e.toLowerCase().replace(/_/g,"-"))}function Fo(e,t,n,r,i){if(e=f(e),Array.isArray(e))for(let s=0;s<e.length;s++)Fo(e[s],t,n,r,i);else{const s=Ze(),o=je();let a=gs(e)?e:f(e.provide),l=ps(e);const c=He(),u=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(gs(e)||!e.multi){const r=new St(l,i,Ls),p=Uo(a,t,i?u:u+d,h);-1===p?(Vt(Pt(c,o),s,a),Mo(s,e,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[p]=r,o[p]=r)}else{const p=Uo(a,t,u+d,h),f=Uo(a,t,u,u+d),m=p>=0&&n[p],g=f>=0&&n[f];if(i&&!g||!i&&!m){Vt(Pt(c,o),s,a);const u=function(e,t,n,r,i){const s=new St(e,n,Ls);return s.multi=[],s.index=t,s.componentProviders=0,Vo(s,i,r&&!n),s}(i?jo:qo,n.length,i,r,l);!i&&g&&(n[f].providerFactory=u),Mo(s,e,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(u),o.push(u)}else Mo(s,e,p>-1?p:f,Vo(n[i?f:p],l,!i&&r));!i&&r&&g&&n[f].componentProviders++}}}function Mo(e,t,n,r){const i=gs(t);if(i||t.useClass){const s=(t.useClass||t).prototype.ngOnDestroy;if(s){const o=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const e=o.indexOf(n);-1===e?o.push(n,[r,s]):o[e+1].push(r,s)}else o.push(n,s)}}}function Vo(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Uo(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function qo(e,t,n,r){return Zo(this.multi,[])}function jo(e,t,n,r){const i=this.multi;let s;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=Gt(n,n[1],this.providerFactory.index,r);s=t.slice(0,e),Zo(i,s);for(let n=e;n<t.length;n++)s.push(t[n])}else s=[],Zo(i,s);return s}function Zo(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Bo(e,t=[]){return n=>{n.providersResolver=(n,r)=>function(e,t,n){const r=Ze();if(r.firstCreatePass){const i=me(e);Fo(n,r.data,r.blueprint,i,!0),Fo(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}class Ho{}class zo{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${u(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}class Go{}function $o(...e){}function Ko(e,t){return new Wo(Oe(e,t))}Go.NULL=new zo;const Yo=function(){return Ko(He(),je())};let Wo=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=Yo,e})();function Qo(e){return e instanceof Wo?e.nativeElement:e}class Jo{}let Xo=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>ea(),e})();const ea=function(){const e=je(),t=Ne(He().index,e);return function(e){return e[11]}(ue(t)?t:e)};let ta=(()=>{class e{}return e.\u0275prov=b({token:e,providedIn:"root",factory:()=>null}),e})();class na{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const ra=new na("12.1.5");class ia{constructor(){}supports(e){return xs(e)}create(e){return new oa(e)}}const sa=(e,t)=>t;class oa{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||sa}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,i=null;for(;t||n;){const s=!n||t&&t.currentIndex<ua(n,r,i)?t:n,o=ua(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{i||(i=[]);const e=o-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;t<=s&&s<e&&(i[n]=r+1)}i[s.previousIndex]=t-e}}o!==a&&e(s,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!xs(e))throw new Error(`Error trying to diff '${u(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,i=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,t)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,t),s=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Is()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,e,r,t)),Object.is(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,r,t),s=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):e=this._addAfter(new aa(t,n),i,r),e}_verifyReinsertion(e,t,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new ca),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ca),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class aa{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class la{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class ca{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new la,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ua(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class ha{constructor(){}supports(e){return e instanceof Map||As(e)}create(){return new da}}class da{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||As(e)))throw new Error(`Error trying to diff '${u(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new pa(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class pa{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fa(){return new ma([new ia])}let ma=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||fa()),deps:[[e,new In,new Tn]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.\u0275prov=b({token:e,providedIn:"root",factory:fa}),e})();function ga(){return new ya([new ha])}let ya=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||ga()),deps:[[e,new In,new Tn]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=b({token:e,providedIn:"root",factory:ga}),e})();function _a(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&r.push(xe(s)),he(s))for(let e=ce;e<s.length;e++){const t=s[e],n=t[1].firstChild;null!==n&&_a(t[1],t,n,r)}const o=n.type;if(8&o)_a(e,t,n.child,r);else if(32&o){const e=Sr(n,t);let i;for(;i=e();)r.push(i)}else if(16&o){const e=Zr(t,n);if(Array.isArray(e))r.push(...e);else{const n=Er(t[16]);_a(n[1],n,e,r,!0)}}n=i?n.projectionNext:n.next}return r}class va{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return _a(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(he(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(Or(e,n),ln(t,n))}this._attachedToViewContainer=!1}Rr(this._lView[1],this._lView)}onDestroy(e){Ai(this._lView[1],this._lView,null,e)}markForCheck(){$i(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ki(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){We(!0);try{Ki(e,t,n)}finally{We(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,zr(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class ba extends va{constructor(e){super(e),this._view=e}detectChanges(){Yi(this._view)}checkNoChanges(){!function(e){We(!0);try{Yi(e)}finally{We(!1)}}(this._view)}get context(){return null}}const wa=function(e){return function(e,t,n){if(pe(e)&&!n){const n=Ne(e.index,t);return new va(n,n)}return 47&e.type?new va(t[16],t):null}(He(),je(),16==(16&e))};let Sa=(()=>{class e{}return e.__NG_ELEMENT_ID__=wa,e})();const Ea=[new ha],Ca=new ma([new ia]),Ta=new ya(Ea),Ia=function(){return Oa(He(),je())};let ka=(()=>{class e{}return e.__NG_ELEMENT_ID__=Ia,e})();const xa=ka,Aa=class extends xa{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=yi(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),bi(t,n,e),new va(n)}};function Oa(e,t){return 4&e.type?new Aa(t,e,Ko(e,t)):null}class Ra{}class Da{}const Na=function(){return Ua(He(),je())};let Pa=(()=>{class e{}return e.__NG_ELEMENT_ID__=Na,e})();const La=Pa,Fa=class extends La{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return Ko(this._hostTNode,this._hostLView)}get injector(){return new Yt(this._hostTNode,this._hostLView)}get parentInjector(){const e=Mt(this._hostTNode,this._hostLView);if(xt(e)){const t=Ot(e,this._hostLView),n=At(e);return new Yt(t[1].data[n+8],t)}return new Yt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Ma(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-ce}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const s=n||this.parentInjector;if(!i&&null==e.ngModule&&s){const e=s.get(Ra,null);e&&(i=e)}const o=e.create(s,r,void 0,i);return this.insert(o.hostView,t),o}insert(e,t){const n=e._lView,r=n[1];if(he(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],r=new Fa(t,t[6],t[3]);r.detach(r.indexOf(e))}}const i=this._adjustIndex(t),s=this._lContainer;!function(e,t,n,r){const i=ce+r,s=n.length;r>0&&(n[i-1][4]=t),r<s-ce?(t[4]=n[i],an(n,ce+r,t)):(n.push(t),t[4]=null),t[3]=n;const o=t[17];null!==o&&n!==o&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,n,s,i);const o=Br(i,s),a=n[11],l=Mr(a,s[7]);return null!==l&&function(e,t,n,r,i,s){r[0]=i,r[6]=t,zr(e,r,n,1,i,s)}(r,s[6],a,n,l,o),e.attachToViewContainerRef(),an(Va(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Ma(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=Or(this._lContainer,t);n&&(ln(Va(this._lContainer),t),Rr(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=Or(this._lContainer,t);return n&&null!=ln(Va(this._lContainer),t)?new va(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function Ma(e){return e[8]}function Va(e){return e[8]||(e[8]=[])}function Ua(e,t){let n;const r=t[e.index];if(he(r))n=r;else{let i;if(8&e.type)i=xe(r);else{const n=t[11];i=n.createComment("");const r=Oe(e,t);Pr(n,Mr(n,r),i,function(e,t){return Ie(e)?e.nextSibling(t):t.nextSibling}(n,r),!1)}t[e.index]=n=Zi(r,t,i,e),Gi(t,n)}return new Fa(n,e,t)}const qa={};class ja extends Go{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=oe(e);return new Ha(t,this.ngModule)}}function Za(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const Ba=new tn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>vr});class Ha extends Ho{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(oi).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Za(this.componentDef.inputs)}get outputs(){return Za(this.componentDef.outputs)}create(e,t,n,r){const i=(r=r||this.ngModule)?function(e,t){return{get:(n,r,i)=>{const s=e.get(n,qa,i);return s!==qa||r===qa?s:t.get(n,r,i)}}}(e,r.injector):e,s=i.get(Jo,ke),o=i.get(ta,null),a=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=n?function(e,t,n){if(Ie(e))return e.selectRootElement(t,n===L.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(a,n,this.componentDef.encapsulation):xr(s.createRenderer(null,this.componentDef),l,function(e){const t=e.toLowerCase();return"svg"===t?Ee:"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:vr,clean:Qi,playerHandler:null,flags:0},d=xi(0,null,null,1,0,null,null,null,null,null),p=yi(null,d,h,u,null,null,s,a,o,i);let f,m;st(p);try{const e=function(e,t,n,r,i,s){const o=n[1];n[20]=e;const a=_i(o,20,2,"#host",null),l=a.mergedAttrs=t.hostAttrs;null!==l&&(ns(a,l,!0),null!==e&&(Et(i,e,l),null!==a.classes&&Kr(i,e,a.classes),null!==a.styles&&$r(i,e,a.styles)));const c=r.createRenderer(e,t),u=yi(n,ki(t),null,t.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(Vt(Pt(a,n),o,t.type),Li(o,a),Mi(a,n.length,1)),Gi(n,u),n[20]=u}(c,this.componentDef,p,s,a);if(c)if(n)Et(a,c,["ng-version",ra.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!ti(i))break;i=s}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&Et(a,c,e),t&&t.length>0&&Kr(a,c,t.join(" "))}if(m=Re(d,le),void 0!==t){const e=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=t[n];e.push(null!=r?Array.from(r):null)}}f=function(e,t,n,r,i){const s=n[1],o=function(e,t,n){const r=He();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Vi(e,r,t,vi(e,t,1,null),n));const i=Gt(t,e,r.directiveStart,r);fr(i,t);const s=Oe(r,t);return s&&fr(s,t),i}(s,n,t);if(r.components.push(o),e[8]=o,i&&i.forEach(e=>e(o,t)),t.contentQueries){const e=He();t.contentQueries(1,o,e.directiveStart)}const a=He();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(dt(a.index),Ni(n[1],a,0,a.directiveStart,a.directiveEnd,t),Pi(t,o)),o}(e,this.componentDef,p,h,[vs]),bi(d,p,null)}finally{ut()}return new za(this.componentType,f,Ko(m,p),p,m)}}class za extends class{}{constructor(e,t,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new ba(r),this.componentType=e}get injector(){return new Yt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const Ga=new Map;class $a extends Ra{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ja(this);const n=ae(e),r=e[$]||null;r&&Lo(r),this._bootstrapComponents=br(n.bootstrap),this._r3Injector=us(e,t,[{provide:Ra,useValue:this},{provide:Go,useValue:this.componentFactoryResolver}],u(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=_s.THROW_IF_NOT_FOUND,n=A.Default){return e===_s||e===Ra||e===rs?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Ka extends Da{constructor(e){super(),this.moduleType=e,null!==ae(e)&&function(e){const t=new Set;!function e(n){const r=ae(n,!0),i=r.id;null!==i&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${u(t)} vs ${u(t.name)}`)}(i,Ga.get(i),n),Ga.set(i,n));const s=br(r.imports);for(const o of s)t.has(o)||(t.add(o),e(o))}(e)}(e)}create(e){return new $a(this.moduleType,e)}}function Ya(e,t){const n=Ze();let r;const i=e+le;n.firstCreatePass?(r=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}throw new g("302",`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=ge(r.type)),o=R(Ls);try{const e=Dt(!1),t=s();return Dt(e),function(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,je(),i,t),t}finally{R(o)}}function Wa(e,t,n){const r=e+le,i=je(),s=De(i,r);return function(e,t){return ks.isWrapped(t)&&(t=ks.unwrap(t),e[Ue.lFrame.bindingIndex]=ai),t}(i,function(e,t){return e[1].data[t].pure}(i,r)?function(e,t,n,r,i,s){const o=t+n;return Os(e,o,i)?function(e,t,n){return e[t]=n}(e,o+1,s?r.call(s,i):r(i)):function(e,t){const n=e[t];return n===ai?void 0:n}(e,o+1)}(i,function(){const e=Ue.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),t,s.transform,n,s):s.transform(n))}function Qa(e){return t=>{setTimeout(e,void 0,t)}}const Ja=class extends r.xQ{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){var r,s,o;let a=e,l=t||(()=>null),c=n;if(e&&"object"==typeof e){const t=e;a=null===(r=t.next)||void 0===r?void 0:r.bind(t),l=null===(s=t.error)||void 0===s?void 0:s.bind(t),c=null===(o=t.complete)||void 0===o?void 0:o.bind(t)}this.__isAsync&&(l=Qa(l),a&&(a=Qa(a)),c&&(c=Qa(c)));const u=super.subscribe({next:a,error:l,complete:c});return e instanceof i.w&&e.add(u),u}};function Xa(){return this._results[Is()]()}class el{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Is(),n=el.prototype;n[t]||(n[t]=Xa)}get changes(){return this._changes||(this._changes=new Ja)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const r=sn(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class tl{constructor(e){this.queryList=e,this.matches=null}clone(){return new tl(this.queryList)}setDirty(){this.queryList.setDirty()}}class nl{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);r.push(this.queries[n.indexInDeclarationView].clone())}return new nl(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==gl(e,t).matches&&this.queries[t].setDirty()}}class rl{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class il{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,i=this.getByIndex(n).embeddedTView(e,r);i&&(i.indexInDeclarationView=n,null!==t?t.push(i):t=[i])}return null!==t?new il(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class sl{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new sl(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(e,t,ol(t,i)),this.matchTNodeWithReadOption(e,t,zt(t,e,i,!1,!1))}else n===ka?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,zt(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Wo||r===Pa||r===ka&&4&t.type)this.addMatch(t.index,-2);else{const n=zt(t,e,r,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function ol(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function al(e,t,n,r){return-1===n?function(e,t){return 11&e.type?Ko(e,t):4&e.type?Oa(e,t):null}(t,e):-2===n?function(e,t,n){return n===Wo?Ko(t,e):n===ka?Oa(t,e):n===Pa?Ua(t,e):void 0}(e,t,r):Gt(e,e[1],n,t)}function ll(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const r=e.data,s=n.matches,o=[];for(let e=0;e<s.length;e+=2){const i=s[e];o.push(i<0?null:al(t,r[i],s[e+1],n.metadata.read))}i.matches=o}return i.matches}function cl(e,t,n,r){const i=e.queries.getByIndex(n),s=i.matches;if(null!==s){const o=ll(e,t,i,n);for(let e=0;e<s.length;e+=2){const n=s[e];if(n>0)r.push(o[e/2]);else{const i=s[e+1],o=t[-n];for(let e=ce;e<o.length;e++){const t=o[e];t[17]===t[3]&&cl(t[1],t,i,r)}if(null!==o[9]){const e=o[9];for(let t=0;t<e.length;t++){const n=e[t];cl(n[1],n,i,r)}}}}}return r}function ul(e){const t=je(),n=Ze(),r=tt();nt(r+1);const i=gl(n,r);if(e.dirty&&Pe(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?cl(n,t,r,[]):ll(n,t,i,r);e.reset(s,Qo),e.notifyOnChanges()}return!0}return!1}function hl(e,t,n){const r=Ze();r.firstCreatePass&&(ml(r,new rl(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),fl(r,je(),t)}function dl(e,t,n,r){const i=Ze();if(i.firstCreatePass){const s=He();ml(i,new rl(t,n,r),s.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}fl(i,je(),n)}function pl(){return e=je(),t=tt(),e[19].queries[t].queryList;var e,t}function fl(e,t,n){const r=new el(4==(4&n));Ai(e,t,r,r.destroy),null===t[19]&&(t[19]=new nl),t[19].queries.push(new tl(r))}function ml(e,t,n){null===e.queries&&(e.queries=new il),e.queries.track(new sl(t,n))}function gl(e,t){return e.queries.getByIndex(t)}const yl=new tn("Application Initializer");let _l=(()=>{class e{constructor(e){this.appInits=e,this.resolve=$o,this.reject=$o,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();if(Hs(t))e.push(t);else if(Gs(t)){const n=new Promise((e,n)=>{t.subscribe({complete:e,error:n})});e.push(n)}}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(bn(yl,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();const vl=new tn("AppId"),bl={provide:vl,useFactory:function(){return`${wl()}${wl()}${wl()}`},deps:[]};function wl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Sl=new tn("Platform Initializer"),El=new tn("Platform ID"),Cl=new tn("appBootstrapListener");let Tl=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();const Il=new tn("LocaleId"),kl=new tn("DefaultCurrencyCode");class xl{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const Al=function(e){return new Ka(e)},Ol=Al,Rl=function(e){return Promise.resolve(Al(e))},Dl=function(e){const t=Al(e),n=br(ae(e).declarations).reduce((e,t)=>{const n=oe(t);return n&&e.push(new Ha(n)),e},[]);return new xl(t,n)},Nl=Dl,Pl=function(e){return Promise.resolve(Dl(e))};let Ll=(()=>{class e{constructor(){this.compileModuleSync=Ol,this.compileModuleAsync=Rl,this.compileModuleAndAllComponentsSync=Nl,this.compileModuleAndAllComponentsAsync=Pl}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();const Fl=(()=>Promise.resolve(0))();function Ml(e){"undefined"==typeof Zone?Fl.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Vl{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ja(!1),this.onMicrotaskEmpty=new Ja(!1),this.onStable=new Ja(!1),this.onError=new Ja(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let e=q.requestAnimationFrame,t=q.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(q,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,jl(e),e.isCheckStableRunning=!0,ql(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),jl(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return Zl(e),n.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),Bl(e)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return Zl(e),n.invoke(i,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),Bl(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,jl(e),ql(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Vl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,e,Ul,$o,$o);try{return i.runTask(s,t,n)}finally{i.cancelTask(s)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const Ul={};function ql(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function jl(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Zl(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Bl(e){e._nesting--,ql(e)}class Hl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ja,this.onMicrotaskEmpty=new Ja,this.onStable=new Ja,this.onError=new Ja}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}}let zl=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vl.assertNotInAngularZone(),Ml(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ml(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(bn(Vl))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})(),Gl=(()=>{class e{constructor(){this._applications=new Map,Wl.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Wl.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();class $l{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}function Kl(e){Wl=e}let Yl,Wl=new $l,Ql=!0,Jl=!1;function Xl(){return Jl=!0,Ql}function ec(){if(Jl)throw new Error("Cannot enable prod mode after platform setup.");Ql=!1}const tc=new tn("AllowMultipleToken");class nc{constructor(e,t){this.name=e,this.token=t}}function rc(e,t,n=[]){const r=`Platform: ${t}`,i=new tn(r);return(t=[])=>{let s=ic();if(!s||s.injector.get(tc,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{const e=n.concat(t).concat({provide:i,useValue:!0},{provide:ss,useValue:"platform"});!function(e){if(Yl&&!Yl.destroyed&&!Yl.injector.get(tc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Yl=e.get(sc);const t=e.get(Sl,null);t&&t.forEach(e=>e())}(_s.create({providers:e,name:r}))}return function(e){const t=ic();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function ic(){return Yl&&!Yl.destroyed?Yl:null}let sc=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new Hl:("zone.js"===e?void 0:e)||new Vl({enableLongStackTrace:Xl(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),r=[{provide:Vl,useValue:n}];return n.run(()=>{const t=_s.create({providers:r,parent:this.injector,name:e.moduleType.name}),i=e.create(t),s=i.injector.get(_r,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const e=n.onError.subscribe({next:e=>{s.handleError(e)}});i.onDestroy(()=>{lc(this._modules,i),e.unsubscribe()})}),function(e,t,n){try{const r=n();return Hs(r)?r.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(s,n,()=>{const e=i.injector.get(_l);return e.runInitializers(),e.donePromise.then(()=>(Lo(i.injector.get(Il,No)||No),this._moduleDoBootstrap(i),i))})})}bootstrapModule(e,t=[]){const n=oc({},t);return function(e,t,n){const r=new Ka(n);return Promise.resolve(r)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(ac);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${u(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(bn(_s))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();function oc(e,t){return Array.isArray(t)?t.reduce(oc,e):Object.assign(Object.assign({},e),t)}let ac=(()=>{class e{constructor(e,t,n,r,i){this._zone=e,this._injector=t,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.y(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),c=new s.y(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{Vl.assertNotInAngularZone(),Ml(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Vl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=(0,o.T)(l,c.pipe((0,a.B)()))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof Ho?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Ra),i=n.create(_s.NULL,[],t||n.selector,r),s=i.location.nativeElement,o=i.injector.get(zl,null),a=o&&i.injector.get(Gl);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),lc(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;lc(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Cl,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(bn(Vl),bn(_s),bn(_r),bn(Go),bn(_l))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();function lc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class cc{}class uc{}const hc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let dc=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||hc}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split("#");return void 0===r&&(r="default"),n(8255)(t).then(e=>e[r]).then(e=>pc(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+i]).then(e=>pc(e,t,r))}}return e.\u0275fac=function(t){return new(t||e)(bn(Ll),bn(uc,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();function pc(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const fc=function(e){return null},mc=rc(null,"core",[{provide:El,useValue:"unknown"},{provide:sc,deps:[_s]},{provide:Gl,deps:[]},{provide:Tl,deps:[]}]),gc=[{provide:ac,useClass:ac,deps:[Vl,_s,_r,Go,_l]},{provide:Ba,deps:[Vl],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:_l,useClass:_l,deps:[[new Tn,yl]]},{provide:Ll,useClass:Ll,deps:[]},bl,{provide:ma,useFactory:function(){return Ca},deps:[]},{provide:ya,useFactory:function(){return Ta},deps:[]},{provide:Il,useFactory:function(e){return Lo(e=e||"undefined"!=typeof $localize&&$localize.locale||No),e},deps:[[new Cn(Il),new Tn,new In]]},{provide:kl,useValue:"USD"}];let yc=(()=>{class e{constructor(e){}}return e.\u0275fac=function(t){return new(t||e)(bn(ac))},e.\u0275mod=te({type:e}),e.\u0275inj=w({providers:gc}),e})()},8939:(e,t,n)=>{"use strict";n.d(t,{hO:()=>m,xv:()=>h,Dh:()=>u,GT:()=>l,cc:()=>g,on:()=>d,pX:()=>a});var r=n(7716),i=n(7841),s=n(4459);e=n.hmd(e);const o=["ngOnDestroy"],a=(e,t,n,r={})=>new Proxy(e,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(e[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,e[s]),e[s];if(o.indexOf(s)>-1)return()=>{};const a=t.toPromise().then(e=>{const t=e&&e[s];return"function"==typeof t?t.bind(e):t&&t.then?t.then(e=>n.run(()=>e)):n.run(()=>t)});return new Proxy(()=>{},{get:(e,t)=>a[t],apply:(e,t,n)=>a.then(e=>{var t;const i=e&&e(...n);return(null===(t=null==r?void 0:r.spy)||void 0===t?void 0:t.apply)&&r.spy.apply(s,n,i),i})})})}),l=(e,t)=>{t.forEach(t=>{Object.getOwnPropertyNames(t.prototype||t).forEach(n=>{Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype||t,n))})})};class c{constructor(e){return e}}const u=new r.OlP("angularfire2.app.options"),h=new r.OlP("angularfire2.app.name");function d(t,n,r){const s="object"==typeof r&&r||{};s.name=s.name||"string"==typeof r&&r||"[DEFAULT]";const o=i.Z.apps.filter(e=>e&&e.name===s.name)[0]||n.runOutsideAngular(()=>i.Z.initializeApp(t,s));try{JSON.stringify(t)!==JSON.stringify(o.options)&&p("error",`${o.name} Firebase App already initialized with different options${e.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(a){}return new c(o)}const p=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)},f={provide:c,useFactory:d,deps:[u,r.R0b,[new r.FiY,h]]};let m=(()=>{class e{constructor(e){i.Z.registerVersion("angularfire",s.q4.full,"core"),i.Z.registerVersion("angularfire",s.q4.full,"app-compat"),i.Z.registerVersion("angular",r.q4F.full,e.toString())}static initializeApp(t,n){return{ngModule:e,providers:[{provide:u,useValue:t},{provide:h,useValue:n}]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.Lbi))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[f]}),e})();function g(e,t,n,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(t=>t[0]===e)||[];if(s)return function(e,t){try{return e.toString()===t.toString()}catch(n){return e===t}}(i,o)||(_("error",`${t} was already initialized on the ${n} Firebase App with different settings.${y?" You may need to reload as Firebase is not HMR aware.":""}`),_("warn",{is:i,was:o})),s;{const t=r();return globalThis.\u0275AngularfireInstanceCache.push([e,t,i]),t}}const y=!!e.hot,_=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4459:(e,t,n)=>{"use strict";n.d(t,{q4:()=>Dn,iC:()=>Gn,HU:()=>Hn,vb:()=>qn,JM:()=>Un});var r=n(7716),i=n(2329),s=n(6304),o=n(279),a=n(3854),l=n(8604),c=n(9306);const u="@firebase/installations",h="0.5.8",d="w:0.5.8",p="FIS_v2",f=new a.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function m(e){return e instanceof a.ZR&&e.code.includes("request-failed")}function g({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function y(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function _(e,t){return v.apply(this,arguments)}function v(){return(v=(0,s.Z)(function*(e,t){const n=(yield t.json()).error;return f.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})})).apply(this,arguments)}function b({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function w(e,{refreshToken:t}){const n=b(e);return n.append("Authorization",function(e){return`FIS_v2 ${e}`}(t)),n}function S(e){return E.apply(this,arguments)}function E(){return(E=(0,s.Z)(function*(e){const t=yield e();return t.status>=500&&t.status<600?e():t})).apply(this,arguments)}function C(e,t){return T.apply(this,arguments)}function T(){return(T=(0,s.Z)(function*({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=g(e),i=b(e),s=t.getImmediate({optional:!0});if(s){const e=yield s.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const o={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:p,appId:e.appId,sdkVersion:d})},a=yield S(()=>fetch(r,o));if(a.ok){const e=yield a.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:y(e.authToken)}}throw yield _("Create Installation",a)})).apply(this,arguments)}function I(e){return new Promise(t=>{setTimeout(t,e)})}const k=/^[cdef][\w-]{21}$/;function x(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){return(t=e,btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return k.test(t)?t:""}catch(e){return""}}function A(e){return`${e.appName}!${e.appId}`}const O=new Map;function R(e,t){const n=A(e);D(n,t),function(e,t){const n=(!N&&"BroadcastChannel"in self&&(N=new BroadcastChannel("[Firebase] FID Change"),N.onmessage=e=>{D(e.data.key,e.data.fid)}),N);n&&n.postMessage({key:e,fid:t}),0===O.size&&N&&(N.close(),N=null)}(n,t)}function D(e,t){const n=O.get(e);if(n)for(const r of n)r(t)}let N=null;const P="firebase-installations-store";let L=null;function F(){return L||(L=(0,a.X3)("firebase-installations-database",1,(e,t)=>{switch(t){case 0:e.createObjectStore(P)}})),L}function M(e,t){return V.apply(this,arguments)}function V(){return(V=(0,s.Z)(function*(e,t){const n=A(e),r=(yield F()).transaction(P,"readwrite"),i=r.objectStore(P),s=yield i.get(n);return yield i.put(t,n),yield r.complete,s&&s.fid===t.fid||R(e,t.fid),t})).apply(this,arguments)}function U(e){return q.apply(this,arguments)}function q(){return(q=(0,s.Z)(function*(e){const t=A(e),n=(yield F()).transaction(P,"readwrite");yield n.objectStore(P).delete(t),yield n.complete})).apply(this,arguments)}function j(e,t){return Z.apply(this,arguments)}function Z(){return(Z=(0,s.Z)(function*(e,t){const n=A(e),r=(yield F()).transaction(P,"readwrite"),i=r.objectStore(P),s=yield i.get(n),o=t(s);return void 0===o?yield i.delete(n):yield i.put(o,n),yield r.complete,!o||s&&s.fid===o.fid||R(e,o.fid),o})).apply(this,arguments)}function B(e){return H.apply(this,arguments)}function H(){return(H=(0,s.Z)(function*(e){let t;const n=yield j(e.appConfig,n=>{const r=z(n),i=G(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:yield t}:{installationEntry:n,registrationPromise:t}})).apply(this,arguments)}function z(e){return Q(e||{fid:x(),registrationStatus:0})}function G(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(f.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return $.apply(this,arguments)}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:K(e)}:{installationEntry:t}}function $(){return($=(0,s.Z)(function*(e,t){try{const n=yield C(e,t);return M(e.appConfig,n)}catch(n){throw m(n)&&409===n.customData.serverCode?yield U(e.appConfig):yield M(e.appConfig,{fid:t.fid,registrationStatus:0}),n}})).apply(this,arguments)}function K(e){return Y.apply(this,arguments)}function Y(){return(Y=(0,s.Z)(function*(e){let t=yield W(e.appConfig);for(;1===t.registrationStatus;)yield I(100),t=yield W(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=yield B(e);return n||t}return t})).apply(this,arguments)}function W(e){return j(e,e=>{if(!e)throw f.create("installation-not-found");return Q(e)})}function Q(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function J(e,t){return X.apply(this,arguments)}function X(){return(X=(0,s.Z)(function*({appConfig:e,heartbeatServiceProvider:t},n){const r=ee(e,n),i=w(e,n),s=t.getImmediate({optional:!0});if(s){const e=yield s.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const o={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:d,appId:e.appId}})},a=yield S(()=>fetch(r,o));if(a.ok)return y(yield a.json());throw yield _("Generate Auth Token",a)})).apply(this,arguments)}function ee(e,{fid:t}){return`${g(e)}/${t}/authTokens:generate`}function te(e){return ne.apply(this,arguments)}function ne(){return(ne=(0,s.Z)(function*(e,t=!1){let n;const r=yield j(e.appConfig,r=>{if(!le(r))throw f.create("not-registered");const i=r.authToken;if(!t&&ce(i))return r;if(1===i.requestStatus)return n=re(e,t),r;{if(!navigator.onLine)throw f.create("app-offline");const t=ue(r);return n=oe(e,t),t}});return n?yield n:r.authToken})).apply(this,arguments)}function re(e,t){return ie.apply(this,arguments)}function ie(){return(ie=(0,s.Z)(function*(e,t){let n=yield se(e.appConfig);for(;1===n.authToken.requestStatus;)yield I(100),n=yield se(e.appConfig);const r=n.authToken;return 0===r.requestStatus?te(e,t):r})).apply(this,arguments)}function se(e){return j(e,e=>{if(!le(e))throw f.create("not-registered");return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var t})}function oe(e,t){return ae.apply(this,arguments)}function ae(){return(ae=(0,s.Z)(function*(e,t){try{const n=yield J(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return yield M(e.appConfig,r),n}catch(n){if(!m(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});yield M(e.appConfig,n)}else yield U(e.appConfig);throw n}})).apply(this,arguments)}function le(e){return void 0!==e&&2===e.registrationStatus}function ce(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(e)}function ue(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function he(){return(he=(0,s.Z)(function*(e){const t=e,{installationEntry:n,registrationPromise:r}=yield B(t);return r?r.catch(console.error):te(t).catch(console.error),n.fid})).apply(this,arguments)}function de(){return(de=(0,s.Z)(function*(e,t=!1){const n=e;return yield pe(n),(yield te(n,t)).token})).apply(this,arguments)}function pe(e){return fe.apply(this,arguments)}function fe(){return(fe=(0,s.Z)(function*(e){const{registrationPromise:t}=yield B(e);t&&(yield t)})).apply(this,arguments)}function me(e){return f.create("missing-app-config-values",{valueName:e})}const ge="installations";(0,o._registerComponent)(new l.wA(ge,e=>{const t=e.getProvider("app").getImmediate();return{app:t,appConfig:function(e){if(!e||!e.options)throw me("App Configuration");if(!e.name)throw me("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw me(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),heartbeatServiceProvider:(0,o._getProvider)(t,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,o._registerComponent)(new l.wA("installations-internal",e=>{const t=e.getProvider("app").getImmediate(),n=(0,o._getProvider)(t,ge).getImmediate();return{getId:()=>function(e){return he.apply(this,arguments)}(n),getToken:e=>function(e){return de.apply(this,arguments)}(n,e)}},"PRIVATE")),(0,o.registerVersion)(u,h),(0,o.registerVersion)(u,h,"esm2017");const ye="@firebase/remote-config",_e="0.3.7",ve=new a.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class be{constructor(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const n=Date.now()-t,r=n<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${n}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return(0,s.Z)(function*(){const[n,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,n))return r;e.eTag=r&&r.eTag;const i=yield t.client.fetch(e),s=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===i.status&&s.push(t.storage.setLastSuccessfulFetchResponse(i)),yield Promise.all(s),i})()}}function we(e=navigator){return e.languages&&e.languages[0]||e.language}class Se{constructor(e,t,n,r,i,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=s}fetch(e){var t=this;return(0,s.Z)(function*(){const[n,r]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),i=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},o={sdk_version:t.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:t.appId,language_code:we()},a={method:"POST",headers:s,body:JSON.stringify(o)},l=fetch(i,a),c=new Promise((t,n)=>{e.signal.addEventListener(()=>{const e=new Error("The operation was aborted.");e.name="AbortError",n(e)})});let u;try{yield Promise.race([l,c]),u=yield l}catch(m){let e="fetch-client-network";throw"AbortError"===m.name&&(e="fetch-timeout"),ve.create(e,{originalErrorMessage:m.message})}let h=u.status;const d=u.headers.get("ETag")||void 0;let p,f;if(200===u.status){let e;try{e=yield u.json()}catch(m){throw ve.create("fetch-client-parse",{originalErrorMessage:m.message})}p=e.entries,f=e.state}if("INSTANCE_STATE_UNSPECIFIED"===f?h=500:"NO_CHANGE"===f?h=304:"NO_TEMPLATE"!==f&&"EMPTY_CONFIG"!==f||(p={}),304!==h&&200!==h)throw ve.create("fetch-status",{httpStatus:h});return{status:h,eTag:d,config:p}})()}}class Ee{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,s.Z)(function*(){const n=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,n)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:n}){var r=this;return(0,s.Z)(function*(){yield function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(ve.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(e.signal,t);try{const t=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),t}catch(i){if(!function(e){if(!(e instanceof a.ZR&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i))throw i;const t={throttleEndTimeMillis:Date.now()+(0,a.$s)(n),backoffCount:n+1};return yield r.storage.setThrottleMetadata(t),r.attemptFetch(e,t)}})()}}class Ce{constructor(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Te(e,t){const n=e.target.error||void 0;return ve.create(t,{originalErrorMessage:n&&n.message})}const Ie="app_namespace_store";class ke{constructor(e,t,n,r=function(){return new Promise((e,t)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=e=>{t(Te(e,"storage-open"))},n.onsuccess=t=>{e(t.target.result)},n.onupgradeneeded=e=>{const t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(Ie,{keyPath:"compositeKey"})}}}catch(n){t(ve.create("storage-open",{originalErrorMessage:n}))}})}()){this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,s.Z)(function*(){const n=yield t.openDbPromise;return new Promise((r,i)=>{const s=n.transaction([Ie],"readonly").objectStore(Ie),o=t.createCompositeKey(e);try{const e=s.get(o);e.onerror=e=>{i(Te(e,"storage-get"))},e.onsuccess=e=>{const t=e.target.result;r(t?t.value:void 0)}}catch(a){i(ve.create("storage-get",{originalErrorMessage:a&&a.message}))}})})()}set(e,t){var n=this;return(0,s.Z)(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const o=r.transaction([Ie],"readwrite").objectStore(Ie),a=n.createCompositeKey(e);try{const e=o.put({compositeKey:a,value:t});e.onerror=e=>{s(Te(e,"storage-set"))},e.onsuccess=()=>{i()}}catch(l){s(ve.create("storage-set",{originalErrorMessage:l&&l.message}))}})})()}delete(e){var t=this;return(0,s.Z)(function*(){const n=yield t.openDbPromise;return new Promise((r,i)=>{const s=n.transaction([Ie],"readwrite").objectStore(Ie),o=t.createCompositeKey(e);try{const e=s.delete(o);e.onerror=e=>{i(Te(e,"storage-delete"))},e.onsuccess=()=>{r()}}catch(a){i(ve.create("storage-delete",{originalErrorMessage:a&&a.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class xe{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,s.Z)(function*(){const t=e.storage.getLastFetchStatus(),n=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),i=yield t;i&&(e.lastFetchStatus=i);const s=yield n;s&&(e.lastSuccessfulFetchTimestampMillis=s);const o=yield r;o&&(e.activeConfig=o)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Ae(){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,s.Z)(function*(){if(!(0,a.hl)())return!1;try{return yield(0,a.eu)()}catch(e){return!1}})).apply(this,arguments)}(0,o._registerComponent)(new l.wA("remote-config",function(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw ve.create("registration-window");if(!(0,a.hl)())throw ve.create("indexed-db-unavailable");const{projectId:i,apiKey:s,appId:l}=n.options;if(!i)throw ve.create("registration-project-id");if(!s)throw ve.create("registration-api-key");if(!l)throw ve.create("registration-app-id");const u=new ke(l,n.name,t=t||"firebase"),h=new xe(u),d=new c.Yd(ye);d.logLevel=c.in.ERROR;const p=new Se(r,o.SDK_VERSION,t,i,s,l),f=new Ee(p,u),m=new be(f,u,h,d),g=new Ce(n,m,h,u,d);return function(e){const t=(0,a.m9)(e);t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>{t._isInitializationComplete=!0}))}(g),g},"PUBLIC").setMultipleInstances(!0)),(0,o.registerVersion)(ye,_e),(0,o.registerVersion)(ye,_e,"esm2017");const Re="/firebase-messaging-sw.js",De="/firebase-cloud-messaging-push-scope",Ne="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";var Pe=(()=>(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Pe||(Pe={})),Pe))();function Le(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Fe(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}const Me="fcm_token_details_db",Ve="fcm_token_object_Store";function Ue(e){return qe.apply(this,arguments)}function qe(){return(qe=(0,s.Z)(function*(e){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(e=>e.name).includes(Me))return null;let t=null;return(yield(0,a.X3)(Me,5,function(){var n=(0,s.Z)(function*(n,r,i,s){var o;if(r<2)return;if(!n.objectStoreNames.contains(Ve))return;const a=s.objectStore(Ve),l=yield a.index("fcmSenderId").get(e);if(yield a.clear(),l)if(2===r){const e=l;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(o=e.createTime)&&void 0!==o?o:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"==typeof e.vapidKey?e.vapidKey:Le(e.vapidKey)}}}else if(3===r){const e=l;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Le(e.auth),p256dh:Le(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Le(e.vapidKey)}}}else if(4===r){const e=l;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Le(e.auth),p256dh:Le(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Le(e.vapidKey)}}}});return function(e,t,r,i){return n.apply(this,arguments)}}())).close(),yield(0,a.Lj)(Me),yield(0,a.Lj)("fcm_vapid_details_db"),yield(0,a.Lj)("undefined"),je(t)?t:null})).apply(this,arguments)}function je(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}const Ze="firebase-messaging-store";let Be=null;function He(){return Be||(Be=(0,a.X3)("firebase-messaging-database",1,(e,t)=>{switch(t){case 0:e.createObjectStore(Ze)}})),Be}function ze(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,s.Z)(function*(e){const t=Qe(e),n=yield He(),r=yield n.transaction(Ze).objectStore(Ze).get(t);if(r)return r;{const t=yield Ue(e.appConfig.senderId);if(t)return yield $e(e,t),t}})).apply(this,arguments)}function $e(e,t){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,s.Z)(function*(e,t){const n=Qe(e),r=(yield He()).transaction(Ze,"readwrite");return yield r.objectStore(Ze).put(t,n),yield r.complete,t})).apply(this,arguments)}function Ye(e){return We.apply(this,arguments)}function We(){return(We=(0,s.Z)(function*(e){const t=Qe(e),n=(yield He()).transaction(Ze,"readwrite");yield n.objectStore(Ze).delete(t),yield n.complete})).apply(this,arguments)}function Qe({appConfig:e}){return e.appId}const Je=new a.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Xe(e,t){return et.apply(this,arguments)}function et(){return(et=(0,s.Z)(function*(e,t){const n=yield ot(e),r=lt(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{const t=yield fetch(st(e.appConfig),i);s=yield t.json()}catch(o){throw Je.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw Je.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Je.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function tt(e,t){return nt.apply(this,arguments)}function nt(){return(nt=(0,s.Z)(function*(e,t){const n=yield ot(e),r=lt(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{const n=yield fetch(`${st(e.appConfig)}/${t.token}`,i);s=yield n.json()}catch(o){throw Je.create("token-update-failed",{errorInfo:o})}if(s.error)throw Je.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Je.create("token-update-no-token");return s.token})).apply(this,arguments)}function rt(e,t){return it.apply(this,arguments)}function it(){return(it=(0,s.Z)(function*(e,t){const n={method:"DELETE",headers:yield ot(e)};try{const r=yield fetch(`${st(e.appConfig)}/${t}`,n),i=yield r.json();if(i.error)throw Je.create("token-unsubscribe-failed",{errorInfo:i.error.message})}catch(r){throw Je.create("token-unsubscribe-failed",{errorInfo:r})}})).apply(this,arguments)}function st({projectId:e}){return`https://fcmregistrations.googleapis.com/v1/projects/${e}/registrations`}function ot(e){return at.apply(this,arguments)}function at(){return(at=(0,s.Z)(function*({appConfig:e,installations:t}){const n=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function lt({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return r!==Ne&&(i.web.applicationPubKey=r),i}const ct=6048e5;function ut(e){return ht.apply(this,arguments)}function ht(){return(ht=(0,s.Z)(function*(e){const t=yield _t(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Le(t.getKey("auth")),p256dh:Le(t.getKey("p256dh"))},r=yield ze(e.firebaseDependencies);if(r){if(bt(r.subscriptionOptions,n))return Date.now()>=r.createTime+ct?ft(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield rt(e.firebaseDependencies,r.token)}catch(i){console.warn(i)}return gt(e.firebaseDependencies,n)}return gt(e.firebaseDependencies,n)})).apply(this,arguments)}function dt(e){return pt.apply(this,arguments)}function pt(){return(pt=(0,s.Z)(function*(e){const t=yield ze(e.firebaseDependencies);t&&(yield rt(e.firebaseDependencies,t.token),yield Ye(e.firebaseDependencies));const n=yield e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function ft(e,t){return mt.apply(this,arguments)}function mt(){return(mt=(0,s.Z)(function*(e,t){try{const n=yield tt(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return yield $e(e.firebaseDependencies,r),n}catch(n){throw yield dt(e),n}})).apply(this,arguments)}function gt(e,t){return yt.apply(this,arguments)}function yt(){return(yt=(0,s.Z)(function*(e,t){const n={token:yield Xe(e,t),createTime:Date.now(),subscriptionOptions:t};return yield $e(e,n),n.token})).apply(this,arguments)}function _t(e,t){return vt.apply(this,arguments)}function vt(){return(vt=(0,s.Z)(function*(e,t){return(yield e.pushManager.getSubscription())||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Fe(t)})})).apply(this,arguments)}function bt(e,t){return t.vapidKey===e.vapidKey&&t.endpoint===e.endpoint&&t.auth===e.auth&&t.p256dh===e.p256dh}function wt(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i)}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(!t.fcmOptions)return;e.fcmOptions={};const n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);const r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}(t,e),t}function St(e){return"object"==typeof e&&!!e&&"google.c.a.c_id"in e}function Et(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function Ct(e){return Je.create("missing-app-config-values",{valueName:e})}Et("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Et("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Tt{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw Ct("App Configuration Object");if(!e.name)throw Ct("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw Ct(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}function It(e){return kt.apply(this,arguments)}function kt(){return(kt=(0,s.Z)(function*(e){try{e.swRegistration=yield navigator.serviceWorker.register(Re,{scope:De}),e.swRegistration.update().catch(()=>{})}catch(t){throw Je.create("failed-service-worker-registration",{browserErrorMessage:t.message})}})).apply(this,arguments)}function xt(e,t){return At.apply(this,arguments)}function At(){return(At=(0,s.Z)(function*(e,t){if(t||e.swRegistration||(yield It(e)),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw Je.create("invalid-sw-registration");e.swRegistration=t}})).apply(this,arguments)}function Ot(e,t){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,s.Z)(function*(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=Ne)})).apply(this,arguments)}function Dt(){return(Dt=(0,s.Z)(function*(e,t){if(!navigator)throw Je.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Je.create("permission-blocked");return yield Ot(e,null==t?void 0:t.vapidKey),yield xt(e,null==t?void 0:t.serviceWorkerRegistration),ut(e)})).apply(this,arguments)}function Nt(e,t,n){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,s.Z)(function*(e,t,n){const r=Lt(t);(yield e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n["google.c.a.c_id"],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Lt(e){switch(e){case Pe.NOTIFICATION_CLICKED:return"notification_open";case Pe.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ft(){return(Ft=(0,s.Z)(function*(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Pe.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(wt(n)):e.onMessageHandler.next(wt(n)));const r=n.data;St(r)&&"1"===r["google.c.a.e"]&&(yield Nt(e,n.messageType,r))})).apply(this,arguments)}const Mt="@firebase/messaging",Vt="0.9.12";function Ut(){return qt.apply(this,arguments)}function qt(){return(qt=(0,s.Z)(function*(){try{yield(0,a.eu)()}catch(e){return!1}return"undefined"!=typeof window&&(0,a.hl)()&&(0,a.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,o._registerComponent)(new l.wA("messaging",e=>{const t=new Tt(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>function(e,t){return Ft.apply(this,arguments)}(t,e)),t},"PUBLIC")),(0,o._registerComponent)(new l.wA("messaging-internal",e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>function(e,t){return Dt.apply(this,arguments)}(t,e)}},"PRIVATE")),(0,o.registerVersion)(Mt,Vt),(0,o.registerVersion)(Mt,Vt,"esm2017");const jt="analytics",Zt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Bt="https://www.googletagmanager.com/gtag/js",Ht=new c.Yd("@firebase/analytics");function zt(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function Gt(e,t){const n=document.createElement("script");n.src=`${Bt}?l=${e}&id=${t}`,n.async=!0,document.head.appendChild(n)}function $t(e,t,n,r,i,s){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,s.Z)(function*(e,t,n,r,i,s){const o=r[i];try{if(o)yield t[o];else{const e=(yield zt(n)).find(e=>e.measurementId===i);e&&(yield t[e.appId])}}catch(a){Ht.error(a)}e("config",i,s)})).apply(this,arguments)}function Yt(e,t,n,r,i){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,s.Z)(function*(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=yield zt(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(t)),yield Promise.all(s),e("event",r,i||{})}catch(s){Ht.error(s)}})).apply(this,arguments)}function Qt(){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Bt))return t;return null}const Jt=new a.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Xt=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function en(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function tn(e){return nn.apply(this,arguments)}function nn(){return(nn=(0,s.Z)(function*(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:en(r)},s=Zt.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let e="";try{const n=yield o.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw Jt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()})).apply(this,arguments)}function rn(e){return sn.apply(this,arguments)}function sn(){return(sn=(0,s.Z)(function*(e,t=Xt,n){const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw Jt.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Jt.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new un;return setTimeout((0,s.Z)(function*(){l.abort()}),void 0!==n?n:6e4),on({appId:r,apiKey:i,measurementId:o},a,l,t)})).apply(this,arguments)}function on(e,t,n){return an.apply(this,arguments)}function an(){return(an=(0,s.Z)(function*(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=Xt){const{appId:s,measurementId:o}=e;try{yield ln(r,t)}catch(l){if(o)return Ht.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l.message}]`),{appId:s,measurementId:o};throw l}try{const t=yield tn(e);return i.deleteThrottleMetadata(s),t}catch(l){if(!cn(l)){if(i.deleteThrottleMetadata(s),o)return Ht.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l.message}]`),{appId:s,measurementId:o};throw l}const t=503===Number(l.customData.httpStatus)?(0,a.$s)(n,i.intervalMillis,30):(0,a.$s)(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+t,backoffCount:n+1};return i.setThrottleMetadata(s,c),Ht.debug(`Calling attemptFetch again in ${t} millis`),on(e,c,r,i)}})).apply(this,arguments)}function ln(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(Jt.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function cn(e){if(!(e instanceof a.ZR&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}class un{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function hn(){return dn.apply(this,arguments)}function dn(){return(dn=(0,s.Z)(function*(){if(!(0,a.hl)())return Ht.warn(Jt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,a.eu)()}catch(e){return Ht.warn(Jt.create("indexeddb-unavailable",{errorInfo:e}).message),!1}return!0})).apply(this,arguments)}function pn(){return(pn=(0,s.Z)(function*(e,t,n,r,i,s,o){var a;const l=rn(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Ht.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>Ht.error(e)),t.push(l);const c=hn().then(e=>e?r.getId():void 0),[u,h]=yield Promise.all([l,c]);Qt()||Gt(s,u.measurementId),i("js",new Date);const d=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return d.origin="firebase",d.update=!0,null!=h&&(d.firebase_id=h),i("config",u.measurementId,d),u.measurementId})).apply(this,arguments)}class fn{constructor(e){this.app=e}_delete(){return delete mn[this.app.options.appId],Promise.resolve()}}let mn={},gn=[];const yn={};let _n,vn,bn="dataLayer",wn=!1;function Sn(){return(Sn=(0,s.Z)(function*(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=yield t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}})).apply(this,arguments)}function En(){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,s.Z)(function*(){if((0,a.ru)())return!1;if(!(0,a.zI)())return!1;if(!(0,a.hl)())return!1;try{return yield(0,a.eu)()}catch(e){return!1}})).apply(this,arguments)}const Tn="@firebase/analytics",In="0.7.8";(0,o._registerComponent)(new l.wA(jt,(e,{options:t})=>function(e,t,n){!function(){const e=[];if((0,a.ru)()&&e.push("This is a browser extension environment."),(0,a.zI)()||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),n=Jt.create("invalid-analytics-context",{errorInfo:t});Ht.warn(n.message)}}();const r=e.options.appId;if(!r)throw Jt.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Jt.create("no-api-key");Ht.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=mn[r])throw Jt.create("already-exists",{id:r});if(!wn){!function(e){let t=[];Array.isArray(window.dataLayer)?t=window.dataLayer:window.dataLayer=t}();const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let o=function(...e){window.dataLayer.push(arguments)};return window.gtag&&"function"==typeof window.gtag&&(o=window.gtag),window.gtag=function(e,t,n,r){function i(){return(i=(0,s.Z)(function*(i,s,o){try{"event"===i?yield Yt(e,t,n,s,o):"config"===i?yield $t(e,t,n,r,s,o):e("set",s)}catch(a){Ht.error(a)}})).apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(o,e,t,n),{gtagCore:o,wrappedGtag:window.gtag}}(mn,gn,yn);vn=e,_n=t,wn=!0}return mn[r]=function(e,t,n,r,i,s,o){return pn.apply(this,arguments)}(e,gn,yn,t,_n,bn,n),new fn(e)}(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,o._registerComponent)(new l.wA("analytics-internal",function(e){try{const t=e.getProvider(jt).getImmediate();return{logEvent:(e,n,r)=>function(e,t,n,r){e=(0,a.m9)(e),function(e,t,n,r,i){return Sn.apply(this,arguments)}(vn,mn[e.app.options.appId],t,n,r).catch(e=>Ht.error(e))}(t,e,n,r)}}catch(t){throw Jt.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,o.registerVersion)(Tn,In),(0,o.registerVersion)(Tn,In,"esm2017");var kn=n(7771),xn=n(3637),An=n(3342),On=n(9673),Rn=n(9746);const Dn=new r.GfV("7.3.0"),Nn="__angularfire_symbol__analyticsIsSupportedValue",Pn="__angularfire_symbol__analyticsIsSupported",Ln="__angularfire_symbol__remoteConfigIsSupportedValue",Fn="__angularfire_symbol__remoteConfigIsSupported",Mn="__angularfire_symbol__messagingIsSupportedValue",Vn="__angularfire_symbol__messagingIsSupported";function Un(e,t,n){if(t){if(1===t.length)return t[0];const e=t.filter(e=>e.app===n);if(1===e.length)return e[0]}return n.container.getProvider(e).getImmediate({optional:!0})}globalThis[Pn]||(globalThis[Pn]=En().then(e=>globalThis[Nn]=e).catch(()=>globalThis[Nn]=!1)),globalThis[Vn]||(globalThis[Vn]=Ut().then(e=>globalThis[Mn]=e).catch(()=>globalThis[Mn]=!1)),globalThis[Fn]||(globalThis[Fn]=Ae().then(e=>globalThis[Ln]=e).catch(()=>globalThis[Ln]=!1));const qn=(e,t)=>{const n=t?[t]:(0,i.C6)(),r=[];return n.forEach(t=>{t.container.getProvider(e).instances.forEach(e=>{r.includes(e)||r.push(e)})}),r};function jn(){}class Zn{constructor(e,t=kn.N){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,n){const r=this.zone;return this.delegate.schedule(function(t){r.runGuarded(()=>{e.apply(this,[t])})},t,n)}}class Bn{constructor(e){this.zone=e,this.task=null}call(e,t){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",jn,{},jn,jn)),t.pipe((0,An.b)({next:n,complete:n,error:n})).subscribe(e).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Hn=(()=>{class e{constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new Zn(Zone.current)),this.insideAngular=e.run(()=>new Zn(Zone.current,xn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function zn(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return e}function Gn(e){return zn(),(t=zn(),function(e){return(e=e.lift(new Bn(t.ngZone))).pipe((0,On.R)(t.outsideAngular),(0,Rn.QV)(t.insideAngular))})(e);var t}},156:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(3854),i=n(8604),s=n(279),o=n(9306);class a{constructor(e,t){this._delegate=e,this.firebase=t,(0,s._addComponent)(e,new i.wA("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,s.deleteApp)(this._delegate)))}_getService(e,t=s._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=s._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,s._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,s._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const l=new r.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),c=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(i,o={}){const a=s.initializeApp(i,o);if((0,r.r3)(t,a.name))return t[a.name];const l=new e(a,n);return t[a.name]=l,l},app:i,registerVersion:s.registerVersion,setLogLevel:s.setLogLevel,onLog:s.onLog,apps:null,SDK_VERSION:s.SDK_VERSION,INTERNAL:{registerComponent:function(t){const o=t.name,a=o.replace("-compat","");if(s._registerComponent(t)&&"PUBLIC"===t.type){const s=(e=i())=>{if("function"!=typeof e[a])throw l.create("invalid-app-argument",{appName:o});return e[a]()};void 0!==t.serviceProps&&(0,r.ZB)(s,t.serviceProps),n[a]=s,e.prototype[a]=function(...e){return this._getService.bind(this,o).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:s}};function i(e){if(!(0,r.r3)(t,e=e||s._DEFAULT_ENTRY_NAME))throw l.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(e=>t[e])}}),i.App=e,n}(a);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,r.ZB)(t,e)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),t}(),u=new o.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){u.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&u.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const h=c;(0,s.registerVersion)("@firebase/app-compat","0.1.22",void 0)},279:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FirebaseError:()=>o.ZR,SDK_VERSION:()=>E,_DEFAULT_ENTRY_NAME:()=>h,_addComponent:()=>m,_addOrOverwriteComponent:()=>g,_apps:()=>p,_clearComponents:()=>b,_components:()=>f,_getProvider:()=>_,_registerComponent:()=>y,_removeServiceInstance:()=>v,deleteApp:()=>k,getApp:()=>T,getApps:()=>I,initializeApp:()=>C,onLog:()=>O,registerVersion:()=>A,setLogLevel:()=>R});var r=n(6304),i=n(8604),s=n(9306),o=n(3854);class a{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const l="@firebase/app",c="0.7.21",u=new s.Yd("@firebase/app"),h="[DEFAULT]",d={[l]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},p=new Map,f=new Map;function m(e,t){try{e.container.addComponent(t)}catch(n){u.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function g(e,t){e.container.addOrOverwriteComponent(t)}function y(e){const t=e.name;if(f.has(t))return u.debug(`There were multiple attempts to register component ${t}.`),!1;f.set(t,e);for(const n of p.values())m(n,e);return!0}function _(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function v(e,t,n=h){_(e,t).clearInstance(n)}function b(){f.clear()}const w=new o.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class S{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw w.create("app-deleted",{appName:this._name})}}const E="9.6.11";function C(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:h,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw w.create("bad-app-name",{appName:String(r)});const s=p.get(r);if(s){if((0,o.vZ)(e,s.options)&&(0,o.vZ)(n,s.config))return s;throw w.create("duplicate-app",{appName:r})}const a=new i.H0(r);for(const i of f.values())a.addComponent(i);const l=new S(e,n,a);return p.set(r,l),l}function T(e=h){const t=p.get(e);if(!t)throw w.create("no-app",{appName:e});return t}function I(){return Array.from(p.values())}function k(e){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(function*(e){const t=e.name;p.has(t)&&(p.delete(t),yield Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)})).apply(this,arguments)}function A(e,t,n){var r;let s=null!==(r=d[e])&&void 0!==r?r:e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${s}" with version "${t}":`];return o&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void u.warn(e.join(" "))}y(new i.wA(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}function O(e,t){if(null!==e&&"function"!=typeof e)throw w.create("invalid-log-argument");(0,s.Am)(e,t)}function R(e){(0,s.Ub)(e)}const D="firebase-heartbeat-store";let N=null;function P(){return N||(N=(0,o.X3)("firebase-heartbeat-database",1,(e,t)=>{switch(t){case 0:e.createObjectStore(D)}}).catch(e=>{throw w.create("storage-open",{originalErrorMessage:e.message})})),N}function L(){return(L=(0,r.Z)(function*(e){try{return(yield P()).transaction(D).objectStore(D).get(V(e))}catch(t){throw w.create("storage-get",{originalErrorMessage:t.message})}})).apply(this,arguments)}function F(e,t){return M.apply(this,arguments)}function M(){return(M=(0,r.Z)(function*(e,t){try{const n=(yield P()).transaction(D,"readwrite"),r=n.objectStore(D);return yield r.put(t,V(e)),n.complete}catch(n){throw w.create("storage-set",{originalErrorMessage:n.message})}})).apply(this,arguments)}function V(e){return`${e.name}!${e.options.appId}`}class U{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new j(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}triggerHeartbeat(){var e=this;return(0,r.Z)(function*(){const t=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=q();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==n&&!e._heartbeatsCache.heartbeats.some(e=>e.date===n))return e._heartbeatsCache.heartbeats.push({date:n,agent:t}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return(0,r.Z)(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=q(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Z(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Z(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),i=(0,o.L)(JSON.stringify({version:2,heartbeats:n}));return e._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(e._heartbeatsCache.heartbeats=r,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),i})()}}function q(){return(new Date).toISOString().substring(0,10)}class j{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,r.Z)(function*(){return!!(0,o.hl)()&&(0,o.eu)().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return(0,r.Z)(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function(e){return L.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return(0,r.Z)(function*(){var n;if(yield t._canUseIndexedDBPromise){const r=yield t.read();return F(t.app,{lastSentHeartbeatDate:null!==(n=e.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return(0,r.Z)(function*(){var n;if(yield t._canUseIndexedDBPromise){const r=yield t.read();return F(t.app,{lastSentHeartbeatDate:null!==(n=e.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}})()}}function Z(e){return(0,o.L)(JSON.stringify({version:2,heartbeats:e})).length}y(new i.wA("platform-logger",e=>new a(e),"PRIVATE")),y(new i.wA("heartbeat",e=>new U(e),"PRIVATE")),A(l,c,""),A(l,c,"esm2017"),A("fire-js","")},8604:(e,t,n)=>{"use strict";n.d(t,{wA:()=>s,H0:()=>l});var r=n(6304),i=n(3854);class s{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const o="[DEFAULT]";class a{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new i.BH;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return(0,r.Z)(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(i)&&s.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===o?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(i){}var r;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class l{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new a(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},9306:(e,t,n)=>{"use strict";n.d(t,{in:()=>i,Yd:()=>c,Ub:()=>u,Am:()=>h});const r=[];var i=(()=>(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={})),i))();const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},o=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=a[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class c{constructor(e){this.name=e,this._logLevel=o,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...e),this._logHandler(this,i.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...e),this._logHandler(this,i.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,i.INFO,...e),this._logHandler(this,i.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,i.WARN,...e),this._logHandler(this,i.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...e),this._logHandler(this,i.ERROR,...e)}}function u(e){r.forEach(t=>{t.setLogLevel(e)})}function h(e,t){for(const n of r){let r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:(t,n,...s)=>{const o=s.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(e=>e).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:i[n].toLowerCase(),message:o,args:s,type:t.name})}}}},3854:(e,t,n)=>{"use strict";n.d(t,{BH:()=>c,LL:()=>T,ZR:()=>C,zI:()=>E,US:()=>s,tV:()=>a,L:()=>o,$s:()=>M,r3:()=>k,Sg:()=>u,ne:()=>P,vZ:()=>A,ZB:()=>l,Lj:()=>z,pd:()=>N,m9:()=>V,z$:()=>h,jU:()=>f,ru:()=>m,d:()=>y,xb:()=>x,w1:()=>_,hl:()=>w,uI:()=>d,UG:()=>p,b$:()=>g,G6:()=>b,Mn:()=>v,X3:()=>H,xO:()=>R,zd:()=>D,eu:()=>S});var r=n(6304);const i=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0;let c=(15&o)<<2|l>>6,u=63&l;a||(u=64,s||(c=64)),r.push(n[t>>2],n[(3&t)<<4|o>>4],n[c],n[u])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw Error();r.push(t<<2|s>>4),64!==o&&(r.push(s<<4&240|o>>2),64!==a&&r.push(o<<6&192|a))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},o=function(e){return function(e){const t=i(e);return s.encodeByteArray(t,!0)}(e).replace(/\./g,"")},a=function(e){try{return s.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=l(e[n],t[n]));return e}class c{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function u(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[o(JSON.stringify({alg:"none",type:"JWT"})),o(JSON.stringify(s)),""].join(".")}function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())}function p(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function f(){return"object"==typeof self&&self.self===self}function m(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function g(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function y(){return h().indexOf("Electron/")>=0}function _(){const e=h();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function v(){return h().indexOf("MSAppHost/")>=0}function b(){return!p()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function w(){return"object"==typeof indexedDB}function S(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}function E(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class C extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,C.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,T.prototype.create)}}class T{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(I,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error";return new C(r,`${this.serviceName}: ${s} (${r}).`,n)}}const I=/\{\$([^}]+)}/g;function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function x(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function A(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(O(n)&&O(s)){if(!A(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function O(e){return null!==e&&"object"==typeof e}function R(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function D(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function N(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function P(e,t){const n=new L(e,t);return n.subscribe.bind(n)}class L{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of["next","error","complete"])if(n in e&&"function"==typeof e[n])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=F),void 0===r.error&&(r.error=F),void 0===r.complete&&(r.complete=F);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!=typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function F(){}function M(e,t=1e3,n=2){const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function V(e){return e&&e._delegate?e._delegate:e}function U(e,t){return new Promise((n,r)=>{e.onsuccess=e=>{n(e.target.result)},e.onerror=e=>{var n;r(`${t}: ${null===(n=e.target.error)||void 0===n?void 0:n.message}`)}})}class q{constructor(e){this._db=e,this.objectStoreNames=this._db.objectStoreNames}transaction(e,t="readonly"){return new j(this._db.transaction.call(this._db,e,t))}createObjectStore(e,t){return new Z(this._db.createObjectStore(e,t))}close(){this._db.close()}}class j{constructor(e){this._transaction=e,this.complete=new Promise((e,t)=>{this._transaction.oncomplete=function(){e()},this._transaction.onerror=()=>{t(this._transaction.error)},this._transaction.onabort=()=>{t(this._transaction.error)}})}objectStore(e){return new Z(this._transaction.objectStore(e))}}class Z{constructor(e){this._store=e}index(e){return new B(this._store.index(e))}createIndex(e,t,n){return new B(this._store.createIndex(e,t,n))}get(e){return U(this._store.get(e),"Error reading from IndexedDB")}put(e,t){return U(this._store.put(e,t),"Error writing to IndexedDB")}delete(e){return U(this._store.delete(e),"Error deleting from IndexedDB")}clear(){return U(this._store.clear(),"Error clearing IndexedDB object store")}}class B{constructor(e){this._index=e}get(e){return U(this._index.get(e),"Error reading from IndexedDB")}}function H(e,t,n){return new Promise((r,i)=>{try{const s=indexedDB.open(e,t);s.onsuccess=e=>{r(new q(e.target.result))},s.onerror=e=>{var t;i(`Error opening indexedDB: ${null===(t=e.target.error)||void 0===t?void 0:t.message}`)},s.onupgradeneeded=e=>{n(new q(s.result),e.oldVersion,e.newVersion,new j(s.transaction))}}catch(s){i(`Error opening indexedDB: ${s.message}`)}})}function z(e){return G.apply(this,arguments)}function G(){return(G=(0,r.Z)(function*(e){return new Promise((t,n)=>{try{const r=indexedDB.deleteDatabase(e);r.onsuccess=()=>{t()},r.onerror=t=>{var r;n(`Error deleting indexedDB database "${e}": ${null===(r=t.target.error)||void 0===r?void 0:r.message}`)}}catch(r){n(`Error deleting indexedDB database "${e}": ${r.message}`)}})})).apply(this,arguments)}},2329:(e,t,n)=>{"use strict";n.d(t,{Mq:()=>r.getApp,C6:()=>r.getApps});var r=n(279);(0,r.registerVersion)("firebase","9.6.11","app")},7841:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r.Z});var r=n(156);r.Z.registerVersion("firebase","9.6.11","app-compat")},3259:(e,t,n)=>{"use strict";n.r(t);var r=n(6304),i=n(156),s=n(3854),o=n(279);function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}var l=n(9306),c=n(8604);const u=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},h=new s.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),d=new l.Yd("@firebase/auth");function p(e,...t){d.logLevel<=l.in.ERROR&&d.error(`Auth (${o.SDK_VERSION}): ${e}`,...t)}function f(e,...t){throw _(e,...t)}function m(e,...t){return _(e,...t)}function g(e,t,n){const r=Object.assign(Object.assign({},{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),{[t]:n});return new s.LL("auth","Firebase",r).create(t,{appName:e.name})}function y(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&f(e,"argument-error"),g(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return h.create(e,...t)}function v(e,t,...n){if(!e)throw _(t,...n)}function b(e){const t="INTERNAL ASSERTION FAILED: "+e;throw p(t),new Error(t)}function w(e,t){e||b(t)}const S=new Map;function E(e){w(e instanceof Function,"Expected a class definition");let t=S.get(e);return t?(w(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,S.set(e,t),t)}function C(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function T(){return"http:"===I()||"https:"===I()}function I(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class k{constructor(e,t){this.shortDelay=e,this.longDelay=t,w(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,s.uI)()||(0,s.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(T()||(0,s.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function x(e,t){w(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class A{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void b("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void b("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void b("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const O={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},R=new k(3e4,6e4);function D(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function N(e,t,n,r){return P.apply(this,arguments)}function P(){return(P=(0,r.Z)(function*(e,t,n,i,o={}){return L(e,o,(0,r.Z)(function*(){let r={},o={};i&&("GET"===t?o=i:r={body:JSON.stringify(i)});const a=(0,s.xO)(Object.assign({key:e.config.apiKey},o)).slice(1),l=yield e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),A.fetch()(U(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},r))}))})).apply(this,arguments)}function L(e,t,n){return F.apply(this,arguments)}function F(){return(F=(0,r.Z)(function*(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},O),t);try{const t=new q(e),i=yield Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=yield i.json();if("needConfirmation"in s)throw j(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw j(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw j(e,"email-already-in-use",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw g(e,a,o);f(e,a)}}catch(i){if(i instanceof s.ZR)throw i;f(e,"network-request-failed")}})).apply(this,arguments)}function M(e,t,n,r){return V.apply(this,arguments)}function V(){return(V=(0,r.Z)(function*(e,t,n,r,i={}){const s=yield N(e,t,n,r,i);return"mfaPendingCredential"in s&&f(e,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function U(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?x(e.config,i):`${e.config.apiScheme}://${i}`}class q{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(m(this.auth,"network-request-failed")),R.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function j(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=m(e,t,r);return i.customData._tokenResponse=n,i}function Z(){return(Z=(0,r.Z)(function*(e,t){return N(e,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function B(e,t){return H.apply(this,arguments)}function H(){return(H=(0,r.Z)(function*(e,t){return N(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function z(e,t){return G.apply(this,arguments)}function G(){return(G=(0,r.Z)(function*(e,t){return N(e,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function $(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function K(){return(K=(0,r.Z)(function*(e,t=!1){const n=(0,s.m9)(e),r=yield n.getIdToken(t),i=W(r);v(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:$(Y(i.auth_time)),issuedAtTime:$(Y(i.iat)),expirationTime:$(Y(i.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}})).apply(this,arguments)}function Y(e){return 1e3*Number(e)}function W(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return p("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,s.tV)(n);return e?JSON.parse(e):(p("Failed to decode base64 JWT payload"),null)}catch(i){return p("Caught error parsing JWT payload as JSON",i),null}}function Q(e,t){return J.apply(this,arguments)}function J(){return(J=(0,r.Z)(function*(e,t,n=!1){if(n)return t;try{return yield t}catch(r){throw r instanceof s.ZR&&X(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})).apply(this,arguments)}function X({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}class ee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout((0,r.Z)(function*(){yield t.iteration()}),n)}iteration(){var e=this;return(0,r.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&e.schedule(!0))}e.schedule()})()}}class te{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$(this.lastLoginAt),this.creationTime=$(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ne(e){return re.apply(this,arguments)}function re(){return(re=(0,r.Z)(function*(e){var t;const n=e.auth,r=yield e.getIdToken(),i=yield Q(e,z(n,{idToken:r}));v(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?oe(s.providerUserInfo):[],a=se(e.providerData,o),l=!!e.isAnonymous&&!(e.email&&s.passwordHash||(null==a?void 0:a.length)),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new te(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(e,c)})).apply(this,arguments)}function ie(){return(ie=(0,r.Z)(function*(e){const t=(0,s.m9)(e);yield ne(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function se(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function oe(e){return e.map(e=>{var{providerId:t}=e,n=a(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function ae(){return(ae=(0,r.Z)(function*(e,t){const n=yield L(e,{},(0,r.Z)(function*(){const n=(0,s.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=U(e,r,"/v1/token",`key=${i}`),a=yield e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",A.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class le{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){v(e.idToken,"internal-error"),v(void 0!==e.idToken,"internal-error"),v(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=W(e);return v(t,"internal-error"),v(void 0!==t.exp,"internal-error"),v(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var n=this;return(0,r.Z)(function*(){return v(!n.accessToken||n.refreshToken,e,"user-token-expired"),t||!n.accessToken||n.isExpired?n.refreshToken?(yield n.refresh(e,n.refreshToken),n.accessToken):null:n.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var n=this;return(0,r.Z)(function*(){const{accessToken:r,refreshToken:i,expiresIn:s}=yield function(e,t){return ae.apply(this,arguments)}(e,t);n.updateTokensAndExpiration(r,i,Number(s))})()}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new le;return n&&(v("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(v("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(v("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new le,this.toJSON())}_performRefresh(){return b("not implemented")}}function ce(e,t){v("string"==typeof e||void 0===e,"internal-error",{appName:t})}class ue{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=a(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new te(i.createdAt||void 0,i.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,r.Z)(function*(){const n=yield Q(t,t.stsTokenManager.getToken(t.auth,e));return v(n,t.auth,"internal-error"),t.accessToken!==n&&(t.accessToken=n,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),n})()}getIdTokenResult(e){return function(e){return K.apply(this,arguments)}(this,e)}reload(){return function(e){return ie.apply(this,arguments)}(this)}_assign(e){this!==e&&(v(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ue(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){v(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var n=this;return(0,r.Z)(function*(){let r=!1;e.idToken&&e.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield ne(n)),yield n.auth._persistUserIfCurrent(n),r&&n.auth._notifyListenersIfCurrent(n)})()}delete(){var e=this;return(0,r.Z)(function*(){const t=yield e.getIdToken();return yield Q(e,function(e,t){return Z.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,f=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:_,emailVerified:b,isAnonymous:w,providerData:S,stsTokenManager:E}=t;v(_&&E,e,"internal-error");const C=le.fromJSON(this.name,E);v("string"==typeof _,e,"internal-error"),ce(u,e.name),ce(h,e.name),v("boolean"==typeof b,e,"internal-error"),v("boolean"==typeof w,e,"internal-error"),ce(d,e.name),ce(p,e.name),ce(f,e.name),ce(m,e.name),ce(g,e.name),ce(y,e.name);const T=new ue({uid:_,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:f,stsTokenManager:C,createdAt:g,lastLoginAt:y});return S&&Array.isArray(S)&&(T.providerData=S.map(e=>Object.assign({},e))),m&&(T._redirectEventId=m),T}static _fromIdTokenResponse(e,t,n=!1){return(0,r.Z)(function*(){const r=new le;r.updateFromServerResponse(t);const i=new ue({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return yield ne(i),i})()}}const he=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,r.Z)(function*(){return!0})()}_set(e,t){var n=this;return(0,r.Z)(function*(){n.storage[e]=t})()}_get(e){var t=this;return(0,r.Z)(function*(){const n=t.storage[e];return void 0===n?null:n})()}_remove(e){var t=this;return(0,r.Z)(function*(){delete t.storage[e]})()}_addListener(e,t){}_removeListener(e,t){}}return e.type="NONE",e})();function de(e,t,n){return`firebase:${e}:${t}:${n}`}class pe{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=de(this.userKey,r.apiKey,i),this.fullPersistenceKey=de("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,r.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?ue._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,r.Z)(function*(){if(t.persistence===e)return;const n=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,n?t.setCurrentUser(n):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,n="authUser"){return(0,r.Z)(function*(){if(!t.length)return new pe(E(he),e,n);const i=(yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(yield e._isAvailable())return e});return function(t){return e.apply(this,arguments)}}()))).filter(e=>e);let s=i[0]||E(he);const o=de(n,e.config.apiKey,e.name);let a=null;for(const n of t)try{const t=yield n._get(o);if(t){const r=ue._fromJSON(e,t);n!==s&&(a=r),s=n;break}}catch(c){}const l=i.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(e!==s)try{yield e._remove(o)}catch(c){}});return function(t){return e.apply(this,arguments)}}())),new pe(s,e,n)):new pe(s,e,n)})()}}function fe(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_e(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(me(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(be(t))return"Blackberry";if(we(t))return"Webos";if(ge(t))return"Safari";if((t.includes("chrome/")||ye(t))&&!t.includes("edge/"))return"Chrome";if(ve(t))return"Android";{const t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==t?void 0:t.length))return t[1]}return"Other"}function me(e=(0,s.z$)()){return/firefox\//i.test(e)}function ge(e=(0,s.z$)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ye(e=(0,s.z$)()){return/crios\//i.test(e)}function _e(e=(0,s.z$)()){return/iemobile/i.test(e)}function ve(e=(0,s.z$)()){return/android/i.test(e)}function be(e=(0,s.z$)()){return/blackberry/i.test(e)}function we(e=(0,s.z$)()){return/webos/i.test(e)}function Se(e=(0,s.z$)()){return/iphone|ipad|ipod/i.test(e)}function Ee(e=(0,s.z$)()){return Se(e)||ve(e)||we(e)||be(e)||/windows phone/i.test(e)||_e(e)}function Ce(e,t=[]){let n;switch(e){case"Browser":n=fe((0,s.z$)());break;case"Worker":n=`${fe((0,s.z$)())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${o.SDK_VERSION}/${r}`}class Te{constructor(e,t,n){this.app=e,this.heartbeatServiceProvider=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ke(this),this.idTokenSubscription=new ke(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){var n=this;return t&&(this._popupRedirectResolver=E(t)),this._initializationPromise=this.queue((0,r.Z)(function*(){var r,i;if(!n._deleted&&(n.persistenceManager=yield pe.create(n,e),!n._deleted)){if(null===(r=n._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{yield n._popupRedirectResolver._initialize(n)}catch(s){}yield n.initializeCurrentUser(t),n.lastNotifiedUid=(null===(i=n.currentUser)||void 0===i?void 0:i.uid)||null,n._deleted||(n._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,r.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();return e.currentUser||t?e.currentUser&&t&&e.currentUser.uid===t.uid?(e._currentUser._assign(t),void(yield e.currentUser.getIdToken())):void(yield e._updateCurrentUser(t)):void 0})()}initializeCurrentUser(e){var t=this;return(0,r.Z)(function*(){var n;let r=yield t.assertedPersistence.getCurrentUser();if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const i=null===(n=t.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null==r?void 0:r._redirectEventId,o=yield t.tryRedirectSignIn(e);i&&i!==s||!(null==o?void 0:o.user)||(r=o.user)}return r?r._redirectEventId?(v(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===r._redirectEventId?t.directlySetCurrentUser(r):t.reloadAndSetCurrentUserOrClear(r)):t.reloadAndSetCurrentUserOrClear(r):t.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var t=this;return(0,r.Z)(function*(){let n=null;try{n=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(r){yield t._setRedirectUser(null)}return n})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,r.Z)(function*(){try{yield ne(e)}catch(n){if("auth/network-request-failed"!==n.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}_delete(){var e=this;return(0,r.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,r.Z)(function*(){const n=e?(0,s.m9)(e):null;return n&&v(n.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(n&&n._clone(t))})()}_updateCurrentUser(e){var t=this;return(0,r.Z)(function*(){if(!t._deleted)return e&&v(t.tenantId===e.tenantId,t,"tenant-id-mismatch"),t.queue((0,r.Z)(function*(){yield t.directlySetCurrentUser(e),t.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,r.Z)(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var t=this;return this.queue((0,r.Z)(function*(){yield t.assertedPersistence.setPersistence(E(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new s.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var n=this;return(0,r.Z)(function*(){const r=yield n.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,r.Z)(function*(){if(!t.redirectPersistenceManager){const n=e&&E(e)||t._popupRedirectResolver;v(n,t,"argument-error"),t.redirectPersistenceManager=yield pe.create(t,[E(n._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,r.Z)(function*(){var n,i;return t._isInitialized&&(yield t.queue((0,r.Z)(function*(){}))),(null===(n=t._currentUser)||void 0===n?void 0:n._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,r.Z)(function*(){if(e===t.currentUser)return t.queue((0,r.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return v(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,r.Z)(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return v(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ce(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,r.Z)(function*(){var t;const n={"X-Client-Version":e.clientVersion};e.app.options.appId&&(n["X-Firebase-gmpid"]=e.app.options.appId);const r=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return r&&(n["X-Firebase-Client"]=r),n})()}}function Ie(e){return(0,s.m9)(e)}class ke{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,s.ne)(e=>this.observer=e)}get next(){return v(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function xe(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ae(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Oe{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return b("not implemented")}_getIdTokenResponse(e){return b("not implemented")}_linkToIdToken(e,t){return b("not implemented")}_getReauthenticationResolver(e){return b("not implemented")}}function Re(e,t){return De.apply(this,arguments)}function De(){return(De=(0,r.Z)(function*(e,t){return N(e,"POST","/v1/accounts:resetPassword",D(e,t))})).apply(this,arguments)}function Ne(e,t){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,r.Z)(function*(e,t){return N(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function Le(e,t){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,r.Z)(function*(e,t){return N(e,"POST","/v1/accounts:update",D(e,t))})).apply(this,arguments)}function Me(){return(Me=(0,r.Z)(function*(e,t){return M(e,"POST","/v1/accounts:signInWithPassword",D(e,t))})).apply(this,arguments)}function Ve(e,t){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,r.Z)(function*(e,t){return N(e,"POST","/v1/accounts:sendOobCode",D(e,t))})).apply(this,arguments)}function qe(e,t){return je.apply(this,arguments)}function je(){return(je=(0,r.Z)(function*(e,t){return Ve(e,t)})).apply(this,arguments)}function Ze(e,t){return Be.apply(this,arguments)}function Be(){return(Be=(0,r.Z)(function*(e,t){return Ve(e,t)})).apply(this,arguments)}function He(e,t){return ze.apply(this,arguments)}function ze(){return(ze=(0,r.Z)(function*(e,t){return Ve(e,t)})).apply(this,arguments)}function Ge(e,t){return $e.apply(this,arguments)}function $e(){return($e=(0,r.Z)(function*(e,t){return Ve(e,t)})).apply(this,arguments)}function Ke(){return(Ke=(0,r.Z)(function*(e,t){return M(e,"POST","/v1/accounts:signInWithEmailLink",D(e,t))})).apply(this,arguments)}function Ye(){return(Ye=(0,r.Z)(function*(e,t){return M(e,"POST","/v1/accounts:signInWithEmailLink",D(e,t))})).apply(this,arguments)}class We extends Oe{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new We(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new We(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,r.Z)(function*(){switch(t.signInMethod){case"password":return function(e,t){return Me.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function(e,t){return Ke.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:f(e,"internal-error")}})()}_linkToIdToken(e,t){var n=this;return(0,r.Z)(function*(){switch(n.signInMethod){case"password":return Ne(e,{idToken:t,returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function(e,t){return Ye.apply(this,arguments)}(e,{idToken:t,email:n._email,oobCode:n._password});default:f(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Qe(e,t){return Je.apply(this,arguments)}function Je(){return(Je=(0,r.Z)(function*(e,t){return M(e,"POST","/v1/accounts:signInWithIdp",D(e,t))})).apply(this,arguments)}class Xe extends Oe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Xe(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):f("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=a(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Xe(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Qe(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Qe(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Qe(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,s.xO)(t)}return e}}function et(e,t){return tt.apply(this,arguments)}function tt(){return(tt=(0,r.Z)(function*(e,t){return N(e,"POST","/v1/accounts:sendVerificationCode",D(e,t))})).apply(this,arguments)}function nt(){return(nt=(0,r.Z)(function*(e,t){return M(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,t))})).apply(this,arguments)}function rt(){return(rt=(0,r.Z)(function*(e,t){const n=yield M(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,t));if(n.temporaryProof)throw j(e,"account-exists-with-different-credential",n);return n})).apply(this,arguments)}const it={USER_NOT_FOUND:"user-not-found"};function st(){return(st=(0,r.Z)(function*(e,t){return M(e,"POST","/v1/accounts:signInWithPhoneNumber",D(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),it)})).apply(this,arguments)}class ot extends Oe{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ot({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ot({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function(e,t){return nt.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function(e,t){return rt.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function(e,t){return st.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ot({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class at{constructor(e){var t,n,r,i,o,a;const l=(0,s.zd)((0,s.pd)(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(n=l.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);v(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=null!==(i=l.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,s.zd)((0,s.pd)(e)).link,n=t?(0,s.zd)((0,s.pd)(t)).deep_link_id:null,r=(0,s.zd)((0,s.pd)(e)).deep_link_id;return(r?(0,s.zd)((0,s.pd)(r)).link:null)||r||n||t||e}(e);try{return new at(t)}catch(n){return null}}}let lt=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(e,t){return We._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=at.parseLink(t);return v(n,"argument-error"),We._fromEmailAndCode(e,n.code,n.tenantId)}}return e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink",e})();class ct{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ut extends ct{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ht extends ut{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return v("providerId"in t&&"signInMethod"in t,"argument-error"),Xe._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return v(e.idToken||e.accessToken,"argument-error"),Xe._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ht.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ht.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:o}=e;if(!(n||r||t||i))return null;if(!o)return null;try{return new ht(o)._credential({idToken:t,accessToken:n,nonce:s,pendingToken:i})}catch(a){return null}}}let dt=(()=>{class e extends ut{constructor(){super("facebook.com")}static credential(t){return Xe._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e})(),pt=(()=>{class e extends ut{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Xe._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e})(),ft=(()=>{class e extends ut{constructor(){super("github.com")}static credential(t){return Xe._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e})();class mt extends Oe{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Qe(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Qe(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Qe(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new mt(n,i):null}static _create(e,t){return new mt(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class gt extends ct{constructor(e){v(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return gt.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return gt.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=mt.fromJSON(e);return v(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return mt._create(n,t)}catch(r){return null}}}let yt=(()=>{class e extends ut{constructor(){super("twitter.com")}static credential(t,n){return Xe._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e})();function _t(e,t){return vt.apply(this,arguments)}function vt(){return(vt=(0,r.Z)(function*(e,t){return M(e,"POST","/v1/accounts:signUp",D(e,t))})).apply(this,arguments)}class bt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,n,i=!1){return(0,r.Z)(function*(){const r=yield ue._fromIdTokenResponse(e,n,i),s=wt(n);return new bt({user:r,providerId:s,_tokenResponse:n,operationType:t})})()}static _forOperation(e,t,n){return(0,r.Z)(function*(){yield e._updateTokensIfNecessary(n,!0);const r=wt(n);return new bt({user:e,providerId:r,_tokenResponse:n,operationType:t})})()}}function wt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function St(){return(St=(0,r.Z)(function*(e){var t;const n=Ie(e);if(yield n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new bt({user:n.currentUser,providerId:null,operationType:"signIn"});const r=yield _t(n,{returnSecureToken:!0}),i=yield bt._fromIdTokenResponse(n,"signIn",r,!0);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class Et extends s.ZR{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Et.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Et(e,t,n,r)}}function Ct(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw Et._fromErrorAndOperation(e,n,t,r);throw n})}function Tt(e){return new Set(e.map(({providerId:e})=>e).filter(e=>!!e))}function It(){return(It=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e);yield At(!0,n,t);const{providerUserInfo:r}=yield B(n.auth,{idToken:yield n.getIdToken(),deleteProvider:[t]}),i=Tt(r||[]);return n.providerData=n.providerData.filter(e=>i.has(e.providerId)),i.has("phone")||(n.phoneNumber=null),yield n.auth._persistUserIfCurrent(n),n})).apply(this,arguments)}function kt(e,t){return xt.apply(this,arguments)}function xt(){return(xt=(0,r.Z)(function*(e,t,n=!1){const r=yield Q(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return bt._forOperation(e,"link",r)})).apply(this,arguments)}function At(e,t,n){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,r.Z)(function*(e,t,n){yield ne(t);const r=!1===e?"provider-already-linked":"no-such-provider";v(Tt(t.providerData).has(n)===e,t.auth,r)})).apply(this,arguments)}function Rt(e,t){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,r.Z)(function*(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=yield Q(e,Ct(r,i,t,e),n);v(s.idToken,r,"internal-error");const o=W(s.idToken);v(o,r,"internal-error");const{sub:a}=o;return v(e.uid===a,r,"user-mismatch"),bt._forOperation(e,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&f(r,"user-mismatch"),s}})).apply(this,arguments)}function Nt(e,t){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,r.Z)(function*(e,t,n=!1){const r="signIn",i=yield Ct(e,r,t),s=yield bt._fromIdTokenResponse(e,r,i);return n||(yield e._updateCurrentUser(s.user)),s})).apply(this,arguments)}function Lt(e,t){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,r.Z)(function*(e,t){return Nt(Ie(e),t)})).apply(this,arguments)}function Mt(e,t){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e);return yield At(!1,n,t.providerId),kt(n,t)})).apply(this,arguments)}function Ut(e,t){return qt.apply(this,arguments)}function qt(){return(qt=(0,r.Z)(function*(e,t){return Rt((0,s.m9)(e),t)})).apply(this,arguments)}function jt(e,t){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,r.Z)(function*(e,t){return M(e,"POST","/v1/accounts:signInWithCustomToken",D(e,t))})).apply(this,arguments)}function Bt(){return(Bt=(0,r.Z)(function*(e,t){const n=Ie(e),r=yield jt(n,{token:t,returnSecureToken:!0}),i=yield bt._fromIdTokenResponse(n,"signIn",r);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class Ht{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?zt._fromServerResponse(e,t):f(e,"internal-error")}}class zt extends Ht{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new zt(t)}}function Gt(e,t,n){var r;v((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),v(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(v(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(v(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function $t(){return($t=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"PASSWORD_RESET",email:t};n&&Gt(r,i,n),yield Ze(r,i)})).apply(this,arguments)}function Kt(){return(Kt=(0,r.Z)(function*(e,t,n){yield Re((0,s.m9)(e),{oobCode:t,newPassword:n})})).apply(this,arguments)}function Yt(){return(Yt=(0,r.Z)(function*(e,t){yield Le((0,s.m9)(e),{oobCode:t})})).apply(this,arguments)}function Wt(e,t){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e),r=yield Re(n,{oobCode:t}),i=r.requestType;switch(v(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":v(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":v(r.mfaInfo,n,"internal-error");default:v(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=Ht._fromServerResponse(Ie(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}})).apply(this,arguments)}function Jt(){return(Jt=(0,r.Z)(function*(e,t){const{data:n}=yield Wt((0,s.m9)(e),t);return n.email})).apply(this,arguments)}function Xt(){return(Xt=(0,r.Z)(function*(e,t,n){const r=Ie(e),i=yield _t(r,{returnSecureToken:!0,email:t,password:n}),s=yield bt._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function en(){return(en=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"EMAIL_SIGNIN",email:t};v(n.handleCodeInApp,r,"argument-error"),n&&Gt(r,i,n),yield He(r,i)})).apply(this,arguments)}function tn(){return(tn=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i=lt.credentialWithLink(t,n||C());return v(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Lt(r,i)})).apply(this,arguments)}function nn(e,t){return rn.apply(this,arguments)}function rn(){return(rn=(0,r.Z)(function*(e,t){return N(e,"POST","/v1/accounts:createAuthUri",D(e,t))})).apply(this,arguments)}function sn(){return(sn=(0,r.Z)(function*(e,t){const n={identifier:t,continueUri:T()?C():"http://localhost"},{signinMethods:r}=yield nn((0,s.m9)(e),n);return r||[]})).apply(this,arguments)}function on(){return(on=(0,r.Z)(function*(e,t){const n=(0,s.m9)(e),r={requestType:"VERIFY_EMAIL",idToken:yield e.getIdToken()};t&&Gt(n.auth,r,t);const{email:i}=yield qe(n.auth,r);i!==e.email&&(yield e.reload())})).apply(this,arguments)}function an(){return(an=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield e.getIdToken(),newEmail:t};n&&Gt(r.auth,i,n);const{email:o}=yield Ge(r.auth,i);o!==e.email&&(yield e.reload())})).apply(this,arguments)}function ln(e,t){return cn.apply(this,arguments)}function cn(){return(cn=(0,r.Z)(function*(e,t){return N(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function un(){return(un=(0,r.Z)(function*(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=(0,s.m9)(e),i={idToken:yield r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=yield Q(r,ln(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(o)})).apply(this,arguments)}function hn(e,t,n){return dn.apply(this,arguments)}function dn(){return(dn=(0,r.Z)(function*(e,t,n){const{auth:r}=e,i={idToken:yield e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=yield Q(e,Ne(r,i));yield e._updateTokensIfNecessary(s,!0)})).apply(this,arguments)}class pn{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class fn extends pn{constructor(e,t,n,r){super(e,t,n),this.username=r}}class mn extends pn{constructor(e,t){super(e,"facebook.com",t)}}class gn extends fn{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class yn extends pn{constructor(e,t){super(e,"google.com",t)}}class _n extends fn{constructor(e,t,n){super(e,"twitter.com",t,n)}}function vn(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=W(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new pn(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new mn(s,i);case"github.com":return new gn(s,i);case"google.com":return new yn(s,i);case"twitter.com":return new _n(s,i,e.screenName||null);case"custom":case"anonymous":return new pn(s,null);default:return new pn(s,r,i)}}(n)}class bn{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new bn("enroll",e)}static _fromMfaPendingCredential(e){return new bn("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return bn._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return bn._fromIdtoken(e.multiFactorSession.idToken)}return null}}class wn{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Ie(e),i=t.customData._serverResponse,s=(i.mfaInfo||[]).map(e=>Ht._fromServerResponse(n,e));v(i.mfaPendingCredential,n,"internal-error");const o=bn._fromMfaPendingCredential(i.mfaPendingCredential);return new wn(o,s,function(){var e=(0,r.Z)(function*(e){const r=yield e._process(n,o);delete i.mfaInfo,delete i.mfaPendingCredential;const s=Object.assign(Object.assign({},i),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":const e=yield bt._fromIdTokenResponse(n,t.operationType,s);return yield n._updateCurrentUser(e.user),e;case"reauthenticate":return v(t.user,n,"internal-error"),bt._forOperation(t.user,t.operationType,s);default:f(n,"internal-error")}});return function(t){return e.apply(this,arguments)}}())}resolveSignIn(e){var t=this;return(0,r.Z)(function*(){return t.signInResolver(e)})()}}function Sn(e,t){return N(e,"POST","/v2/accounts/mfaEnrollment:start",D(e,t))}class En{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>Ht._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new En(e)}getSession(){var e=this;return(0,r.Z)(function*(){return bn._fromIdtoken(yield e.user.getIdToken())})()}enroll(e,t){var n=this;return(0,r.Z)(function*(){const r=e,i=yield n.getSession(),s=yield Q(n.user,r._process(n.user.auth,i,t));return yield n.user._updateTokensIfNecessary(s),n.user.reload()})()}unenroll(e){var t=this;return(0,r.Z)(function*(){const n="string"==typeof e?e:e.uid,r=yield t.user.getIdToken(),i=yield Q(t.user,(s=t.user.auth,o={idToken:r,mfaEnrollmentId:n},N(s,"POST","/v2/accounts/mfaEnrollment:withdraw",D(s,o))));var s,o;t.enrolledFactors=t.enrolledFactors.filter(({uid:e})=>e!==n),yield t.user._updateTokensIfNecessary(i);try{yield t.user.reload()}catch(a){if("auth/user-token-expired"!==a.code)throw a}})()}}const Cn=new WeakMap,Tn="__sak";class In{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Tn,"1"),this.storage.removeItem(Tn),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const kn=(()=>{class e extends In{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,s.z$)();return ge(e)||Se(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Ee(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,s.w1)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(e,t){var n=()=>super._set,i=this;return(0,r.Z)(function*(){yield n().call(i,e,t),i.localCache[e]=JSON.stringify(t)})()}_get(e){var t=()=>super._get,n=this;return(0,r.Z)(function*(){const r=yield t().call(n,e);return n.localCache[e]=JSON.stringify(r),r})()}_remove(e){var t=()=>super._remove,n=this;return(0,r.Z)(function*(){yield t().call(n,e),delete n.localCache[e]})()}}return e.type="LOCAL",e})(),xn=(()=>{class e extends In{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}return e.type="SESSION",e})();let An=(()=>{class e{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;const r=new e(t);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}handleEvent(e){var t=this;return(0,r.Z)(function*(){const n=e,{eventId:i,eventType:s,data:o}=n.data,a=t.handlersMap[s];if(!(null==a?void 0:a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const l=Array.from(a).map(function(){var e=(0,r.Z)(function*(e){return e(n.origin,o)});return function(t){return e.apply(this,arguments)}}()),c=yield function(e){return Promise.all(e.map(function(){var e=(0,r.Z)(function*(e){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}});return function(t){return e.apply(this,arguments)}}()))}(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})})()}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return e.receivers=[],e})();function On(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}class Rn{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,n=50){var i=this;return(0,r.Z)(function*(){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=On("",20);r.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(t.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"))}}},i.handlers.add(o),r.port1.addEventListener("message",o.onMessage),i.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{o&&i.removeMessageHandler(o)})})()}}function Dn(){return window}function Nn(){return void 0!==Dn().WorkerGlobalScope&&"function"==typeof Dn().importScripts}function Pn(){return(Pn=(0,r.Z)(function*(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(e){return null}})).apply(this,arguments)}const Ln="firebaseLocalStorageDb",Fn="firebaseLocalStorage",Mn="fbase_key";class Vn{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Un(e,t){return e.transaction([Fn],t?"readwrite":"readonly").objectStore(Fn)}function qn(){const e=indexedDB.open(Ln,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Fn,{keyPath:Mn})}catch(r){n(r)}}),e.addEventListener("success",(0,r.Z)(function*(){const n=e.result;n.objectStoreNames.contains(Fn)?t(n):(n.close(),yield function(){const e=indexedDB.deleteDatabase(Ln);return new Vn(e).toPromise()}(),t(yield qn()))}))})}function jn(e,t,n){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,r.Z)(function*(e,t,n){const r=Un(e,!0).put({[Mn]:t,value:n});return new Vn(r).toPromise()})).apply(this,arguments)}function Bn(){return(Bn=(0,r.Z)(function*(e,t){const n=Un(e,!1).get(t),r=yield new Vn(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function Hn(e,t){const n=Un(e,!0).delete(t);return new Vn(n).toPromise()}const zn=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var e=this;return(0,r.Z)(function*(){return e.db||(e.db=yield qn()),e.db})()}_withRetries(e){var t=this;return(0,r.Z)(function*(){let n=0;for(;;)try{const n=yield t._openDb();return yield e(n)}catch(r){if(n++>3)throw r;t.db&&(t.db.close(),t.db=void 0)}})()}initializeServiceWorkerMessaging(){var e=this;return(0,r.Z)(function*(){return Nn()?e.initializeReceiver():e.initializeSender()})()}initializeReceiver(){var e=this;return(0,r.Z)(function*(){e.receiver=An._getInstance(Nn()?self:null),e.receiver._subscribe("keyChanged",function(){var t=(0,r.Z)(function*(t,n){return{keyProcessed:(yield e._poll()).includes(n.key)}});return function(e,n){return t.apply(this,arguments)}}()),e.receiver._subscribe("ping",function(){var e=(0,r.Z)(function*(e,t){return["keyChanged"]});return function(t,n){return e.apply(this,arguments)}}())})()}initializeSender(){var e=this;return(0,r.Z)(function*(){var t,n;if(e.activeServiceWorker=yield function(){return Pn.apply(this,arguments)}(),!e.activeServiceWorker)return;e.sender=new Rn(e.activeServiceWorker);const r=yield e.sender._send("ping",{},800);r&&(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(e.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(e){var t=this;return(0,r.Z)(function*(){var n;if(t.sender&&t.activeServiceWorker&&((null===(n=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null)===t.activeServiceWorker)try{yield t.sender._send("keyChanged",{key:e},t.serviceWorkerReceiverAvailable?800:50)}catch(n){}})()}_isAvailable(){return(0,r.Z)(function*(){try{if(!indexedDB)return!1;const e=yield qn();return yield jn(e,Tn,"1"),yield Hn(e,Tn),!0}catch(e){}return!1})()}_withPendingWrite(e){var t=this;return(0,r.Z)(function*(){t.pendingWrites++;try{yield e()}finally{t.pendingWrites--}})()}_set(e,t){var n=this;return(0,r.Z)(function*(){return n._withPendingWrite((0,r.Z)(function*(){return yield n._withRetries(n=>jn(n,e,t)),n.localCache[e]=t,n.notifyServiceWorker(e)}))})()}_get(e){var t=this;return(0,r.Z)(function*(){const n=yield t._withRetries(t=>function(e,t){return Bn.apply(this,arguments)}(t,e));return t.localCache[e]=n,n})()}_remove(e){var t=this;return(0,r.Z)(function*(){return t._withPendingWrite((0,r.Z)(function*(){return yield t._withRetries(t=>Hn(t,e)),delete t.localCache[e],t.notifyServiceWorker(e)}))})()}_poll(){var e=this;return(0,r.Z)(function*(){const t=yield e._withRetries(e=>{const t=Un(e,!1).getAll();return new Vn(t).toPromise()});if(!t)return[];if(0!==e.pendingWrites)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(e.localCache[i])!==JSON.stringify(s)&&(e.notifyListeners(i,s),n.push(i));for(const i of Object.keys(e.localCache))e.localCache[i]&&!r.has(i)&&(e.notifyListeners(i,null),n.push(i));return n})()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,r.Z)(function*(){return e._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return e.type="LOCAL",e})();function Gn(e,t){return N(e,"POST","/v2/accounts/mfaSignIn:start",D(e,t))}function $n(){return($n=(0,r.Z)(function*(e){return(yield N(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Kn(e){return new Promise((t,n)=>{const r=document.createElement("script");var i,s;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=m("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(s=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==s?s:document).appendChild(r)})}function Yn(e){return`__${e}${Math.floor(1e6*Math.random())}`}const Wn=1e12;class Qn{constructor(e){this.auth=e,this.counter=Wn,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Jn(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Wn;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;return(null===(t=this._widgets.get(e||Wn))||void 0===t?void 0:t.getResponse())||""}execute(e){var t=this;return(0,r.Z)(function*(){var n;return null===(n=t._widgets.get(e||Wn))||void 0===n||n.execute(),""})()}}class Jn{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;v(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<50;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xn=Yn("rcb"),er=new k(3e4,6e4);class tr{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Dn().grecaptcha}load(e,t=""){return v(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(Dn().grecaptcha):new Promise((n,r)=>{const i=Dn().setTimeout(()=>{r(m(e,"network-request-failed"))},er.get());Dn()[Xn]=()=>{Dn().clearTimeout(i),delete Dn()[Xn];const s=Dn().grecaptcha;if(!s)return void r(m(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)},Kn(`https://www.google.com/recaptcha/api.js??${(0,s.xO)({onload:Xn,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(i),r(m(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Dn().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class nr{load(e){return(0,r.Z)(function*(){return new Qn(e)})()}clearedOneInstance(){}}const rr="recaptcha",ir={theme:"light",type:"image"};class sr{constructor(e,t=Object.assign({},ir),n){this.parameters=t,this.type=rr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ie(n),this.isInvisible="invisible"===this.parameters.size,v("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;v(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new nr:new tr,this.validateStartingState()}verify(){var e=this;return(0,r.Z)(function*(){e.assertNotDestroyed();const t=yield e.render(),n=e.getAssertedRecaptcha();return n.getResponse(t)||new Promise(r=>{const i=t=>{t&&(e.tokenChangeListeners.delete(i),r(t))};e.tokenChangeListeners.add(i),e.isInvisible&&n.execute(t)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){v(!this.parameters.sitekey,this.auth,"argument-error"),v(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),v("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"==typeof e)e(t);else if("string"==typeof e){const n=Dn()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){v(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return(0,r.Z)(function*(){if(yield e.init(),!e.widgetId){let t=e.container;if(!e.isInvisible){const e=document.createElement("div");t.appendChild(e),t=e}e.widgetId=e.getAssertedRecaptcha().render(t,e.parameters)}return e.widgetId})()}init(){var e=this;return(0,r.Z)(function*(){v(T()&&!Nn(),e.auth,"internal-error"),yield function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const t=yield function(e){return $n.apply(this,arguments)}(e.auth);v(t,e.auth,"internal-error"),e.parameters.sitekey=t})()}getAssertedRecaptcha(){return v(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class or{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=ot._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function ar(){return(ar=(0,r.Z)(function*(e,t,n){const r=Ie(e),i=yield ur(r,t,(0,s.m9)(n));return new or(i,e=>Lt(r,e))})).apply(this,arguments)}function lr(){return(lr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);yield At(!1,r,"phone");const i=yield ur(r.auth,t,(0,s.m9)(n));return new or(i,e=>Mt(r,e))})).apply(this,arguments)}function cr(){return(cr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e),i=yield ur(r.auth,t,(0,s.m9)(n));return new or(i,e=>Ut(r,e))})).apply(this,arguments)}function ur(e,t,n){return hr.apply(this,arguments)}function hr(){return(hr=(0,r.Z)(function*(e,t,n){var r;const i=yield n.verify();try{let s;if(v("string"==typeof i,e,"argument-error"),v(n.type===rr,e,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s)return v("enroll"===t.type,e,"internal-error"),(yield Sn(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{v("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;return v(n,e,"missing-multi-factor-info"),(yield Gn(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=yield et(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}})).apply(this,arguments)}function dr(){return(dr=(0,r.Z)(function*(e,t){yield kt((0,s.m9)(e),t)})).apply(this,arguments)}let pr=(()=>{class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=Ie(t)}verifyPhoneNumber(e,t){return ur(this.auth,e,(0,s.m9)(t))}static credential(e,t){return ot._fromVerification(e,t)}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?ot._fromTokenResponse(t,n):null}}return e.PROVIDER_ID="phone",e.PHONE_SIGN_IN_METHOD="phone",e})();function fr(e,t){return t?E(t):(v(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class mr extends Oe{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qe(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qe(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qe(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function gr(e){return Nt(e.auth,new mr(e),e.bypassAuthState)}function yr(e){const{auth:t,user:n}=e;return v(n,t,"internal-error"),Rt(n,new mr(e),e.bypassAuthState)}function _r(e){return vr.apply(this,arguments)}function vr(){return(vr=(0,r.Z)(function*(e){const{auth:t,user:n}=e;return v(n,t,"internal-error"),kt(n,new mr(e),e.bypassAuthState)})).apply(this,arguments)}class br{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,r.Z)(function*(t,n){e.pendingPromise={resolve:t,reject:n};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(r){e.reject(r)}});return function(e,n){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,r.Z)(function*(){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o)return void t.reject(o);const l={auth:t.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(a)(l))}catch(c){t.reject(c)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gr;case"linkViaPopup":case"linkViaRedirect":return _r;case"reauthViaPopup":case"reauthViaRedirect":return yr;default:f(this.auth,"internal-error")}}resolve(e){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wr=new k(2e3,1e4);function Sr(){return(Sr=(0,r.Z)(function*(e,t,n){const r=Ie(e);y(e,t,ct);const i=fr(r,n);return new Tr(r,"signInViaPopup",t,i).executeNotNull()})).apply(this,arguments)}function Er(){return(Er=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(r.auth,t,ct);const i=fr(r.auth,n);return new Tr(r.auth,"reauthViaPopup",t,i,r).executeNotNull()})).apply(this,arguments)}function Cr(){return(Cr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(r.auth,t,ct);const i=fr(r.auth,n);return new Tr(r.auth,"linkViaPopup",t,i,r).executeNotNull()})).apply(this,arguments)}let Tr=(()=>{class e extends br{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}executeNotNull(){var e=this;return(0,r.Z)(function*(){const t=yield e.execute();return v(t,e.auth,"internal-error"),t})()}onExecution(){var e=this;return(0,r.Z)(function*(){w(1===e.filter.length,"Popup operations only handle one event");const t=On();e.authWindow=yield e.resolver._openPopup(e.auth,e.provider,e.filter[0],t),e.authWindow.associatedEvent=t,e.resolver._originValidation(e.auth).catch(t=>{e.reject(t)}),e.resolver._isIframeWebStorageSupported(e.auth,t=>{t||e.reject(m(e.auth,"web-storage-unsupported"))}),e.pollUserCancellation()})()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(m(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;this.pollId=(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(m(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(e,wr.get())};e()}}return e.currentPopupAction=null,e})();const Ir=new Map;class kr extends br{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,r.Z)(function*(){let n=Ir.get(t.auth._key());if(!n){try{const r=(yield function(e,t){return xr.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;n=()=>Promise.resolve(r)}catch(r){n=()=>Promise.reject(r)}Ir.set(t.auth._key(),n)}return t.bypassAuthState||Ir.set(t.auth._key(),()=>Promise.resolve(null)),n()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,n=this;return(0,r.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(n,e);if("unknown"!==e.type){if(e.eventId){const r=yield n.auth._redirectUserForId(e.eventId);if(r)return n.user=r,t().call(n,e);n.resolve(null)}}else n.resolve(null)})()}onExecution(){return(0,r.Z)(function*(){})()}cleanUp(){}}function xr(){return(xr=(0,r.Z)(function*(e,t){const n=Dr(t),r=Rr(e);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Ar(e,t){return Or.apply(this,arguments)}function Or(){return(Or=(0,r.Z)(function*(e,t){return Rr(e)._set(Dr(t),"true")})).apply(this,arguments)}function Rr(e){return E(e._redirectPersistence)}function Dr(e){return de("pendingRedirect",e.config.apiKey,e.name)}function Nr(){return(Nr=(0,r.Z)(function*(e,t,n){const r=Ie(e);y(e,t,ct);const i=fr(r,n);return yield Ar(i,r),i._openRedirect(r,t,"signInViaRedirect")})).apply(this,arguments)}function Pr(){return(Pr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(r.auth,t,ct);const i=fr(r.auth,n);yield Ar(i,r.auth);const o=yield Ur(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)})).apply(this,arguments)}function Lr(){return(Lr=(0,r.Z)(function*(e,t,n){const r=(0,s.m9)(e);y(r.auth,t,ct);const i=fr(r.auth,n);yield At(!1,r,t.providerId),yield Ar(i,r.auth);const o=yield Ur(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)})).apply(this,arguments)}function Fr(){return(Fr=(0,r.Z)(function*(e,t){return yield Ie(e)._initializationPromise,Mr(e,t,!1)})).apply(this,arguments)}function Mr(e,t){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,r.Z)(function*(e,t,n=!1){const r=Ie(e),i=fr(r,t),s=new kr(r,i,n),o=yield s.execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,t)),o})).apply(this,arguments)}function Ur(e){return qr.apply(this,arguments)}function qr(){return(qr=(0,r.Z)(function*(e){const t=On(`${e.uid}:::`);return e._redirectEventId=t,yield e.auth._setRedirectUser(e),yield e.auth._persistUserIfCurrent(e),t})).apply(this,arguments)}class jr{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Br(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Br(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(m(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zr(e))}saveEventToCache(e){this.cachedEventUids.add(Zr(e)),this.lastProcessedEventTime=Date.now()}}function Zr(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Br({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}function Hr(e){return zr.apply(this,arguments)}function zr(){return(zr=(0,r.Z)(function*(e,t={}){return N(e,"GET","/v1/projects",t)})).apply(this,arguments)}const Gr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$r=/^https?/;function Kr(){return(Kr=(0,r.Z)(function*(e){if(e.config.emulator)return;const{authorizedDomains:t}=yield Hr(e);for(const r of t)try{if(Yr(r))return}catch(n){}f(e,"unauthorized-domain")})).apply(this,arguments)}function Yr(e){const t=C(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!$r.test(n))return!1;if(Gr.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Wr=new k(3e4,6e4);function Qr(){const e=Dn().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Jr=null;function Xr(e){return Jr=Jr||function(e){return new Promise((t,n)=>{var r,i,s;function o(){Qr(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Qr(),n(m(e,"network-request-failed"))},timeout:Wr.get()})}if(null===(i=null===(r=Dn().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Dn().gapi)||void 0===s?void 0:s.load)){const t=Yn("iframefcb");return Dn()[t]=()=>{gapi.load?o():n(m(e,"network-request-failed"))},Kn(`https://apis.google.com/js/api.js?onload=${t}`).catch(e=>n(e))}o()}}).catch(e=>{throw Jr=null,e})}(e),Jr}const ei=new k(5e3,15e3),ti={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ni=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ri(e){const t=e.config;v(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?x(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:o.SDK_VERSION},i=ni.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${(0,s.xO)(r).slice(1)}`}function ii(){return(ii=(0,r.Z)(function*(e){const t=yield Xr(e),n=Dn().gapi;return v(n,e,"internal-error"),t.open({where:document.body,url:ri(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ti,dontclear:!0},t=>new Promise(function(){var n=(0,r.Z)(function*(n,r){yield t.restyle({setHideOnLeave:!1});const i=m(e,"network-request-failed"),s=Dn().setTimeout(()=>{r(i)},ei.get());function o(){Dn().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(i)})});return function(e,t){return n.apply(this,arguments)}}()))})).apply(this,arguments)}const si={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class oi{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function ai(e,t,n,r,i,a){v(e.config.authDomain,e,"auth-domain-config-required"),v(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:o.SDK_VERSION,eventId:i};if(t instanceof ct){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,s.xb)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))l[e]=t}if(t instanceof ut){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const s of Object.keys(c))void 0===c[s]&&delete c[s];return`${function({config:e}){return e.emulator?x(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,s.xO)(c).slice(1)}`}const li="webStorageSupport";class ci extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return b("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new ci(e)}_finalizeEnroll(e,t,n){return function(e,t){return N(e,"POST","/v2/accounts/mfaEnrollment:finalize",D(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return N(e,"POST","/v2/accounts/mfaSignIn:finalize",D(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ui=(()=>{class e{constructor(){}static assertion(e){return ci._fromCredential(e)}}return e.FACTOR_ID="phone",e})();var hi,di="@firebase/auth",pi="0.19.12";class fi{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,r.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){v(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function mi(){return window}function gi(){return(gi=(0,r.Z)(function*(e,t,n){var r;const{BuildInfo:i}=mi();w(t.sessionId,"AuthEvent did not contain a session ID");const s=yield vi(t.sessionId),o={};return Se()?o.ibi=i.packageName:ve()?o.apn=i.packageName:f(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,ai(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)})).apply(this,arguments)}function yi(){return(yi=(0,r.Z)(function*(e){const{BuildInfo:t}=mi(),n={};Se()?n.iosBundleId=t.packageName:ve()?n.androidPackageName=t.packageName:f(e,"operation-not-supported-in-this-environment"),yield Hr(e,n)})).apply(this,arguments)}function _i(){return(_i=(0,r.Z)(function*(e,t,n){const{cordova:r}=mi();let i=()=>{};try{yield new Promise((s,o)=>{let a=null;function l(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout(()=>{o(m(e,"redirect-cancelled-by-user"))},2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),ve()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}})}finally{i()}})).apply(this,arguments)}function vi(e){return bi.apply(this,arguments)}function bi(){return(bi=(0,r.Z)(function*(e){const t=wi(e),n=yield crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function wi(e){if(w(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}hi="Browser",(0,o._registerComponent)(new c.wA("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),{apiKey:i,authDomain:s}=n.options;return((e,n)=>{v(i&&!i.includes(":"),"invalid-api-key",{appName:e.name}),v(!(null==s?void 0:s.includes(":")),"argument-error",{appName:e.name});const r={apiKey:i,authDomain:s,clientPlatform:hi,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ce(hi)},o=new Te(e,n,r);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(E);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(o,t),o})(n,r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,o._registerComponent)(new c.wA("auth-internal",e=>{return t=Ie(e.getProvider("auth").getImmediate()),new fi(t);var t},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,o.registerVersion)(di,pi,void 0),(0,o.registerVersion)(di,pi,"esm2017");class Si extends jr{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}initialized(){var e=this;return(0,r.Z)(function*(){yield e.initPromise})()}}function Ei(e){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,r.Z)(function*(e){const t=yield Ii()._get(ki(e));return t&&(yield Ii()._remove(ki(e))),t})).apply(this,arguments)}function Ti(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function Ii(){return E(kn)}function ki(e){return de("authEvent",e.config.apiKey,e.name)}function xi(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return(0,s.zd)(n.join("?"))}function Ai(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:m("no-auth-event")}}function Oi(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Ri(e=(0,s.z$)()){return!("file:"!==Oi()&&"ionic:"!==Oi()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Di(){try{const e=self.localStorage,t=On();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(e=(0,s.z$)()){return(0,s.w1)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=(0,s.z$)()){return/Edge\/\d+/.test(e)}(e)}()||(0,s.hl)()}catch(e){return Ni()&&(0,s.hl)()}return!1}function Ni(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Pi(){return("http:"===Oi()||"https:"===Oi()||(0,s.ru)()||Ri())&&!((0,s.b$)()||(0,s.UG)())&&Di()&&!Ni()}function Li(){return Ri()&&"undefined"!=typeof document}function Fi(){return(Fi=(0,r.Z)(function*(){return!!Li()&&new Promise(e=>{const t=setTimeout(()=>{e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})})})).apply(this,arguments)}const Mi={LOCAL:"local",NONE:"none",SESSION:"session"},Vi=v,Ui="persistence";function qi(e){return ji.apply(this,arguments)}function ji(){return(ji=(0,r.Z)(function*(e){yield e._initializationPromise;const t=Zi(),n=de(Ui,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())})).apply(this,arguments)}function Zi(){var e;try{return(null===(e="undefined"!=typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const Bi=v;class Hi{constructor(){this.browserResolver=E(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xn,this._completeRedirectFn=Mr}_openPopup(e,t,n,i){var o=this;return(0,r.Z)(function*(){var r;w(null===(r=o.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");const a=ai(e,t,n,C(),i);return function(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},si),{width:r.toString(),height:i.toString(),top:o,left:a}),u=(0,s.z$)().toLowerCase();n&&(l=ye(u)?"_blank":n),me(u)&&(t=t||"http://localhost",c.scrollbars="yes");const h=Object.entries(c).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=(0,s.z$)()){var t;return Se(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==l)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",l),new oi(null);const d=window.open(t||"",l,h);v(d,e,"popup-blocked");try{d.focus()}catch(p){}return new oi(d)}(e,a,On())})()}_openRedirect(e,t,n,i){var s=this;return(0,r.Z)(function*(){var r;return yield s._originValidation(e),r=ai(e,t,n,C(),i),Dn().location.href=r,new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(w(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}initAndGetManager(e){var t=this;return(0,r.Z)(function*(){const n=yield function(e){return ii.apply(this,arguments)}(e),r=new jr(e);return n.register("authEvent",t=>(v(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:r.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:r},t.iframes[e._key()]=n,r})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(li,{type:li},n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),f(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Kr.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ee()||ge()||Se()}}),this.cordovaResolver=E(class{constructor(){this._redirectPersistence=xn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Mr}_initialize(e){var t=this;return(0,r.Z)(function*(){const n=e._key();let r=t.eventManagers.get(n);return r||(r=new Si(e),t.eventManagers.set(n,r),t.attachCallbackListeners(e,r)),r})()}_openPopup(e){f(e,"operation-not-supported-in-this-environment")}_openRedirect(e,t,n,i){var o=this;return(0,r.Z)(function*(){!function(e){var t,n,r,i,s,o,a,l,c,u;const h=mi();v("function"==typeof(null===(t=null==h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),v(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),v("function"==typeof(null===(s=null===(i=null===(r=null==h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),v("function"==typeof(null===(l=null===(a=null===(o=null==h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),v("function"==typeof(null===(u=null===(c=null==h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const r=yield o._initialize(e);yield r.initialized(),r.resetRedirect(),Ir.clear(),yield o._originValidation(e);const a=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:Ti(),postBody:null,tenantId:e.tenantId,error:m(e,"no-auth-event")}}(e,n,i);yield function(e,t){return Ii()._set(ki(e),t)}(e,a);const l=yield function(e,t,n){return gi.apply(this,arguments)}(e,a,t),c=yield function(e){const{cordova:t}=mi();return new Promise(n=>{t.plugins.browsertab.isAvailable(r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(e=(0,s.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)})})}(l);return function(e,t,n){return _i.apply(this,arguments)}(e,r,c)})()}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return yi.apply(this,arguments)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:i,BuildInfo:s}=mi(),o=setTimeout((0,r.Z)(function*(){yield Ei(e),t.onEvent(Ai())}),500),a=function(){var n=(0,r.Z)(function*(n){clearTimeout(o);const r=yield Ei(e);let i=null;r&&(null==n?void 0:n.url)&&(i=function(e,t){var n,r;const i=function(e){const t=xi(e),n=t.link?decodeURIComponent(t.link):void 0,r=xi(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return xi(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=xi(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null==s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?m(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}(r,n.url)),t.onEvent(i||Ai())});return function(e){return n.apply(this,arguments)}}();void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,a);const l=i,c=`${s.packageName.toLowerCase()}://`;mi().handleOpenURL=function(){var e=(0,r.Z)(function*(e){if(e.toLowerCase().startsWith(c)&&a({url:e}),"function"==typeof l)try{l(e)}catch(t){console.error(t)}});return function(t){return e.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=xn,this._completeRedirectFn=Mr}_initialize(e){var t=this;return(0,r.Z)(function*(){return yield t.selectUnderlyingResolver(),t.assertedUnderlyingResolver._initialize(e)})()}_openPopup(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openPopup(e,t,n,i)})()}_openRedirect(e,t,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openRedirect(e,t,n,i)})()}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Li()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Bi(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var e=this;return(0,r.Z)(function*(){if(e.underlyingResolver)return;const t=yield function(){return Fi.apply(this,arguments)}();e.underlyingResolver=t?e.cordovaResolver:e.browserResolver})()}}function zi(e){return e.unwrap()}function Gi(e){const{_tokenResponse:t}=e instanceof s.ZR?e.customData:e;if(!t)return null;if(!(e instanceof s.ZR)&&"temporaryProof"in t&&"phoneNumber"in t)return pr.credentialFromResult(e);const n=t.providerId;if(!n||"password"===n)return null;let r;switch(n){case"google.com":r=pt;break;case"facebook.com":r=dt;break;case"github.com":r=ft;break;case"twitter.com":r=yt;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?mt._create(n,o):Xe._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new ht(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof s.ZR?r.credentialFromError(e):r.credentialFromResult(e)}function $i(e,t){return t.catch(t=>{throw t instanceof s.ZR&&function(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Wi(e,function(e,t){var n;const r=(0,s.m9)(e),i=t;return v(t.customData.operationType,r,"argument-error"),v(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),wn._fromError(r,i)}(e,t));else if(r){const e=Gi(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}(e,t),t}).then(e=>{const t=e.user;return{operationType:e.operationType,credential:(n=e,Gi(n)),additionalUserInfo:vn(e),user:Qi.getOrCreate(t)};var n})}function Ki(e,t){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,r.Z)(function*(e,t){const n=yield t;return{verificationId:n.verificationId,confirm:t=>$i(e,n.confirm(t))}})).apply(this,arguments)}class Wi{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return $i(zi(this.auth),this.resolver.resolveSignIn(e))}}class Qi{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=(0,s.m9)(e);return Cn.has(t)||Cn.set(t,En._fromUser(t)),Cn.get(t)}(e)}static getOrCreate(e){return Qi.USER_MAP.has(e)||Qi.USER_MAP.set(e,new Qi(e)),Qi.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){var t=this;return(0,r.Z)(function*(){return $i(t.auth,Mt(t._delegate,e))})()}linkWithPhoneNumber(e,t){var n=this;return(0,r.Z)(function*(){return Ki(n.auth,function(e,t,n){return lr.apply(this,arguments)}(n._delegate,e,t))})()}linkWithPopup(e){var t=this;return(0,r.Z)(function*(){return $i(t.auth,function(e,t,n){return Cr.apply(this,arguments)}(t._delegate,e,Hi))})()}linkWithRedirect(e){var t=this;return(0,r.Z)(function*(){return yield qi(Ie(t.auth)),function(e,t,n){return function(e,t,n){return Lr.apply(this,arguments)}(e,t,n)}(t._delegate,e,Hi)})()}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){var t=this;return(0,r.Z)(function*(){return $i(t.auth,Ut(t._delegate,e))})()}reauthenticateWithPhoneNumber(e,t){return Ki(this.auth,function(e,t,n){return cr.apply(this,arguments)}(this._delegate,e,t))}reauthenticateWithPopup(e){return $i(this.auth,function(e,t,n){return Er.apply(this,arguments)}(this._delegate,e,Hi))}reauthenticateWithRedirect(e){var t=this;return(0,r.Z)(function*(){return yield qi(Ie(t.auth)),function(e,t,n){return function(e,t,n){return Pr.apply(this,arguments)}(e,t,n)}(t._delegate,e,Hi)})()}sendEmailVerification(e){return function(e,t){return on.apply(this,arguments)}(this._delegate,e)}unlink(e){var t=this;return(0,r.Z)(function*(){return yield function(e,t){return It.apply(this,arguments)}(t._delegate,e),t})()}updateEmail(e){return function(e,t){return hn((0,s.m9)(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return hn((0,s.m9)(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return function(e,t){return dr.apply(this,arguments)}(this._delegate,e)}updateProfile(e){return function(e,t){return un.apply(this,arguments)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return function(e,t,n){return an.apply(this,arguments)}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Qi.USER_MAP=new WeakMap;const Ji=v;let Xi=(()=>{class e{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Ji(n,"invalid-api-key",{appName:e.name}),Ji(n,"invalid-api-key",{appName:e.name});const r="undefined"!=typeof window?Hi:void 0;this._delegate=t.initialize({options:{persistence:ts(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(u),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Qi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){!function(e,t,n){const r=Ie(e);v(r._canInitEmulator,r,"emulator-config-failed"),v(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),s=xe(t),{host:o,port:a}=function(e){const t=xe(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ae(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ae(t)}}}(t);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(this._delegate,e,t)}applyActionCode(e){return function(e,t){return Yt.apply(this,arguments)}(this._delegate,e)}checkActionCode(e){return Wt(this._delegate,e)}confirmPasswordReset(e,t){return function(e,t,n){return Kt.apply(this,arguments)}(this._delegate,e,t)}createUserWithEmailAndPassword(e,t){var n=this;return(0,r.Z)(function*(){return $i(n._delegate,function(e,t,n){return Xt.apply(this,arguments)}(n._delegate,e,t))})()}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return function(e,t){return sn.apply(this,arguments)}(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=at.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(0,e)}getRedirectResult(){var e=this;return(0,r.Z)(function*(){Ji(Pi(),e._delegate,"operation-not-supported-in-this-environment");const t=yield function(e,t){return Fr.apply(this,arguments)}(e._delegate,Hi);return t?$i(e._delegate,Promise.resolve(t)):{credential:null,user:null}})()}addFrameworkForLogging(e){!function(e,t){Ie(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=es(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=es(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return function(e,t,n){return en.apply(this,arguments)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return function(e,t,n){return $t.apply(this,arguments)}(this._delegate,e,t||void 0)}setPersistence(e){var t=this;return(0,r.Z)(function*(){let n;switch(function(e,t){Vi(Object.values(Mi).includes(t),e,"invalid-persistence-type"),(0,s.b$)()?Vi(t!==Mi.SESSION,e,"unsupported-persistence-type"):(0,s.UG)()?Vi(t===Mi.NONE,e,"unsupported-persistence-type"):Ni()?Vi(t===Mi.NONE||t===Mi.LOCAL&&(0,s.hl)(),e,"unsupported-persistence-type"):Vi(t===Mi.NONE||Di(),e,"unsupported-persistence-type")}(t._delegate,e),e){case Mi.SESSION:n=xn;break;case Mi.LOCAL:n=(yield E(zn)._isAvailable())?zn:kn;break;case Mi.NONE:n=he;break;default:return f("argument-error",{appName:t._delegate.name})}return t._delegate.setPersistence(n)})()}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return $i(this._delegate,function(e){return St.apply(this,arguments)}(this._delegate))}signInWithCredential(e){return $i(this._delegate,Lt(this._delegate,e))}signInWithCustomToken(e){return $i(this._delegate,function(e,t){return Bt.apply(this,arguments)}(this._delegate,e))}signInWithEmailAndPassword(e,t){return $i(this._delegate,function(e,t,n){return Lt((0,s.m9)(e),lt.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return $i(this._delegate,function(e,t,n){return tn.apply(this,arguments)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Ki(this._delegate,function(e,t,n){return ar.apply(this,arguments)}(this._delegate,e,t))}signInWithPopup(e){var t=this;return(0,r.Z)(function*(){return Ji(Pi(),t._delegate,"operation-not-supported-in-this-environment"),$i(t._delegate,function(e,t,n){return Sr.apply(this,arguments)}(t._delegate,e,Hi))})()}signInWithRedirect(e){var t=this;return(0,r.Z)(function*(){return Ji(Pi(),t._delegate,"operation-not-supported-in-this-environment"),yield qi(t._delegate),function(e,t,n){return function(e,t,n){return Nr.apply(this,arguments)}(e,t,n)}(t._delegate,e,Hi)})()}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return function(e,t){return Jt.apply(this,arguments)}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return e.Persistence=Mi,e})();function es(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&Qi.getOrCreate(e)),error:t,complete:n}}function ts(e,t){const n=function(e,t){const n=Zi();if(!n)return[];const r=de(Ui,e,t);switch(n.getItem(r)){case Mi.NONE:return[he];case Mi.LOCAL:return[zn,xn];case Mi.SESSION:return[xn];default:return[]}}(e,t);if("undefined"==typeof self||n.includes(zn)||n.push(zn),"undefined"!=typeof window)for(const r of[kn,xn])n.includes(r)||n.push(r);return n.includes(he)||n.push(he),n}class ns{constructor(){this.providerId="phone",this._delegate=new pr(zi(i.Z.auth()))}static credential(e,t){return pr.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}ns.PHONE_SIGN_IN_METHOD=pr.PHONE_SIGN_IN_METHOD,ns.PROVIDER_ID=pr.PROVIDER_ID;const rs=v;var is;(is=i.Z).INTERNAL.registerComponent(new c.wA("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Xi(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:lt,FacebookAuthProvider:dt,GithubAuthProvider:ft,GoogleAuthProvider:pt,OAuthProvider:ht,SAMLAuthProvider:gt,PhoneAuthProvider:ns,PhoneMultiFactorGenerator:ui,RecaptchaVerifier:class{constructor(e,t,n=i.Z.app()){var r;rs(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new sr(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:yt,Auth:Xi,AuthCredential:Oe,Error:s.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),is.registerVersion("@firebase/auth-compat","0.2.12")},6854:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(n){return new Sha256(t,!0).update(n)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(e){return t.create().update(e)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];t[r]=createOutputMethod(r,e)}return t},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if("string"==typeof e)return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(null==e)throw new Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(n,r){return new HmacSha256(n,t,!0).update(r)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(t){return new HmacSha256(t,e)},t.update=function(e,n){return t.create(e).update(n)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];t[r]=createHmacOutputMethod(r,e)}return t};function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function HmacSha256(e,t,n){var r,i=typeof e;if("string"===i){var s,o=[],a=e.length,l=0;for(r=0;r<a;++r)(s=e.charCodeAt(r))<128?o[l++]=s:s<2048?(o[l++]=192|s>>6,o[l++]=128|63&s):s<55296||s>=57344?(o[l++]=224|s>>12,o[l++]=128|s>>6&63,o[l++]=128|63&s):(s=65536+((1023&s)<<10|1023&e.charCodeAt(++r)),o[l++]=240|s>>18,o[l++]=128|s>>12&63,o[l++]=128|s>>6&63,o[l++]=128|63&s);e=o}else{if("object"!==i)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR)}e.length>64&&(e=new Sha256(t,!0).update(e).array());var c=[],u=[];for(r=0;r<64;++r){var h=e[r]||0;c[r]=92^h,u[r]=54^h}Sha256.call(this,t,n),this.update(u),this.oKeyPad=c,this.inner=!0,this.sharedMemory=n}Sha256.prototype.update=function(e){if(!this.finalized){var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR);t=!0}for(var r,i,s=0,o=e.length,a=this.blocks;s<o;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),t)for(i=this.start;s<o&&i<64;++s)a[i>>2]|=e[s]<<SHIFT[3&i++];else for(i=this.start;s<o&&i<64;++s)(r=e.charCodeAt(s))<128?a[i>>2]|=r<<SHIFT[3&i++]:r<2048?(a[i>>2]|=(192|r>>6)<<SHIFT[3&i++],a[i>>2]|=(128|63&r)<<SHIFT[3&i++]):r<55296||r>=57344?(a[i>>2]|=(224|r>>12)<<SHIFT[3&i++],a[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&r)<<SHIFT[3&i++]):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++s)),a[i>>2]|=(240|r>>18)<<SHIFT[3&i++],a[i>>2]|=(128|r>>12&63)<<SHIFT[3&i++],a[i>>2]|=(128|r>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&r)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=a[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var e,t,n,r,i,s,o=this.h0,a=this.h1,l=this.h2,c=this.h3,u=this.h4,h=this.h5,d=this.h6,p=this.h7,f=this.blocks;for(e=16;e<64;++e)f[e]=f[e-16]+(((t=f[e-15])>>>7|t<<25)^(t>>>18|t<<14)^t>>>3)+f[e-7]+(((t=f[e-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)<<0;for(s=a&l,e=0;e<64;e+=4)this.first?(this.is224?(n=300032,p=(t=f[0]-1413257819)-150054599<<0,c=t+24177077<<0):(n=704751109,p=(t=f[0]-210244248)-1521486534<<0,c=t+143694565<<0),this.first=!1):(p=c+(t=p+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&h^~u&d)+K[e]+f[e])<<0,c=t+(((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+((n=o&a)^o&l^s))<<0),d=l+(t=d+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&u^~p&h)+K[e+1]+f[e+1])<<0,l=t+(((c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10))+((r=c&o)^c&a^n))<<0,h=a+(t=h+((d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(d&p^~d&u)+K[e+2]+f[e+2])<<0,a=t+(((l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10))+((i=l&c)^l&o^r))<<0,u=o+(t=u+((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&d^~h&p)+K[e+3]+f[e+3])<<0,o=t+(((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+((s=a&l)^a&c^i))<<0;this.h0=this.h0+o<<0,this.h1=this.h1+a<<0,this.h2=this.h2+l<<0,this.h3=this.h3+c<<0,this.h4=this.h4+u<<0,this.h5=this.h5+h<<0,this.h6=this.h6+d<<0,this.h7=this.h7+p<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,i=this.h4,s=this.h5,o=this.h6,a=this.h7,l=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o];return this.is224||(l+=HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]),l},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,i=this.h4,s=this.h5,o=this.h6,a=this.h7,l=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,i>>24&255,i>>16&255,i>>8&255,255&i,s>>24&255,s>>16&255,s>>8&255,255&s,o>>24&255,o>>16&255,o>>8&255,255&o];return this.is224||l.push(a>>24&255,a>>16&255,a>>8&255,255&a),l},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=(function(){return exports}).call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},3098:(e,t,n)=>{"use strict";n.d(t,{P:()=>o});var r=n(9193),i=n(5917),s=n(205);class o{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return(0,i.of)(this.value);case"E":return(0,s._)(this.error);case"C":return(0,r.c)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new o("N",e):o.undefinedValueNotification}static createError(e){return new o("E",void 0,e)}static createComplete(){return o.completeNotification}}o.completeNotification=new o("C"),o.undefinedValueNotification=new o("N",void 0)},7574:(e,t,n)=>{"use strict";n.d(t,{y:()=>c});var r=n(7393),i=n(9181),s=n(6490),o=n(6554),a=n(4487),l=n(2494);let c=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:o}=this,a=function(e,t,n){if(e){if(e instanceof r.L)return e;if(e[i.b])return e[i.b]()}return e||t||n?new r.L(e,t,n):new r.L(s.c)}(e,t,n);if(a.add(o?o.call(a,this.source):this.source||l.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),l.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){l.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:i}=e;if(t||i)return!1;e=n&&n instanceof r.L?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=u(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(i){n(i),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[o.L](){return this}pipe(...e){return 0===e.length?this:(0===(t=e).length?a.y:1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)})(this);var t}toPromise(e){return new(e=u(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function u(e){if(e||(e=l.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},6490:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});var r=n(2494),i=n(4449);const s={closed:!0,next(e){},error(e){if(r.v.useDeprecatedSynchronousErrorHandling)throw e;(0,i.z)(e)},complete(){}}},9765:(e,t,n)=>{"use strict";n.d(t,{Yc:()=>c,xQ:()=>u});var r=n(7574),i=n(7393),s=n(5319),o=n(7971),a=n(8858),l=n(9181);class c extends i.L{constructor(e){super(e),this.destination=e}}let u=(()=>{class e extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[l.b](){return new c(this)}lift(e){const t=new h(this,this);return t.operator=e,t}next(e){if(this.closed)throw new o.N;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].next(e)}}error(e){if(this.closed)throw new o.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new o.N;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new o.N;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new o.N;return this.hasError?(e.error(this.thrownError),s.w.EMPTY):this.isStopped?(e.complete(),s.w.EMPTY):(this.observers.push(e),new a.W(this,e))}asObservable(){const e=new r.y;return e.source=this,e}}return e.create=(e,t)=>new h(e,t),e})();class h extends u{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):s.w.EMPTY}}},8858:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var r=n(5319);class i extends r.w{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},7393:(e,t,n)=>{"use strict";n.d(t,{L:()=>c});var r=n(9105),i=n(6490),s=n(5319),o=n(9181),a=n(2494),l=n(4449);class c extends s.w{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!e){this.destination=i.c;break}if("object"==typeof e){e instanceof c?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new u(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,e,t,n)}}[o.b](){return this}static create(e,t,n){const r=new c(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class u extends c{constructor(e,t,n,s){let o;super(),this._parentSubscriber=e;let a=this;(0,r.m)(t)?o=t:t&&(o=t.next,n=t.error,s=t.complete,t!==i.c&&(a=Object.create(t),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,l.z)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,l.z)(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,l.z)(n)}}__tryOrSetError(e,t,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):((0,l.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},5319:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=n(9796),i=n(1555),s=n(9105);const o=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();class a{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:n,_unsubscribe:l,_subscriptions:u}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof a)t.remove(this);else if(null!==t)for(let r=0;r<t.length;++r)t[r].remove(this);if((0,s.m)(l)){n&&(this._unsubscribe=void 0);try{l.call(this)}catch(h){e=h instanceof o?c(h.errors):[h]}}if((0,r.k)(u)){let t=-1,n=u.length;for(;++t<n;){const n=u[t];if((0,i.K)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(c(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let t=e;if(!e)return a.EMPTY;switch(typeof e){case"function":t=new a(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof a)){const e=t;t=new a,t._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:n}=t;if(null===n)t._parentOrParents=this;else if(n instanceof a){if(n===this)return t;t._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return t;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[t]:r.push(t),t}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}var l;function c(e){return e.reduce((e,t)=>e.concat(t instanceof o?t.errors:t),[])}a.EMPTY=((l=new a).closed=!0,l)},2494:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},5345:(e,t,n)=>{"use strict";n.d(t,{IY:()=>o,Ds:()=>a,ft:()=>l});var r=n(7393),i=n(7574),s=n(7444);class o extends r.L{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function l(e,t){if(t.closed)return;if(e instanceof i.y)return e.subscribe(t);let n;try{n=(0,s.s)(e)(t)}catch(r){t.error(r)}return n}},2441:(e,t,n)=>{"use strict";n.d(t,{c:()=>a,N:()=>l});var r=n(9765),i=n(7574),s=n(5319),o=n(1307);class a extends i.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new s.w,e.add(this.source.subscribe(new c(this.getSubject(),this))),e.closed&&(this._connection=null,e=s.w.EMPTY)),e}refCount(){return(0,o.x)()(this)}}const l=(()=>{const e=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class c extends r.Yc{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}},9193:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,c:()=>s});var r=n(7574);const i=new r.y(e=>e.complete());function s(e){return e?function(e){return new r.y(t=>e.schedule(()=>t.complete()))}(e):i}},4402:(e,t,n)=>{"use strict";n.d(t,{D:()=>h});var r=n(7574),i=n(7444),s=n(5319),o=n(6554),a=n(4087),l=n(377),c=n(4072),u=n(9489);function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[o.L]}(e))return function(e,t){return new r.y(n=>{const r=new s.w;return r.add(t.schedule(()=>{const i=e[o.L]();r.add(i.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r})}(e,t);if((0,c.t)(e))return function(e,t){return new r.y(n=>{const r=new s.w;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r})}(e,t);if((0,u.z)(e))return(0,a.r)(e,t);if(function(e){return e&&"function"==typeof e[l.hZ]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new s.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=e[l.hZ](),r.add(t.schedule(function(){if(n.closed)return;let e,t;try{const n=i.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())}))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.y?e:new r.y((0,i.s)(e))}},6693:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});var r=n(7574),i=n(5015),s=n(4087);function o(e,t){return t?(0,s.r)(e,t):new r.y((0,i.V)(e))}},6682:(e,t,n)=>{"use strict";n.d(t,{T:()=>a});var r=n(7574),i=n(4869),s=n(3282),o=n(6693);function a(...e){let t=Number.POSITIVE_INFINITY,n=null,a=e[e.length-1];return(0,i.K)(a)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof a&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof r.y?e[0]:(0,s.J)(t)((0,o.n)(e,n))}},5917:(e,t,n)=>{"use strict";n.d(t,{of:()=>o});var r=n(4869),i=n(6693),s=n(4087);function o(...e){let t=e[e.length-1];return(0,r.K)(t)?(e.pop(),(0,s.r)(e,t)):(0,i.n)(e)}},205:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});var r=n(7574);function i(e,t){return new r.y(t?n=>t.schedule(s,0,{error:e,subscriber:n}):t=>t.error(e))}function s({error:e,subscriber:t}){t.error(e)}},8002:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var r=n(7393);function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(e,t))}}class s{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new o(e,this.project,this.thisArg))}}class o extends r.L{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},3282:(e,t,n)=>{"use strict";n.d(t,{J:()=>s});var r=n(9773),i=n(4487);function s(e=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,e)}},9773:(e,t,n)=>{"use strict";n.d(t,{zg:()=>o});var r=n(8002),i=n(4402),s=n(5345);function o(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?s=>s.pipe(o((n,s)=>(0,i.D)(e(n,s)).pipe((0,r.U)((e,r)=>t(n,e,s,r))),n)):("number"==typeof t&&(n=t),t=>t.lift(new a(e,n)))}class a{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new l(e,this.project,this.concurrent))}}class l extends s.Ds{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}_innerSub(e){const t=new s.IY(this),n=this.destination;n.add(t);const r=(0,s.ft)(e,t);r!==t&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(e,t,n)=>{"use strict";n.d(t,{QV:()=>s,ht:()=>a});var r=n(7393),i=n(3098);function s(e,t=0){return function(n){return n.lift(new o(e,t))}}class o{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new a(e,this.scheduler,this.delay))}}class a extends r.L{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new l(e,this.destination)))}_next(e){this.scheduleMessage(i.P.createNext(e))}_error(e){this.scheduleMessage(i.P.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(i.P.createComplete()),this.unsubscribe()}}class l{constructor(e,t){this.notification=e,this.destination=t}}},1307:(e,t,n)=>{"use strict";n.d(t,{x:()=>i});var r=n(7393);function i(){return function(e){return e.lift(new s(e))}}class s{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new o(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.L{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},8819:(e,t,n)=>{"use strict";n.d(t,{B:()=>a});var r=n(2441),i=n(1307),s=n(9765);function o(){return new s.xQ}function a(){return e=>{return(0,i.x)()((t=o,function(e){let n;n="function"==typeof t?t:function(){return t};const i=Object.create(e,r.N);return i.source=e,i.subjectFactory=n,i})(e));var t}}},9673:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});var r=n(7574),i=n(4581),s=n(6561);class o extends r.y{constructor(e,t=0,n=i.e){super(),this.source=e,this.delayTime=t,this.scheduler=n,(!(0,s.k)(t)||t<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.e)}static create(e,t=0,n=i.e){return new o(e,t,n)}static dispatch(e){const{source:t,subscriber:n}=e;return this.add(t.subscribe(n))}_subscribe(e){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:e})}}function a(e,t=0){return function(n){return n.lift(new l(e,t))}}class l{constructor(e,t){this.scheduler=e,this.delay=t}call(e,t){return new o(t,this.delay,this.scheduler).subscribe(e)}}},3342:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});var r=n(7393);function i(){}var s=n(9105);function o(e,t,n){return function(r){return r.lift(new a(e,t,n))}}class a{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new l(e,this.nextOrObserver,this.error,this.complete))}}class l extends r.L{constructor(e,t,n,r){super(e),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,(0,s.m)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||i,this._tapError=t.error||i,this._tapComplete=t.complete||i)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}},4087:(e,t,n)=>{"use strict";n.d(t,{r:()=>s});var r=n(7574),i=n(5319);function s(e,t){return new r.y(n=>{const r=new i.w;let s=0;return r.add(t.schedule(function(){s!==e.length?(n.next(e[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},6465:(e,t,n)=>{"use strict";n.d(t,{o:()=>s});var r=n(5319);class i extends r.w{constructor(e,t){super()}schedule(e,t=0){return this}}class s extends i{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n,r=!1;try{this.work(e)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}},6102:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});let r=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class i extends r{constructor(e,t=r.now){super(e,()=>i.delegate&&i.delegate!==this?i.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}},4581:(e,t,n)=>{"use strict";n.d(t,{e:()=>h,E:()=>u});let r=1;const i=Promise.resolve(),s={};function o(e){return e in s&&(delete s[e],!0)}const a={setImmediate(e){const t=r++;return s[t]=!0,i.then(()=>o(t)&&e()),t},clearImmediate(e){o(e)}};var l=n(6465),c=n(6102);const u=new class extends c.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,i=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<i&&(e=t.shift()));if(this.active=!1,n){for(;++r<i&&(e=t.shift());)e.unsubscribe();throw n}}}(class extends l.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=a.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(a.clearImmediate(t),e.scheduled=void 0)}}),h=u},3637:(e,t,n)=>{"use strict";n.d(t,{z:()=>i,P:()=>s});var r=n(6465);const i=new(n(6102).v)(r.o),s=i},7771:(e,t,n)=>{"use strict";n.d(t,{c:()=>o,N:()=>s});var r=n(6465),i=n(6102);const s=new class extends i.v{}(class extends r.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}),o=s},377:(e,t,n)=>{"use strict";n.d(t,{hZ:()=>r});const r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});const r=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})()},4449:(e,t,n)=>{"use strict";function r(e){setTimeout(()=>{throw e},0)}n.d(t,{z:()=>r})},4487:(e,t,n)=>{"use strict";function r(e){return e}n.d(t,{y:()=>r})},9796:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});const r=Array.isArray||(e=>e&&"number"==typeof e.length)},9489:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});const r=e=>e&&"number"==typeof e.length&&"function"!=typeof e},9105:(e,t,n)=>{"use strict";function r(e){return"function"==typeof e}n.d(t,{m:()=>r})},6561:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var r=n(9796);function i(e){return!(0,r.k)(e)&&e-parseFloat(e)+1>=0}},1555:(e,t,n)=>{"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,{K:()=>r})},4072:(e,t,n)=>{"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,{t:()=>r})},4869:(e,t,n)=>{"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,{K:()=>r})},7444:(e,t,n)=>{"use strict";n.d(t,{s:()=>u});var r=n(5015),i=n(4449),s=n(377),o=n(6554),a=n(9489),l=n(4072),c=n(1555);const u=e=>{if(e&&"function"==typeof e[o.L])return u=e,e=>{const t=u[o.L]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if((0,a.z)(e))return(0,r.V)(e);if((0,l.t)(e))return n=e,e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,i.z),e);if(e&&"function"==typeof e[s.hZ])return t=e,e=>{const n=t[s.hZ]();for(;;){let t;try{t=n.next()}catch(r){return e.error(r),e}if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e};{const t=(0,c.K)(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,n,u}},5015:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});const r=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}},349:(e,t,n)=>{"use strict";var r=n(7716);let i=null;function s(){return i}const o=new r.OlP("DocumentToken");let a=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:l,token:e,providedIn:"platform"}),e})();function l(){return(0,r.LFG)(u)}const c=new r.OlP("Location Initialized");let u=(()=>{class e extends a{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){h()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){h()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=(0,r.Yz7)({factory:d,token:e,providedIn:"platform"}),e})();function h(){return!!window.history.pushState}function d(){return new u((0,r.LFG)(o))}function p(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function f(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function m(e){return e&&"?"!==e[0]?"?"+e:e}let g=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:y,token:e,providedIn:"root"}),e})();function y(e){const t=(0,r.LFG)(o).location;return new v((0,r.LFG)(a),t&&t.origin||"")}const _=new r.OlP("appBaseHref");let v=(()=>{class e extends g{constructor(e,t){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return p(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(a),r.LFG(_,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),b=(()=>{class e extends g{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=t&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=p(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(a),r.LFG(_,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),w=(()=>{class e{constructor(e,t){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=f(E(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+m(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,E(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+m(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+m(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformStrategy).historyGo)||void 0===n||n.call(t,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(g),r.LFG(a))},e.normalizeQueryParams=m,e.joinWithSlash=p,e.stripTrailingSlash=f,e.\u0275prov=(0,r.Yz7)({factory:S,token:e,providedIn:"root"}),e})();function S(){return new w((0,r.LFG)(g),(0,r.LFG)(a))}function E(e){return e.replace(/\/index.html$/,"")}var C=(()=>((C=C||{})[C.Decimal=0]="Decimal",C[C.Percent=1]="Percent",C[C.Currency=2]="Currency",C[C.Scientific=3]="Scientific",C))(),T=(()=>((T=T||{})[T.Zero=0]="Zero",T[T.One=1]="One",T[T.Two=2]="Two",T[T.Few=3]="Few",T[T.Many=4]="Many",T[T.Other=5]="Other",T))(),I=(()=>((I=I||{})[I.Decimal=0]="Decimal",I[I.Group=1]="Group",I[I.List=2]="List",I[I.PercentSign=3]="PercentSign",I[I.PlusSign=4]="PlusSign",I[I.MinusSign=5]="MinusSign",I[I.Exponential=6]="Exponential",I[I.SuperscriptingExponent=7]="SuperscriptingExponent",I[I.PerMille=8]="PerMille",I[I[1/0]=9]="Infinity",I[I.NaN=10]="NaN",I[I.TimeSeparator=11]="TimeSeparator",I[I.CurrencyDecimal=12]="CurrencyDecimal",I[I.CurrencyGroup=13]="CurrencyGroup",I))();function k(e,t){const n=(0,r.cg1)(e),i=n[r.wAp.NumberSymbols][t];if(void 0===i){if(t===I.CurrencyDecimal)return n[r.wAp.NumberSymbols][I.Decimal];if(t===I.CurrencyGroup)return n[r.wAp.NumberSymbols][I.Group]}return i}const x=r.kL8,A=/^(\d+)?\.((\d+)(-(\d+))?)?$/,O=".",R="0";function D(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}class N{}let P=(()=>{class e extends N{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(x(t||this.locale)(e)){case T.Zero:return"zero";case T.One:return"one";case T.Two:return"two";case T.Few:return"few";case T.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.soG))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function L(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}let F=(()=>{class e{constructor(e,t,n,r){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,r.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,r.AaK)(e.item)}`);this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.ZZ4),r.Y36(r.aQg),r.Y36(r.SBq),r.Y36(r.Qsj))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})();class M{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let V=(()=>{class e{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(OA){throw new Error(`Cannot find a differ supporting object '${t}' of type '${e=t,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new M(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new U(e,n);t.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new U(e,i);t.push(s)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class U{constructor(e,t){this.record=e,this.view=t}}let q=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new j,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Z("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Z("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class j{constructor(){this.$implicit=null,this.ngIf=null}}function Z(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${(0,r.AaK)(t)}'.`)}class B{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let H=(()=>{class e{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e})(),z=(()=>{class e{constructor(e,t,n){this.ngSwitch=n,n._addCase(),this._view=new B(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(H,9))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e})(),G=(()=>{class e{constructor(e,t,n){n._addDefault(new B(e,t))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(H,9))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngSwitchDefault",""]]}),e})();function $(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,r.AaK)(e)}'`)}class K{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Y{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}}const W=new Y,Q=new K;let J=(()=>{class e{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(t){if((0,r.QGY)(t))return W;if((0,r.F4k)(t))return Q;throw $(e,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.sBO,16))},e.\u0275pipe=r.Yjl({name:"async",type:e,pure:!1}),e})(),X=(()=>{class e{constructor(e){this._locale=e}transform(t,n,i){if(!function(e){return!(null==e||""===e||e!=e)}(t))return null;i=i||this._locale;try{return function(e,t,n){return function(e,t,n,r,i,s,o=!1){let a="",l=!1;if(isFinite(e)){let c=function(e){let t,n,r,i,s,o=Math.abs(e)+"",a=0;for((n=o.indexOf(O))>-1&&(o=o.replace(O,"")),(r=o.search(/e/i))>0?(n<0&&(n=r),n+=+o.slice(r+1),o=o.substring(0,r)):n<0&&(n=o.length),r=0;o.charAt(r)===R;r++);if(r===(s=o.length))t=[0],n=1;else{for(s--;o.charAt(s)===R;)s--;for(n-=r,t=[],i=0;r<=s;r++,i++)t[i]=Number(o.charAt(r))}return n>22&&(t=t.splice(0,21),a=n-1,n=1),{digits:t,exponent:a,integerLen:n}}(e);o&&(c=function(e){if(0===e.digits[0])return e;const t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(c));let u=t.minInt,h=t.minFrac,d=t.maxFrac;if(s){const e=s.match(A);if(null===e)throw new Error(`${s} is not a valid digit info`);const t=e[1],n=e[3],r=e[5];null!=t&&(u=D(t)),null!=n&&(h=D(n)),null!=r?d=D(r):null!=n&&h>d&&(d=h)}!function(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let r=e.digits,i=r.length-e.integerLen;const s=Math.min(Math.max(t,i),n);let o=s+e.integerLen,a=r[o];if(o>0){r.splice(Math.max(e.integerLen,o));for(let e=o;e<r.length;e++)r[e]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let e=1;e<o;e++)r[e]=0}if(a>=5)if(o-1<0){for(let t=0;t>o;t--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let l=0!==s;const c=t+e.integerLen,u=r.reduceRight(function(e,t,n,r){return r[n]=(t+=e)<10?t:t-10,l&&(0===r[n]&&n>=c?r.pop():l=!1),t>=10?1:0},0);u&&(r.unshift(u),e.integerLen++)}(c,h,d);let p=c.digits,f=c.integerLen;const m=c.exponent;let g=[];for(l=p.every(e=>!e);f<u;f++)p.unshift(0);for(;f<0;f++)p.unshift(0);f>0?g=p.splice(f,p.length):(g=p,p=[0]);const y=[];for(p.length>=t.lgSize&&y.unshift(p.splice(-t.lgSize,p.length).join(""));p.length>t.gSize;)y.unshift(p.splice(-t.gSize,p.length).join(""));p.length&&y.unshift(p.join("")),a=y.join(k(n,r)),g.length&&(a+=k(n,i)+g.join("")),m&&(a+=k(n,I.Exponential)+"+"+m)}else a=k(n,I.Infinity);return a=e<0&&!l?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}(e,function(e,t="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(O)?i.split(O):[i.substring(0,i.lastIndexOf(R)+1),i.substring(i.lastIndexOf(R)+1)],a=o[0],l=o[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const e=l.charAt(u);e===R?n.minFrac=n.maxFrac=u+1:"#"===e?n.maxFrac=u+1:n.posSuf+=e}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const e=i.length-n.posPre.length-n.posSuf.length,t=s.indexOf("#");n.negPre=s.substr(0,t).replace(/'/g,""),n.negSuf=s.substr(t+e).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}(function(e,t){return(0,r.cg1)(e)[r.wAp.NumberFormats][t]}(t,C.Decimal),k(t,I.MinusSign)),t,I.Group,I.Decimal,n)}(function(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}(t),i,n)}catch(s){throw $(e,s.message)}}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.soG,16))},e.\u0275pipe=r.Yjl({name:"number",type:e,pure:!0}),e})(),ee=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[{provide:N,useClass:P}]}),e})();function te(e){return"server"===e}let ne=(()=>{class e{}return e.\u0275prov=(0,r.Yz7)({token:e,providedIn:"root",factory:()=>new re((0,r.LFG)(o),window)}),e})();class re{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const e=r.shadowRoot;if(e){const n=e.getElementById(t)||e.querySelector(`[name="${t}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ie(this.window.history)||ie(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(OA){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(OA){return!1}}}function ie(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class se{}class oe extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var e;e=new oe,i||(i=e)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(le=le||document.querySelector("base"),le?le.getAttribute("href"):null);return null==t?null:function(e){ae=ae||document.createElement("a"),ae.setAttribute("href",e);const t=ae.pathname;return"/"===t.charAt(0)?t:`/${t}`}(t)}resetBaseElement(){le=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return L(document.cookie,e)}}let ae,le=null;const ce=new r.OlP("TRANSITION_ID"),ue=[{provide:r.ip1,useFactory:function(e,t,n){return()=>{n.get(r.CZH).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[ce,o,r.zs3],multi:!0}];class he{static init(){(0,r.VLi)(new he)}addToWindow(e){r.dqk.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(e=>{const t=r.dqk.getAllAngularTestabilities();let n=t.length,i=!1;const s=function(t){i=i||t,n--,0==n&&e(i)};t.forEach(function(e){e.whenStable(s)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:n?s().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let de=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const pe=new r.OlP("EventManagerPlugins");let fe=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(pe),r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class me{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const r=s().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,n)}}let ge=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),ye=(()=>{class e extends ge{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,t,n){e.forEach(e=>{const r=this._doc.createElement("style");r.textContent=e,n.push(t.appendChild(r))})}addHost(e){const t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}removeHost(e){const t=this._hostNodes.get(e);t&&t.forEach(_e),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((t,n)=>{this._addStylesToHost(e,n,t)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(_e))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function _e(e){s().remove(e)}const ve={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},be=/%COMP%/g;function we(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?we(e,i,n):(i=i.replace(be,e),n.push(i))}return n}function Se(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ee=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Ce(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case r.ifc.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new Te(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case 1:case r.ifc.ShadowDom:return new Ie(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=we(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(fe),r.LFG(ye),r.LFG(r.AFp))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class Ce{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(ve[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const i=ve[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=ve[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,i){i&(r.JOm.DashCase|r.JOm.Important)?e.style.setProperty(t,n,i&r.JOm.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&r.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Se(n)):this.eventManager.addEventListener(e,t,Se(n))}}class Te extends Ce{constructor(e,t,n,r){super(e),this.component=n;const i=we(r+"-"+n.id,n.styles,[]);t.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(be,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(be,r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class Ie extends Ce{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=we(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const e=document.createElement("style");e.textContent=i[s],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ke=(()=>{class e extends me{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const xe=["alt","control","meta","shift"],Ae={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Oe={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Re={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let De=(()=>{class e extends me{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,r){const i=e.parseEventName(n),o=e.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(t,i.domEventName,o))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=e._normalizeKey(n.pop());let s="";if(xe.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),s+=e+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Oe.hasOwnProperty(t)&&(t=Oe[t]))}return Ae[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),xe.forEach(r=>{r!=n&&(0,Re[r])(e)&&(t+=r+".")}),t+=n,t}static eventCallback(t,n,r){return i=>{e.getEventFullKey(i)===t&&r.runGuarded(()=>n(i))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),Ne=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:function(){return(0,r.LFG)(Le)},token:e,providedIn:"root"}),e})();function Pe(e){return new Le(e.get(o))}let Le=(()=>{class e extends Ne{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case r.q3G.NONE:return t;case r.q3G.HTML:return(0,r.qzn)(t,"HTML")?(0,r.z3N)(t):(0,r.EiD)(this._doc,String(t)).toString();case r.q3G.STYLE:return(0,r.qzn)(t,"Style")?(0,r.z3N)(t):t;case r.q3G.SCRIPT:if((0,r.qzn)(t,"Script"))return(0,r.z3N)(t);throw new Error("unsafe value used in a script context");case r.q3G.URL:return(0,r.yhl)(t),(0,r.qzn)(t,"URL")?(0,r.z3N)(t):(0,r.mCW)(String(t));case r.q3G.RESOURCE_URL:if((0,r.qzn)(t,"ResourceURL"))return(0,r.z3N)(t);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,r.JVY)(e)}bypassSecurityTrustStyle(e){return(0,r.L6k)(e)}bypassSecurityTrustScript(e){return(0,r.eBb)(e)}bypassSecurityTrustUrl(e){return(0,r.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,r.pB0)(e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=(0,r.Yz7)({factory:function(){return Pe((0,r.LFG)(r.gxx))},token:e,providedIn:"root"}),e})();const Fe=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:"browser"},{provide:r.g9A,useValue:function(){oe.makeCurrent(),he.init()},multi:!0},{provide:o,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),Me=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:pe,useClass:ke,multi:!0,deps:[o,r.R0b,r.Lbi]},{provide:pe,useClass:De,multi:!0,deps:[o]},[],{provide:Ee,useClass:Ee,deps:[fe,ye,r.AFp]},{provide:r.FYo,useExisting:Ee},{provide:ge,useExisting:ye},{provide:ye,useClass:ye,deps:[o]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:fe,useClass:fe,deps:[pe,r.R0b]},{provide:se,useClass:de,deps:[]},[]];let Ve=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:r.AFp,useValue:t.appId},{provide:ce,useExisting:r.AFp},ue]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(e,12))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:Me,imports:[ee,r.hGG]}),e})();"undefined"!=typeof window&&window;var Ue=n(4402),qe=n(5917),je=n(9765),Ze=n(7971);class Be extends je.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ze.N;return this._value}next(e){super.next(this._value=e)}}var He=n(4869),ze=n(9796),Ge=n(7393);class $e extends Ge.L{notifyNext(e,t,n,r,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class Ke extends Ge.L{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Ye=n(7444),We=n(7574);function Qe(e,t,n,r,i=new Ke(e,n,r)){if(!i.closed)return t instanceof We.y?t.subscribe(i):(0,Ye.s)(t)(i)}var Je=n(6693);const Xe={};class et{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new tt(e,this.resultSelector))}}class tt extends $e{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Xe),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++)this.add(Qe(this,e[n],void 0,n))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n){const r=this.values,i=this.toRespond?r[n]===Xe?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}const nt=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();var rt=n(3282);function it(...e){return(0,rt.J)(1)((0,qe.of)(...e))}var st=n(9193);function ot(e){return new We.y(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?(0,Ue.D)(n):(0,st.c)()).subscribe(t)})}var at=n(2441),lt=n(8002),ct=n(5345);function ut(e,t){return"function"==typeof t?n=>n.pipe(ut((n,r)=>(0,Ue.D)(e(n,r)).pipe((0,lt.U)((e,i)=>t(n,e,r,i))))):t=>t.lift(new ht(e))}class ht{constructor(e){this.project=e}call(e,t){return t.subscribe(new dt(e,this.project))}}class dt extends ct.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const n=new ct.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,ct.ft)(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const pt=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();function ft(e){return t=>0===e?(0,st.c)():t.lift(new mt(e))}class mt{constructor(e){if(this.total=e,this.total<0)throw new pt}call(e,t){return t.subscribe(new gt(e,this.total))}}class gt extends Ge.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function yt(...e){const t=e[e.length-1];return(0,He.K)(t)?(e.pop(),n=>it(e,n,t)):t=>it(e,t)}function _t(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new vt(e,t,n))}}class vt{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new bt(e,this.accumulator,this.seed,this.hasSeed))}}class bt extends Ge.L{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function wt(e,t){return function(n){return n.lift(new St(e,t))}}class St{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Et(e,this.predicate,this.thisArg))}}class Et extends Ge.L{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}function Ct(e){return function(t){const n=new Tt(e),r=t.lift(n);return n.caught=r}}class Tt{constructor(e){this.selector=e}call(e,t){return t.subscribe(new It(e,this.selector,this.caught))}}class It extends ct.Ds{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new ct.IY(this);this.add(r);const i=(0,ct.ft)(n,r);i!==r&&this.add(i)}}}var kt=n(9773);function xt(e,t){return(0,kt.zg)(e,t,1)}function At(e){return function(t){return 0===e?(0,st.c)():t.lift(new Ot(e))}}class Ot{constructor(e){if(this.total=e,this.total<0)throw new pt}call(e,t){return t.subscribe(new Rt(e,this.total))}}class Rt extends Ge.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=t++%n;e.next(r[i])}}e.complete()}}function Dt(e=Lt){return t=>t.lift(new Nt(e))}class Nt{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Pt(e,this.errorFactory))}}class Pt extends Ge.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Lt(){return new nt}function Ft(e=null){return t=>t.lift(new Mt(e))}class Mt{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new Vt(e,this.defaultValue))}}class Vt extends Ge.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Ut=n(4487);function qt(e,t){const n=arguments.length>=2;return r=>r.pipe(e?wt((t,n)=>e(t,n,r)):Ut.y,ft(1),n?Ft(t):Dt(()=>new nt))}var jt=n(3342),Zt=n(1307),Bt=n(5319);function Ht(e){return t=>t.lift(new zt(e))}class zt{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Gt(e,this.callback))}}class Gt extends Ge.L{constructor(e,t){super(e),this.add(new Bt.w(t))}}class $t{constructor(e,t){this.id=e,this.url=t}}class Kt extends $t{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Yt extends $t{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Wt extends $t{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Qt extends $t{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Jt extends $t{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xt extends $t{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class en extends $t{constructor(e,t,n,r,i){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class tn extends $t{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nn extends $t{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rn{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sn{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class on{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class an{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ln{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cn{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class un{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const hn="primary";class dn{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function pn(e){return new dn(e)}function fn(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function mn(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const t=r[s],n=e[s];if(t.startsWith(":"))i[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function gn(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!yn(e[i],t[i]))return!1;return!0}function yn(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((e,t)=>r[t]===e)}return e===t}function _n(e){return Array.prototype.concat.apply([],e)}function vn(e){return e.length>0?e[e.length-1]:null}function bn(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function wn(e){return(0,r.CqO)(e)?e:(0,r.QGY)(e)?(0,Ue.D)(Promise.resolve(e)):(0,qe.of)(e)}const Sn={exact:function e(t,n,r){if(!Rn(t.segments,n.segments))return!1;if(!kn(t.segments,n.segments,r))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!t.children[i])return!1;if(!e(t.children[i],n.children[i],r))return!1}return!0},subset:Tn},En={exact:function(e,t){return gn(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>yn(e[n],t[n]))},ignored:()=>!0};function Cn(e,t,n){return Sn[n.paths](e.root,t.root,n.matrixParams)&&En[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function Tn(e,t,n){return In(e,t,t.segments,n)}function In(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!!Rn(i,n)&&!t.hasChildren()&&!!kn(i,n,r)}if(e.segments.length===n.length){if(!Rn(e.segments,n))return!1;if(!kn(e.segments,n,r))return!1;for(const n in t.children){if(!e.children[n])return!1;if(!Tn(e.children[n],t.children[n],r))return!1}return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!Rn(e.segments,i)&&!!kn(e.segments,i,r)&&!!e.children.primary&&In(e.children.primary,t,s,r)}}function kn(e,t,n){return t.every((t,r)=>En[n](e[r].parameters,t.parameters))}class xn{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pn(this.queryParams)),this._queryParamMap}toString(){return Pn.serialize(this)}}class An{constructor(e,t){this.segments=e,this.children=t,this.parent=null,bn(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ln(this)}}class On{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=pn(this.parameters)),this._parameterMap}toString(){return Zn(this)}}function Rn(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}class Dn{}class Nn{parse(e){const t=new $n(e);return new xn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`/${Fn(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${Vn(t)}=${Vn(e)}`).join("&"):`${Vn(t)}=${Vn(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const Pn=new Nn;function Ln(e){return e.segments.map(e=>Zn(e)).join("/")}function Fn(e,t){if(!e.hasChildren())return Ln(e);if(t){const t=e.children.primary?Fn(e.children.primary,!1):"",n=[];return bn(e.children,(e,t)=>{t!==hn&&n.push(`${t}:${Fn(e,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function(e,t){let n=[];return bn(e.children,(e,r)=>{r===hn&&(n=n.concat(t(e,r)))}),bn(e.children,(e,r)=>{r!==hn&&(n=n.concat(t(e,r)))}),n}(e,(t,n)=>n===hn?[Fn(e.children.primary,!1)]:[`${n}:${Fn(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${Ln(e)}/${t[0]}`:`${Ln(e)}/(${t.join("//")})`}}function Mn(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vn(e){return Mn(e).replace(/%3B/gi,";")}function Un(e){return Mn(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qn(e){return decodeURIComponent(e)}function jn(e){return qn(e.replace(/\+/g,"%20"))}function Zn(e){return`${Un(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${Un(e)}=${Un(t[e])}`).join("")}`;var t}const Bn=/^[^\/()?;=#]+/;function Hn(e){const t=e.match(Bn);return t?t[0]:""}const zn=/^[^=?&#]+/,Gn=/^[^?&#]+/;class $n{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new An([],{}):new An([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new An(e,t)),n}parseSegment(){const e=Hn(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new On(qn(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Hn(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=Hn(this.remaining);e&&(n=e,this.capture(n))}e[qn(t)]=qn(n)}parseQueryParam(e){const t=function(e){const t=e.match(zn);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(Gn);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const r=jn(t),i=jn(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(t=[t],e[r]=t),t.push(i)}else e[r]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Hn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=hn);const s=this.parseChildren();t[i]=1===Object.keys(s).length?s.primary:new An([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Kn{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Yn(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=Yn(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Wn(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return Wn(e,this._root).map(e=>e.value)}}function Yn(e,t){if(e===t.value)return t;for(const n of t.children){const t=Yn(e,n);if(t)return t}return null}function Wn(e,t){if(e===t.value)return[t];for(const n of t.children){const r=Wn(e,n);if(r.length)return r.unshift(t),r}return[]}class Qn{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Jn(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class Xn extends Kn{constructor(e,t){super(e),this.snapshot=t,sr(this,e)}toString(){return this.snapshot.toString()}}function er(e,t){const n=function(e,t){const n=new rr([],{},{},"",{},hn,t,null,e.root,-1,{});return new ir("",new Qn(n,[]))}(e,t),r=new Be([new On("",{})]),i=new Be({}),s=new Be({}),o=new Be({}),a=new Be(""),l=new tr(r,i,o,a,s,hn,t,n.root);return l.snapshot=n.root,new Xn(new Qn(l,[]),n)}class tr{constructor(e,t,n,r,i,s,o,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,lt.U)(e=>pn(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,lt.U)(e=>pn(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nr(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class rr{constructor(e,t,n,r,i,s,o,a,l,c,u){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=pn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ir extends Kn{constructor(e,t){super(t),this.url=e,sr(this,t)}toString(){return or(this._root)}}function sr(e,t){t.value._routerState=e,t.children.forEach(t=>sr(e,t))}function or(e){const t=e.children.length>0?` { ${e.children.map(or).join(", ")} } `:"";return`${e.value}${t}`}function ar(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,gn(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),gn(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!gn(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),gn(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function lr(e,t){return gn(e.params,t.params)&&function(e,t){return Rn(e,t)&&e.every((e,n)=>gn(e.parameters,t[n].parameters))}(e.url,t.url)&&!(!e.parent!=!t.parent)&&(!e.parent||lr(e.parent,t.parent))}function cr(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function(e,t,n){return t.children.map(t=>{for(const r of n.children)if(e.shouldReuseRoute(t.value,r.value.snapshot))return cr(e,t,r);return cr(e,t)})}(e,t,n);return new Qn(r,i)}{if(e.shouldAttach(t.value)){const n=e.retrieve(t.value);if(null!==n){const e=n.route;return ur(t,e),e}}const n=new tr(new Be((r=t.value).url),new Be(r.params),new Be(r.queryParams),new Be(r.fragment),new Be(r.data),r.outlet,r.component,r),i=t.children.map(t=>cr(e,t));return new Qn(n,i)}var r}function ur(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let n=0;n<e.children.length;++n)ur(e.children[n],t.children[n])}function hr(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function dr(e){return"object"==typeof e&&null!=e&&e.outlets}function pr(e,t,n,r,i){let s={};return r&&bn(r,(e,t)=>{s[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new xn(n.root===e?t:fr(n.root,e,t),s,i)}function fr(e,t,n){const r={};return bn(e.children,(e,i)=>{r[i]=e===t?n:fr(e,t,n)}),new An(e.segments,r)}class mr{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&hr(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(dr);if(r&&r!==vn(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gr{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function yr(e,t,n){if(e||(e=new An([],{})),0===e.segments.length&&e.hasChildren())return _r(e,t,n);const r=function(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const t=e.segments[i],o=n[r];if(dr(o))break;const a=`${o}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!Sr(a,l,t))return s;r+=2}else{if(!Sr(a,{},t))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new An(e.segments.slice(0,r.pathIndex),{});return t.children.primary=new An(e.segments.slice(r.pathIndex),e.children),_r(t,0,i)}return r.match&&0===i.length?new An(e.segments,{}):r.match&&!e.hasChildren()?vr(e,t,n):r.match?_r(e,0,i):vr(e,t,n)}function _r(e,t,n){if(0===n.length)return new An(e.segments,{});{const r=function(e){return dr(e[0])?e[0].outlets:{[hn]:e}}(n),i={};return bn(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=yr(e.children[r],t,n))}),bn(e.children,(e,t)=>{void 0===r[t]&&(i[t]=e)}),new An(e.segments,i)}}function vr(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(dr(s)){const e=br(s.outlets);return new An(r,e)}if(0===i&&hr(n[0])){r.push(new On(e.segments[t].path,wr(n[0]))),i++;continue}const o=dr(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&hr(a)?(r.push(new On(o,wr(a))),i+=2):(r.push(new On(o,{})),i++)}return new An(r,{})}function br(e){const t={};return bn(e,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=vr(new An([],{}),0,e))}),t}function wr(e){const t={};return bn(e,(e,n)=>t[n]=`${e}`),t}function Sr(e,t,n){return e==n.path&&gn(t,n.parameters)}class Er{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),ar(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=Jn(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),bn(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,i=Jn(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(e,t,n){const r=Jn(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new cn(e.value.snapshot))}),e.children.length&&this.forwardEvent(new an(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(ar(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),Cr(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=i,t.outlet&&t.outlet.activateWith(r,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function Cr(e){ar(e.value),e.children.forEach(Cr)}class Tr{constructor(e,t){this.routes=e,this.module=t}}function Ir(e){return"function"==typeof e}function kr(e){return e instanceof xn}const xr=Symbol("INITIAL_VALUE");function Ar(){return ut(e=>function(...e){let t,n;return(0,He.K)(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&(0,ze.k)(e[0])&&(e=e[0]),(0,Je.n)(e,n).lift(new et(t))}(e.map(e=>e.pipe(ft(1),yt(xr)))).pipe(_t((e,t)=>{let n=!1;return t.reduce((e,r,i)=>{if(e!==xr)return e;if(r===xr&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||kr(r))return r}return e},e)},xr),wt(e=>e!==xr),(0,lt.U)(e=>kr(e)?e:!0===e),ft(1)))}let Or=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&r._UZ(0,"router-outlet")},directives:function(){return[Ii]},encapsulation:2}),e})();function Rr(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];Dr(r,Nr(t,r))}}function Dr(e,t){e.children&&Rr(e.children,t)}function Nr(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function Pr(e){const t=e.children&&e.children.map(Pr),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==hn&&(n.component=Or),n}function Lr(e){return e.outlet||hn}function Fr(e,t){const n=e.filter(e=>Lr(e)===t);return n.push(...e.filter(e=>Lr(e)!==t)),n}const Mr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Vr(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},Mr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(t.matcher||mn)(n,e,t);if(!i)return Object.assign({},Mr);const s={};bn(i.posParams,(e,t)=>{s[t]=e.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Ur(e,t,n,r,i="corrected"){if(n.length>0&&function(e,t,n){return n.some(n=>qr(e,t,n)&&Lr(n)!==hn)}(e,n,r)){const i=new An(t,function(e,t,n,r){const i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&Lr(s)!==hn){const n=new An([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,i[Lr(s)]=n}return i}(e,t,r,new An(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>qr(e,t,n))}(e,n,r)){const s=new An(e.segments,function(e,t,n,r,i,s){const o={};for(const a of r)if(qr(e,n,a)&&!i[Lr(a)]){const n=new An([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===s?e.segments.length:t.length,o[Lr(a)]=n}return Object.assign(Object.assign({},i),o)}(e,t,n,r,e.children,i));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const s=new An(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function qr(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function jr(e,t,n,r){return!!(Lr(e)===r||r!==hn&&qr(t,n,e))&&("**"===e.path||Vr(t,e,n).matched)}function Zr(e,t,n){return 0===t.length&&!e.children[n]}class Br{constructor(e){this.segmentGroup=e||null}}class Hr{constructor(e){this.urlTree=e}}function zr(e){return new We.y(t=>t.error(new Br(e)))}function Gr(e){return new We.y(t=>t.error(new Hr(e)))}function $r(e){return new We.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class Kr{constructor(e,t,n,i,s){this.configLoader=t,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(r.h0i)}apply(){const e=Ur(this.urlTree.root,[],[],this.config).segmentGroup,t=new An(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,hn).pipe((0,lt.U)(e=>this.createUrlTree(Yr(e),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ct(e=>{if(e instanceof Hr)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof Br)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,hn).pipe((0,lt.U)(t=>this.createUrlTree(Yr(t),e.queryParams,e.fragment))).pipe(Ct(e=>{if(e instanceof Br)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new An([],{[hn]:e}):e;return new xn(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe((0,lt.U)(e=>new An([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,Ue.D)(r).pipe(xt(r=>{const i=n.children[r],s=Fr(t,r);return this.expandSegmentGroup(e,s,i,r).pipe((0,lt.U)(e=>({segment:e,outlet:r})))}),_t((e,t)=>(e[t.outlet]=t.segment,e),{}),function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?wt((t,n)=>e(t,n,r)):Ut.y,At(1),n?Ft(t):Dt(()=>new nt))}())}expandSegment(e,t,n,r,i,s){return(0,Ue.D)(n).pipe(xt(o=>this.expandSegmentAgainstRoute(e,t,n,o,r,i,s).pipe(Ct(e=>{if(e instanceof Br)return(0,qe.of)(null);throw e}))),qt(e=>!!e),Ct((e,n)=>{if(e instanceof nt||"EmptyError"===e.name){if(Zr(t,r,i))return(0,qe.of)(new An([],{}));throw new Br(t)}throw e}))}expandSegmentAgainstRoute(e,t,n,r,i,s,o){return jr(r,t,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s):zr(t):zr(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Gr(i):this.lineralizeSegments(n,i).pipe((0,kt.zg)(n=>{const i=new An(n,{});return this.expandSegment(e,i,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:c}=Vr(t,r,i);if(!o)return zr(t);const u=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Gr(u):this.lineralizeSegments(r,u).pipe((0,kt.zg)(r=>this.expandSegment(e,t,n,r.concat(i.slice(l)),s,!1)))}matchSegmentAgainstRoute(e,t,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,qe.of)(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe((0,lt.U)(e=>(n._loadedConfig=e,new An(r,{})))):(0,qe.of)(new An(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=Vr(t,n,r);if(!s)return zr(t);const l=r.slice(a);return this.getChildConfig(e,n,r).pipe((0,kt.zg)(e=>{const r=e.module,s=e.routes,{segmentGroup:a,slicedSegments:c}=Ur(t,o,l,s),u=new An(a.segments,a.children);if(0===c.length&&u.hasChildren())return this.expandChildren(r,s,u).pipe((0,lt.U)(e=>new An(o,e)));if(0===s.length&&0===c.length)return(0,qe.of)(new An(o,{}));const h=Lr(n)===i;return this.expandSegment(r,u,s,c,h?hn:i,!0).pipe((0,lt.U)(e=>new An(o.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?(0,qe.of)(new Tr(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,qe.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe((0,kt.zg)(n=>n?this.configLoader.load(e.injector,t).pipe((0,lt.U)(e=>(t._loadedConfig=e,e))):function(e){return new We.y(t=>t.error(fn(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):(0,qe.of)(new Tr([],e))}runCanLoadGuards(e,t,n){const r=t.canLoad;if(!r||0===r.length)return(0,qe.of)(!0);const i=r.map(r=>{const i=e.get(r);let s;if(function(e){return e&&Ir(e.canLoad)}(i))s=i.canLoad(t,n);else{if(!Ir(i))throw new Error("Invalid CanLoad guard");s=i(t,n)}return wn(s)});return(0,qe.of)(i).pipe(Ar(),(0,jt.b)(e=>{if(!kr(e))return;const t=fn(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),(0,lt.U)(e=>!0===e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,qe.of)(n);if(r.numberOfChildren>1||!r.children.primary)return $r(e.redirectTo);r=r.children.primary}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const i=this.createSegmentGroup(e,t.root,n,r);return new xn(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return bn(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const i=this.createSegments(e,t.segments,n,r);let s={};return bn(t.children,(t,i)=>{s[i]=this.createSegmentGroup(e,t,n,r)}),new An(i,s)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function Yr(e){const t={};for(const n of Object.keys(e.children)){const r=Yr(e.children[n]);(r.segments.length>0||r.hasChildren())&&(t[n]=r)}return function(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new An(e.segments.concat(t.segments),t.children)}return e}(new An(e.segments,t))}class Wr{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Qr{constructor(e,t){this.component=e,this.route=t}}function Jr(e,t,n){const r=e._root;return ei(r,t?t._root:null,n,[r.value])}function Xr(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function ei(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Jn(t);return e.children.forEach(e=>{!function(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Rn(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Rn(e.url,t.url)||!gn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lr(e,t)||!gn(e.queryParams,t.queryParams);case"paramsChange":default:return!lr(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Wr(r)):(s.data=o.data,s._resolvedData=o._resolvedData),ei(e,t,s.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Qr(a.outlet.component,o))}else o&&ti(t,a,i),i.canActivateChecks.push(new Wr(r)),ei(e,null,s.component?a?a.children:null:n,r,i)}(e,s[e.value.outlet],n,r.concat([e.value]),i),delete s[e.value.outlet]}),bn(s,(e,t)=>ti(e,n.getContext(t),i)),i}function ti(e,t,n){const r=Jn(e),i=e.value;bn(r,(e,r)=>{ti(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new Qr(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class ni{}function ri(e){return new We.y(t=>t.error(e))}class ii{constructor(e,t,n,r,i,s){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const e=Ur(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,hn);if(null===t)return null;const n=new rr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},hn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Qn(n,t),i=new ir(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(e){const t=e.value,n=nr(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=[];for(const i of Object.keys(t.children)){const r=t.children[i],s=Fr(e,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=oi(n);return r.sort((e,t)=>e.value.outlet===hn?-1:t.value.outlet===hn?1:e.value.outlet.localeCompare(t.value.outlet)),r}processSegment(e,t,n,r){for(const i of e){const e=this.processSegmentAgainstRoute(i,t,n,r);if(null!==e)return e}return Zr(t,n,r)?[]:null}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo||!jr(e,t,n,r))return null;let i,s=[],o=[];if("**"===e.path){const r=n.length>0?vn(n).parameters:{};i=new rr(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ci(e),Lr(e),e.component,e,ai(t),li(t)+n.length,ui(e))}else{const r=Vr(t,e,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new rr(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ci(e),Lr(e),e.component,e,ai(t),li(t)+s.length,ui(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:c}=Ur(t,s,o,a.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const e=this.processChildren(a,l);return null===e?null:[new Qn(i,e)]}if(0===a.length&&0===c.length)return[new Qn(i,[])];const u=Lr(e)===r,h=this.processSegment(a,l,c,u?hn:r);return null===h?null:[new Qn(i,h)]}}function si(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function oi(e){const t=[],n=new Set;for(const r of e){if(!si(r)){t.push(r);continue}const e=t.find(e=>r.value.routeConfig===e.value.routeConfig);void 0!==e?(e.children.push(...r.children),n.add(e)):t.push(r)}for(const r of n){const e=oi(r.children);t.push(new Qn(r.value,e))}return t.filter(e=>!n.has(e))}function ai(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function li(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function ci(e){return e.data||{}}function ui(e){return e.resolve||{}}function hi(e){return ut(t=>{const n=e(t);return n?(0,Ue.D)(n).pipe((0,lt.U)(()=>t)):(0,qe.of)(t)})}class di extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const pi=new r.OlP("ROUTES");class fi{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const n=this.loadModuleFactory(t.loadChildren).pipe((0,lt.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const i=n.create(e);return new Tr(_n(i.injector.get(pi,void 0,r.XFs.Self|r.XFs.Optional)).map(Pr),i)}),Ct(e=>{throw t._loader$=void 0,e}));return t._loader$=new at.c(n,()=>new je.xQ).pipe((0,Zt.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,Ue.D)(this.loader.load(e)):wn(e()).pipe((0,kt.zg)(e=>e instanceof r.YKP?(0,qe.of)(e):(0,Ue.D)(this.compiler.compileModuleAsync(e))))}}class mi{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new gi,this.attachRef=null}}class gi{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new mi,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class yi{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function _i(e){throw e}function vi(e,t,n){return t.parse("/")}function bi(e,t){return(0,qe.of)(null)}const wi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Si={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ei=(()=>{class e{constructor(e,t,n,i,s,o,a,l){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=i,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new je.xQ,this.errorHandler=_i,this.malformedUriErrorHandler=vi,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:bi,afterPreactivation:bi},this.urlHandlingStrategy=new yi,this.routeReuseStrategy=new di,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(r.h0i),this.console=s.get(r.c2e);const c=s.get(r.R0b);this.isNgZoneEnabled=c instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new xn(new An([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new fi(o,a,e=>this.triggerEvent(new rn(e)),e=>this.triggerEvent(new sn(e))),this.routerState=er(this.currentUrlTree,this.rootComponentType),this.transitions=new Be({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const t=this.events;return e.pipe(wt(e=>0!==e.id),(0,lt.U)(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),ut(e=>{let n=!1,r=!1;return(0,qe.of)(e).pipe((0,jt.b)(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ut(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return(0,qe.of)(e).pipe(ut(e=>{const n=this.transitions.getValue();return t.next(new Kt(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?st.E:Promise.resolve(e)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,ut(e=>function(e,t,n,r,i){return new Kr(e,t,n,r,i).apply()}(r,i,s,e.extractedUrl,o).pipe((0,lt.U)(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t}))))),(0,jt.b)(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,r,i){return(0,kt.zg)(s=>function(e,t,n,r,i="emptyOnly",s="legacy"){try{const o=new ii(e,t,n,r,i,s).recognize();return null===o?ri(new ni):(0,qe.of)(o)}catch(o){return ri(o)}}(e,t,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe((0,lt.U)(e=>Object.assign(Object.assign({},s),{targetSnapshot:e}))))}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,jt.b)(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,e),this.browserUrlTree=e.urlAfterRedirects);const n=new Jt(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=e,a=new Kt(n,this.serializeUrl(r),i,s);t.next(a);const l=er(r,this.rootComponentType).snapshot;return(0,qe.of)(Object.assign(Object.assign({},e),{targetSnapshot:l,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),st.E}),hi(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,jt.b)(e=>{const t=new Xt(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,lt.U)(e=>Object.assign(Object.assign({},e),{guards:Jr(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return(0,kt.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?(0,qe.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return(0,Ue.D)(e).pipe((0,kt.zg)(e=>function(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,qe.of)(!0);const o=s.map(s=>{const o=Xr(s,t,i);let a;if(function(e){return e&&Ir(e.canDeactivate)}(o))a=wn(o.canDeactivate(e,t,n,r));else{if(!Ir(o))throw new Error("Invalid CanDeactivate guard");a=wn(o(e,t,n,r))}return a.pipe(qt())});return(0,qe.of)(o).pipe(Ar())}(e.component,e.route,n,t,r)),qt(e=>!0!==e,!0))}(o,r,i,e).pipe((0,kt.zg)(n=>n&&function(e){return"boolean"==typeof e}(n)?function(e,t,n,r){return(0,Ue.D)(t).pipe(xt(t=>it(function(e,t){return null!==e&&t&&t(new on(e)),(0,qe.of)(!0)}(t.route.parent,r),function(e,t){return null!==e&&t&&t(new ln(e)),(0,qe.of)(!0)}(t.route,r),function(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>ot(()=>{const i=t.guards.map(i=>{const s=Xr(i,t.node,n);let o;if(function(e){return e&&Ir(e.canActivateChild)}(s))o=wn(s.canActivateChild(r,e));else{if(!Ir(s))throw new Error("Invalid CanActivateChild guard");o=wn(s(r,e))}return o.pipe(qt())});return(0,qe.of)(i).pipe(Ar())}));return(0,qe.of)(i).pipe(Ar())}(e,t.path,n),function(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,qe.of)(!0);const i=r.map(r=>ot(()=>{const i=Xr(r,t,n);let s;if(function(e){return e&&Ir(e.canActivate)}(i))s=wn(i.canActivate(t,e));else{if(!Ir(i))throw new Error("Invalid CanActivate guard");s=wn(i(t,e))}return s.pipe(qt())}));return(0,qe.of)(i).pipe(Ar())}(e,t.route,n))),qt(e=>!0!==e,!0))}(r,s,e,t):(0,qe.of)(n)),(0,lt.U)(e=>Object.assign(Object.assign({},n),{guardsResult:e})))})}(this.ngModule.injector,e=>this.triggerEvent(e)),(0,jt.b)(e=>{if(kr(e.guardsResult)){const t=fn(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}const t=new en(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),wt(e=>!!e.guardsResult||(this.restoreHistory(e),this.cancelNavigationTransition(e,""),!1)),hi(e=>{if(e.guards.canActivateChecks.length)return(0,qe.of)(e).pipe((0,jt.b)(e=>{const t=new tn(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),ut(e=>{let t=!1;return(0,qe.of)(e).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,(0,kt.zg)(e=>{const{targetSnapshot:t,guards:{canActivateChecks:i}}=e;if(!i.length)return(0,qe.of)(e);let s=0;return(0,Ue.D)(i).pipe(xt(e=>function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return(0,qe.of)({});const s={};return(0,Ue.D)(i).pipe((0,kt.zg)(i=>function(e,t,n,r){const i=Xr(e,t,r);return wn(i.resolve?i.resolve(t,n):i(t,n))}(e[i],t,n,r).pipe((0,jt.b)(e=>{s[i]=e}))),At(1),(0,kt.zg)(()=>Object.keys(s).length===i.length?(0,qe.of)(s):st.E))}(e._resolve,e,t,r).pipe((0,lt.U)(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),nr(e,n).resolve),null)))}(e.route,t,n,r)),(0,jt.b)(()=>s++),At(1),(0,kt.zg)(t=>s===i.length?(0,qe.of)(e):st.E))})),(0,jt.b)({next:()=>t=!0,complete:()=>{t||(this.restoreHistory(e),this.cancelNavigationTransition(e,"At least one route resolver didn't emit any value."))}}));var n,r}),(0,jt.b)(e=>{const t=new nn(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),hi(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,lt.U)(e=>{const t=function(e,t,n){const r=cr(e,t._root,n?n._root:void 0);return new Xn(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),(0,jt.b)(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,e),this.browserUrlTree=e.urlAfterRedirects)}),(i=this.rootContexts,s=this.routeReuseStrategy,o=e=>this.triggerEvent(e),(0,lt.U)(e=>(new Er(s,e.targetRouterState,e.currentRouterState,o).activate(i),e))),(0,jt.b)({next(){n=!0},complete(){n=!0}}),Ht(()=>{if(!n&&!r){const t=`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(e),this.cancelNavigationTransition(e,t)):this.cancelNavigationTransition(e,t)}this.currentNavigation=null}),Ct(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=kr(n.url);r||(this.navigated=!0,this.restoreHistory(e,!0));const i=new Wt(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(i),r?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.restoreHistory(e,!0);const r=new Qt(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(eS){e.reject(eS)}}var i;return st.E}));var i,s,o}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:n,urlTree:r}=t,i={replaceUrl:!0};if(n){const e=Object.assign({},n);delete e.navigationId,delete e.\u0275routerPageId,0!==Object.keys(e).length&&(i.state=e)}this.scheduleNavigation(r,e,n,i)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Rr(e),this.config=e.map(Pr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=t,a=n||this.routerState.root,l=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,r,i){if(0===n.length)return pr(t.root,t.root,t,r,i);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new mr(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return bn(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new mr(n,t,r)}(n);if(s.toRoot())return pr(t.root,new An([],{}),t,r,i);const o=function(e,t,n){if(e.isAbsolute)return new gr(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const e=n.snapshot._urlSegment;return new gr(e,e===t.root,0)}const r=hr(e.commands[0])?0:1;return function(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new gr(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(s,t,e),a=o.processChildren?_r(o.segmentGroup,o.index,s.commands):yr(o.segmentGroup,o.index,s.commands);return pr(o.segmentGroup,a,t,r,i)}(a,this.currentUrlTree,e,c,null!=l?l:null)}navigateByUrl(e,t={skipLocationChange:!1}){const n=kr(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){let n;if(n=!0===t?Object.assign({},wi):!1===t?Object.assign({},Si):t,kr(e))return Cn(this.currentUrlTree,e,n);const r=this.parseUrl(e);return Cn(this.currentUrlTree,r,n)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Yt(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r,i){var s,o;if(this.disposed)return Promise.resolve(!1);const a=this.getTransition(),l="imperative"!==t&&"imperative"===(null==a?void 0:a.source),c=(this.lastSuccessfulId===a.id||this.currentNavigation?a.rawUrl:a.urlAfterRedirects).toString()===e.toString();if(l&&c)return Promise.resolve(!0);let u,h,d;i?(u=i.resolve,h=i.reject,d=i.promise):d=new Promise((e,t)=>{u=e,h=t});const p=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),f=n&&n.\u0275routerPageId?n.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(s=this.browserPageId)&&void 0!==s?s:0:(null!==(o=this.browserPageId)&&void 0!==o?o:0)+1):f=0,this.setTransition({id:p,targetPageId:f,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:u,reject:h,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(e=>Promise.reject(e))}setBrowserUrl(e,t){const n=this.urlSerializer.serialize(e),r=Object.assign(Object.assign({},t.extras.state),this.generateNgRouterState(t.id,t.targetPageId));this.location.isCurrentPathEqualTo(n)||t.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}restoreHistory(e,t=!1){var n,r;if("computed"===this.canceledNavigationResolution){const t=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)||0===t?this.currentUrlTree===(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)&&0===t&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(t)}else"replace"===this.canceledNavigationResolution&&(t&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,t){const n=new Wt(e.id,this.serializeUrl(e.extractedUrl),t);this.triggerEvent(n),e.resolve(!1)}generateNgRouterState(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,"\u0275routerPageId":t}:{navigationId:e}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.DyG),r.LFG(Dn),r.LFG(gi),r.LFG(w),r.LFG(r.zs3),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(void 0))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),Ci=(()=>{class e{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.onChanges=new je.xQ,this.subscription=e.events.subscribe(e=>{e instanceof Yt&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,r,i){if(0!==e||t||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:Ti(this.skipLocationChange),replaceUrl:Ti(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ti(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Ei),r.Y36(tr),r.Y36(g))},e.\u0275dir=r.lG2({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&r.NdJ("click",function(e){return t.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)}),2&e&&(r.Ikx("href",t.href,r.LSH),r.uIk("target",t.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),e})();function Ti(e){return""===e||!!e}let Ii=(()=>{class e{constructor(e,t,n,i,s){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.name=i||hn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ki(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(gi),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},e.\u0275dir=r.lG2({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class ki{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===tr?this.route:e===gi?this.childContexts:this.parent.get(e,t)}}class xi{}class Ai{preload(e,t){return(0,qe.of)(null)}}let Oi=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=new fi(t,n,t=>e.triggerEvent(new rn(t)),t=>e.triggerEvent(new sn(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(wt(e=>e instanceof Yt),xt(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(r.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return(0,Ue.D)(n).pipe((0,rt.J)(),(0,lt.U)(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>(t._loadedConfig?(0,qe.of)(t._loadedConfig):this.loader.load(e.injector,t)).pipe((0,kt.zg)(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Ei),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(xi))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),Ri=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Kt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Yt&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof un&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new un(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Ei),r.LFG(ne),r.LFG(void 0))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const Di=new r.OlP("ROUTER_CONFIGURATION"),Ni=new r.OlP("ROUTER_FORROOT_GUARD"),Pi=[w,{provide:Dn,useClass:Nn},{provide:Ei,useFactory:function(e,t,n,r,i,s,o,a={},l,c){const u=new Ei(null,e,t,n,r,i,s,_n(o));return l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,u),a.enableTracing&&u.events.subscribe(e=>{var t,n;null===(t=console.group)||void 0===t||t.call(console,`Router Event: ${e.constructor.name}`),console.log(e.toString()),console.log(e),null===(n=console.groupEnd)||void 0===n||n.call(console)}),u},deps:[Dn,gi,w,r.zs3,r.v3s,r.Sil,pi,Di,[class{},new r.FiY],[class{},new r.FiY]]},gi,{provide:tr,useFactory:function(e){return e.routerState.root},deps:[Ei]},{provide:r.v3s,useClass:r.EAV},Oi,Ai,class{preload(e,t){return t().pipe(Ct(()=>(0,qe.of)(null)))}},{provide:Di,useValue:{enableTracing:!1}}];function Li(){return new r.PXZ("Router",Ei)}let Fi=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[Pi,qi(t),{provide:Ni,useFactory:Ui,deps:[[Ei,new r.FiY,new r.tp0]]},{provide:Di,useValue:n||{}},{provide:g,useFactory:Vi,deps:[a,[new r.tBr(_),new r.FiY],Di]},{provide:Ri,useFactory:Mi,deps:[Ei,ne,Di]},{provide:xi,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Ai},{provide:r.PXZ,multi:!0,useFactory:Li},[ji,{provide:r.ip1,multi:!0,useFactory:Zi,deps:[ji]},{provide:Hi,useFactory:Bi,deps:[ji]},{provide:r.tb,multi:!0,useExisting:Hi}]]}}static forChild(t){return{ngModule:e,providers:[qi(t)]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Ni,8),r.LFG(Ei,8))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();function Mi(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Ri(e,t,n)}function Vi(e,t,n={}){return n.useHash?new b(e,t):new v(e,t)}function Ui(e){return"guarded"}function qi(e){return[{provide:r.deG,multi:!0,useValue:e},{provide:pi,multi:!0,useValue:e}]}let ji=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new je.xQ}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let e=null;const t=new Promise(t=>e=t),n=this.injector.get(Ei),r=this.injector.get(Di);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),e(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,qe.of)(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(Di),n=this.injector.get(Oi),i=this.injector.get(Ri),s=this.injector.get(Ei),o=this.injector.get(r.z2F);e===o.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.zs3))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function Zi(e){return e.appInitializer.bind(e)}function Bi(e){return e.bootstrapListener.bind(e)}const Hi=new r.OlP("Router Initializer");var zi=n(6304),Gi=n(6682),$i=n(9746),Ki=n(7771),Yi=n(8858);class Wi extends je.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new Qi(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new Ze.N;if(this.isStopped||this.hasError?s=Bt.w.EMPTY:(this.observers.push(e),s=new Yi.W(this,e)),r&&e.add(e=new $i.ht(e,r)),t)for(let o=0;o<i&&!e.closed;o++)e.next(n[o]);else for(let o=0;o<i&&!e.closed;o++)e.next(n[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),s}_getNow(){return(this.scheduler||Ki.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(e-r[s].time<n);)s++;return i>t&&(s=Math.max(s,i-t)),s>0&&r.splice(0,s),r}}class Qi{constructor(e,t){this.time=e,this.value=t}}function Ji(e,t,n){let r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,l=!1;return function(c){let u;o++,!i||a?(a=!1,i=new Wi(e,t,r),u=i.subscribe(this),s=c.subscribe({next(e){i.next(e)},error(e){a=!0,i.error(e)},complete(){l=!0,s=void 0,i.complete()}}),l&&(s=void 0)):u=i.subscribe(this),this.add(()=>{o--,u.unsubscribe(),u=void 0,s&&!l&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}function Xi(e,t){return t?ut(()=>e,t):ut(()=>e)}var es=n(9673),ts=n(4459),ns=n(8939);n(2329);var rs=n(279),is=n(8604),ss=n(3854),os=n(9306);const as=new Map,ls={activated:!1,tokenObservers:[]},cs={initialized:!1,enabled:!1};function us(e){return as.get(e)||ls}function hs(e,t){as.set(e,t)}function ds(){return cs}class ps{constructor(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,zi.Z)(function*(){t.stop();try{t.pending=new ss.BH,yield function(e){return new Promise(t=>{setTimeout(t,e)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new ss.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(n){t.retryPolicy(n)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const fs=new ss.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ms(e){if(!us(e).activated)throw fs.create("use-before-activation",{appName:e.name})}function gs(e,t){return ys.apply(this,arguments)}function ys(){return(ys=(0,zi.Z)(function*({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const e=yield i.getHeartbeatsHeader();e&&(r["X-Firebase-Client"]=e)}const s={method:"POST",body:JSON.stringify(t),headers:r};let o,a;try{o=yield fetch(e,s)}catch(h){throw fs.create("fetch-network-error",{originalErrorMessage:h.message})}if(200!==o.status)throw fs.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(h){throw fs.create("fetch-parse-error",{originalErrorMessage:h.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw fs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(l[1]),u=Date.now();return{token:a.attestationToken,expireTimeMillis:u+c,issuedAtTimeMillis:u}})).apply(this,arguments)}function _s(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:t}}}const vs="firebase-app-check-store";let bs=null;function ws(){return bs||(bs=new Promise((e,t)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=t=>{e(t.target.result)},n.onerror=e=>{var n;t(fs.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=e=>{const t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(vs,{keyPath:"compositeKey"})}}}catch(n){t(fs.create("storage-open",{originalErrorMessage:n.message}))}}),bs)}function Ss(){return(Ss=(0,zi.Z)(function*(e,t){const n=(yield ws()).transaction(vs,"readwrite"),r=n.objectStore(vs).put({compositeKey:e,value:t});return new Promise((e,t)=>{r.onsuccess=t=>{e()},n.onerror=e=>{var n;t(fs.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}})})).apply(this,arguments)}const Es=new os.Yd("@firebase/app-check");function Cs(e,t){return(0,ss.hl)()?function(e,t){return function(e,t){return Ss.apply(this,arguments)}(function(e){return`${e.options.appId}-${e.name}`}(e),t)}(e,t).catch(e=>{Es.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Ts(){return ds().enabled}function Is(){return ks.apply(this,arguments)}function ks(){return(ks=(0,zi.Z)(function*(){const e=ds();if(e.enabled&&e.token)return e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const xs={error:"UNKNOWN_ERROR"};function As(e){return Os.apply(this,arguments)}function Os(){return(Os=(0,zi.Z)(function*(e,t=!1){const n=e.app;ms(n);const r=us(n);let i,s=r.token;if(!s){const e=yield r.cachedTokenPromise;e&&Ps(e)&&(s=e)}if(!t&&s&&Ps(s))return{token:s.token};let o,a=!1;if(Ts()){r.exchangeTokenPromise||(r.exchangeTokenPromise=gs(_s(n,yield Is()),e.heartbeatServiceProvider).then(e=>(r.exchangeTokenPromise=void 0,e)),a=!0);const t=yield r.exchangeTokenPromise;return yield Cs(n,t),hs(n,Object.assign(Object.assign({},r),{token:t})),{token:t.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(e=>(r.exchangeTokenPromise=void 0,e)),a=!0),s=yield r.exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?Es.warn(l.message):Es.error(l),i=l}return s?(o={token:s.token},hs(n,Object.assign(Object.assign({},r),{token:s})),yield Cs(n,s)):o=Ls(i),a&&Ns(n,o),o})).apply(this,arguments)}function Rs(e,t){const n=us(e),r=n.tokenObservers.filter(e=>e.next!==t);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),hs(e,Object.assign(Object.assign({},n),{tokenObservers:r}))}function Ds(e){const{app:t}=e,n=us(t);let r=n.tokenRefresher;r||(r=function(e){const{app:t}=e;return new ps((0,zi.Z)(function*(){let n;if(n=us(t).token?yield As(e,!0):yield As(e),n.error)throw n.error}),()=>!0,()=>{const e=us(t);if(e.token){let t=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return t=Math.min(t,e.token.expireTimeMillis-3e5),Math.max(0,t-Date.now())}return 0},3e4,96e4)}(e),hs(t,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Ns(e,t){const n=us(e).tokenObservers;for(const i of n)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function Ps(e){return e.expireTimeMillis-Date.now()>0}function Ls(e){return{token:(t=xs,ss.US.encodeString(JSON.stringify(t),!1)),error:e};var t}class Fs{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=us(this.app);for(const t of e)Rs(this.app,t.next);return Promise.resolve()}}const Ms="app-check-internal";(0,rs._registerComponent)(new is.wA("app-check",e=>{return t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat"),new Fs(t,n);var t,n},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(Ms).initialize()})),(0,rs._registerComponent)(new is.wA(Ms,e=>{return t=e.getProvider("app-check").getImmediate(),{getToken:e=>As(t,e),addTokenListener:e=>function(e,t,n,r){const{app:i}=e,s=us(i),o={next:n,error:void 0,type:"INTERNAL"};if(hs(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&Ps(s.token)){const t=s.token;Promise.resolve().then(()=>{n({token:t.token}),Ds(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Ds(e))}(t,0,e),removeTokenListener:e=>Rs(t.app,e)};var t},"PUBLIC").setInstantiationMode("EXPLICIT")),(0,rs.registerVersion)("@firebase/app-check","0.5.6");class Vs{constructor(){return(0,ts.vb)("app-check")}}"undefined"!=typeof window&&window;var Us=n(7841);const qs=new r.OlP("angularfire2.auth.use-emulator"),js=new r.OlP("angularfire2.auth.settings"),Zs=new r.OlP("angularfire2.auth.tenant-id"),Bs=new r.OlP("angularfire2.auth.langugage-code"),Hs=new r.OlP("angularfire2.auth.use-device-language"),zs=new r.OlP("angularfire.auth.persistence"),Gs=(e,t,n,r,i,s,o,a)=>(0,ns.cc)(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{const l=t.runOutsideAngular(()=>e.auth());if(n&&l.useEmulator(...n),r&&(l.tenantId=r),l.languageCode=i,s&&l.useDeviceLanguage(),o)for(const[e,t]of Object.entries(o))l.settings[e]=t;return a&&l.setPersistence(a),l},[n,r,i,s,o,a]);let $s=(()=>{class e{constructor(e,t,r,i,s,o,a,l,c,u,h,d){const p=new je.xQ,f=(0,qe.of)(void 0).pipe((0,$i.QV)(s.outsideAngular),ut(()=>i.runOutsideAngular(()=>Promise.resolve().then(n.bind(n,3259)))),(0,lt.U)(()=>(0,ns.on)(e,i,t)),(0,lt.U)(e=>Gs(e,i,o,l,c,u,a,h)),Ji({bufferSize:1,refCount:!1}));if(te(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,qe.of)(null);else{f.pipe(qt()).subscribe();const e=f.pipe(ut(e=>e.getRedirectResult().then(e=>e,()=>null)),ts.iC,Ji({bufferSize:1,refCount:!1})),t=f.pipe(ut(e=>new We.y(t=>({unsubscribe:i.runOutsideAngular(()=>e.onAuthStateChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))})))),n=f.pipe(ut(e=>new We.y(t=>({unsubscribe:i.runOutsideAngular(()=>e.onIdTokenChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))}))));this.authState=e.pipe(Xi(t),(0,es.R)(s.outsideAngular),(0,$i.QV)(s.insideAngular)),this.user=e.pipe(Xi(n),(0,es.R)(s.outsideAngular),(0,$i.QV)(s.insideAngular)),this.idToken=this.user.pipe(ut(e=>e?(0,Ue.D)(e.getIdToken()):(0,qe.of)(null))),this.idTokenResult=this.user.pipe(ut(e=>e?(0,Ue.D)(e.getIdTokenResult()):(0,qe.of)(null))),this.credential=(0,Gi.T)(e,p,this.authState.pipe(wt(e=>!e))).pipe((0,lt.U)(e=>(null==e?void 0:e.user)?e:null),(0,es.R)(s.outsideAngular),(0,$i.QV)(s.insideAngular))}return(0,ns.pX)(this,f,i,{spy:{apply:(e,t,n)=>{(e.startsWith("signIn")||e.startsWith("createUser"))&&n.then(e=>p.next(e))}}})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(ns.Dh),r.LFG(ns.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(ts.HU),r.LFG(qs,8),r.LFG(js,8),r.LFG(Zs,8),r.LFG(Bs,8),r.LFG(Hs,8),r.LFG(zs,8),r.LFG(Vs,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),Ks=(()=>{class e{constructor(){Us.Z.registerVersion("angularfire",ts.q4.full,"auth-compat")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[$s]}),e})(),Ys=(()=>{class e{constructor(e,t){this.afAuth=e,this.router=t,this.loginStatus=new Be(!1),this.userName=new Be("")}getCurrentUser(){return this.afAuth.authState.subscribe(e=>{e&&(e&&(this.userDetails=e),this.router.navigate(["/userhome"]),this.loginStatus.next(!0),localStorage.setItem("user",JSON.stringify(this.userDetails)),this.userDetails=JSON.parse(localStorage.getItem("user")),localStorage.setItem("name",this.userDetails.displayName),this.userName.next(localStorage.getItem("name")))}),this.userDetails}getCurrentUserFullDetails(){return this.userDetails}signOut(){this.afAuth.signOut(),this.loginStatus.next(!1),localStorage.setItem("user","null"),localStorage.clear(),this.userName.next(""),this.userDetails=null}getIsLoggerIn(){return this.loginStatus.asObservable()}getUserName(){return this.userName.asObservable()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG($s),r.LFG(Ei))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ws=(()=>{class e{constructor(e,t){this.router=e,this.userService=t}canActivate(e,t){var n=this;return(0,zi.Z)(function*(){return n.userService.getCurrentUserFullDetails()?(console.log(n.userService.getCurrentUserFullDetails()),!0):(console.log("Else"),n.router.navigate(["access-denied"]),!1)})()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Ei),r.LFG(Ys))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Qs=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["ci-access-denied"]],decls:4,vars:0,template:function(e,t){1&e&&(r.TgZ(0,"p"),r._uU(1,"You dont have the access to view this page...."),r.qZA(),r.TgZ(2,"p"),r._uU(3,"Please signIn using Google and try"),r.qZA())},styles:[""]}),e})();class Js{}class Xs{}class eo{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),r=n.toLowerCase(),i=e.slice(t+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const r=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof eo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new eo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof eo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":const i=e.value;if(i){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===i.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class to{encodeKey(e){return no(e)}encodeValue(e){return no(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function no(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function ro(e){return`${e}`}class io{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new to,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(e=>{const r=e.indexOf("="),[i,s]=-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(n=>{const r=e[n];Array.isArray(r)?r.forEach(e=>{t.push({param:n,value:e,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new io({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(ro(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(ro(e.value));-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class so{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function oo(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function ao(e){return"undefined"!=typeof Blob&&e instanceof Blob}function lo(e){return"undefined"!=typeof FormData&&e instanceof FormData}class co{constructor(e,t,n,r){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new eo),this.context||(this.context=new so),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new io,this.urlWithParams=t}serializeBody(){return null===this.body?null:oo(this.body)||ao(this.body)||lo(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof io?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||lo(this.body)?null:ao(this.body)?this.body.type||null:oo(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof io?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),c)),new co(n,r,s,{params:c,headers:l,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var uo=(()=>((uo=uo||{})[uo.Sent=0]="Sent",uo[uo.UploadProgress=1]="UploadProgress",uo[uo.ResponseHeader=2]="ResponseHeader",uo[uo.DownloadProgress=3]="DownloadProgress",uo[uo.Response=4]="Response",uo[uo.User=5]="User",uo))();class ho{constructor(e,t=200,n="OK"){this.headers=e.headers||new eo,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class po extends ho{constructor(e={}){super(e),this.type=uo.ResponseHeader}clone(e={}){return new po({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class fo extends ho{constructor(e={}){super(e),this.type=uo.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new fo({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class mo extends ho{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function go(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let yo=(()=>{class e{constructor(e){this.handler=e}request(e,t,n={}){let r;if(e instanceof co)r=e;else{let i,s;i=n.headers instanceof eo?n.headers:new eo(n.headers),n.params&&(s=n.params instanceof io?n.params:new io({fromObject:n.params})),r=new co(e,t,void 0!==n.body?n.body:null,{headers:i,context:n.context,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=(0,qe.of)(r).pipe(xt(e=>this.handler.handle(e)));if(e instanceof co||"events"===n.observe)return i;const s=i.pipe(wt(e=>e instanceof fo));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe((0,lt.U)(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return s.pipe((0,lt.U)(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return s.pipe((0,lt.U)(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return s.pipe((0,lt.U)(e=>e.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new io).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,go(n,t))}post(e,t,n={}){return this.request("POST",e,go(n,t))}put(e,t,n={}){return this.request("PUT",e,go(n,t))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Js))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class _o{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const vo=new r.OlP("HTTP_INTERCEPTORS");let bo=(()=>{class e{intercept(e,t){return t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const wo=/^\)\]\}',?\n/;let So=(()=>{class e{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new We.y(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const r=e.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const t=1223===n.status?204:n.status,r=n.statusText||"OK",s=new eo(n.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return i=new po({headers:s,status:t,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),l=null;204!==i&&(l=void 0===n.response?n.responseText:n.response),0===i&&(i=l?200:0);let c=i>=200&&i<300;if("json"===e.responseType&&"string"==typeof l){const e=l;l=l.replace(wo,"");try{l=""!==l?JSON.parse(l):null}catch(u){l=e,c&&(c=!1,l={error:u,text:l})}}c?(t.next(new fo({body:l,headers:r,status:i,statusText:o,url:a||void 0})),t.complete()):t.error(new mo({error:l,headers:r,status:i,statusText:o,url:a||void 0}))},a=e=>{const{url:r}=s(),i=new mo({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});t.error(i)};let l=!1;const c=r=>{l||(t.next(s()),l=!0);let i={type:uo.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===e.responseType&&n.responseText&&(i.partialText=n.responseText),t.next(i)},u=e=>{let n={type:uo.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),e.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",u)),n.send(r),t.next({type:uo.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",o),n.removeEventListener("timeout",a),e.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",u)),n.readyState!==n.DONE&&n.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(se))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const Eo=new r.OlP("XSRF_COOKIE_NAME"),Co=new r.OlP("XSRF_HEADER_NAME");class To{}let Io=(()=>{class e{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=L(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o),r.LFG(r.Lbi),r.LFG(Eo))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),ko=(()=>{class e{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(To),r.LFG(Co))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),xo=(()=>{class e{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(vo,[]);this.chain=e.reduceRight((e,t)=>new _o(e,t),this.backend)}return this.chain.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Xs),r.LFG(r.zs3))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),Ao=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:ko,useClass:bo}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:Eo,useValue:t.cookieName}:[],t.headerName?{provide:Co,useValue:t.headerName}:[]]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[ko,{provide:vo,useExisting:ko,multi:!0},{provide:To,useClass:Io},{provide:Eo,useValue:"XSRF-TOKEN"},{provide:Co,useValue:"X-XSRF-TOKEN"}]}),e})(),Oo=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[yo,{provide:Js,useClass:xo},So,{provide:Xs,useExisting:So}],imports:[[Ao.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})(),Ro=(()=>{class e{constructor(e){this.http=e}getCountries(){return this.http.get("https://api.covid19api.com/countries",{observe:"response"}).pipe((0,lt.U)(this.extractHttpData))}getCovidRealTime(e){return this.http.get("https://api.covid19api.com/total/dayone/country/"+e)}extractHttpData(e){return null!=e?302===e.status?void window.location.reload():e.body:null}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(yo))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Do=n(1555);function No(...e){if(1===e.length){const t=e[0];if((0,ze.k)(t))return Po(t,null);if((0,Do.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return Po(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return Po(e=1===e.length&&(0,ze.k)(e[0])?e[0]:e,null).pipe((0,lt.U)(e=>t(...e)))}return Po(e,null)}function Po(e,t){return new We.y(n=>{const r=e.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const l=(0,Ue.D)(e[a]);let c=!1;n.add(l.subscribe({next:e=>{c||(c=!0,o++),i[a]=e},error:e=>n.error(e),complete:()=>{s++,s!==r&&c||(o===r&&n.next(t?t.reduce((e,t,n)=>(e[t]=i[n],e),{}):i),n.complete())}}))}})}let Lo=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq))},e.\u0275dir=r.lG2({type:e}),e})(),Fo=(()=>{class e extends Lo{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();const Mo=new r.OlP("NgValueAccessor"),Vo={provide:Mo,useExisting:(0,r.Gpc)(()=>qo),multi:!0},Uo=new r.OlP("CompositionEventMode");let qo=(()=>{class e extends Lo{constructor(e,t,n){super(e,t),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=s()?s().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(Uo,8))},e.\u0275dir=r.lG2({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&r.NdJ("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[r._Bn([Vo]),r.qOj]}),e})();function jo(e){return null==e||0===e.length}function Zo(e){return null!=e&&"number"==typeof e.length}const Bo=new r.OlP("NgValidators"),Ho=new r.OlP("NgAsyncValidators"),zo=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Go{static min(e){return function(e){return t=>{if(jo(t.value)||jo(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}(e)}static max(e){return function(e){return t=>{if(jo(t.value)||jo(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}(e)}static required(e){return $o(e)}static requiredTrue(e){return function(e){return!0===e.value?null:{required:!0}}(e)}static email(e){return function(e){return jo(e.value)||zo.test(e.value)?null:{email:!0}}(e)}static minLength(e){return function(e){return t=>jo(t.value)||!Zo(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(e)}static maxLength(e){return function(e){return t=>Zo(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}(e)}static pattern(e){return function(e){if(!e)return Ko;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(jo(e.value))return null;const r=e.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return ea(e)}static composeAsync(e){return na(e)}}function $o(e){return jo(e.value)?{required:!0}:null}function Ko(e){return null}function Yo(e){return null!=e}function Wo(e){const t=(0,r.QGY)(e)?(0,Ue.D)(e):e;return(0,r.CqO)(t),t}function Qo(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Jo(e,t){return t.map(t=>t(e))}function Xo(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}function ea(e){if(!e)return null;const t=e.filter(Yo);return 0==t.length?null:function(e){return Qo(Jo(e,t))}}function ta(e){return null!=e?ea(Xo(e)):null}function na(e){if(!e)return null;const t=e.filter(Yo);return 0==t.length?null:function(e){return No(Jo(e,t).map(Wo)).pipe((0,lt.U)(Qo))}}function ra(e){return null!=e?na(Xo(e)):null}function ia(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function sa(e){return e._rawValidators}function oa(e){return e._rawAsyncValidators}let aa=(()=>{class e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ta(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ra(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e}),e})(),la=(()=>{class e extends aa{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();class ca extends aa{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ua{constructor(e){this._cd=e}is(e){var t,n,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===r?void 0:r[e])}}let ha=(()=>{class e extends ua{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(ca,2))},e.\u0275dir=r.lG2({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[r.qOj]}),e})(),da=(()=>{class e extends ua{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(la,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))("ng-submitted",t.is("submitted"))},features:[r.qOj]}),e})();function pa(e,t){return[...t.path,e]}function fa(e,t){ya(e,t),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&va(e,t)})}(e,t),function(e,t){const n=(e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&va(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){const n=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function ma(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),_a(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function ga(e,t){e.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function ya(e,t){const n=sa(e);null!==t.validator?e.setValidators(ia(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=oa(e);null!==t.asyncValidator?e.setAsyncValidators(ia(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();ga(t._rawValidators,i),ga(t._rawAsyncValidators,i)}function _a(e,t){let n=!1;if(null!==e){if(null!==t.validator){const r=sa(e);if(Array.isArray(r)&&r.length>0){const i=r.filter(e=>e!==t.validator);i.length!==r.length&&(n=!0,e.setValidators(i))}}if(null!==t.asyncValidator){const r=oa(e);if(Array.isArray(r)&&r.length>0){const i=r.filter(e=>e!==t.asyncValidator);i.length!==r.length&&(n=!0,e.setAsyncValidators(i))}}}const r=()=>{};return ga(t._rawValidators,r),ga(t._rawAsyncValidators,r),n}function va(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function ba(e,t){ya(e,t)}function wa(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}function Sa(e,t){e._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function Ea(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(e=>{e.constructor===qo?n=e:Object.getPrototypeOf(e.constructor)===Fo?r=e:i=e}),i||r||n||null}function Ca(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Ta="VALID",Ia="INVALID",ka="PENDING",xa="DISABLED";function Aa(e){return(Na(e)?e.validators:e)||null}function Oa(e){return Array.isArray(e)?ta(e):e||null}function Ra(e,t){return(Na(t)?t.asyncValidators:e)||null}function Da(e){return Array.isArray(e)?ra(e):e||null}function Na(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class Pa{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Oa(this._rawValidators),this._composedAsyncValidatorFn=Da(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ta}get invalid(){return this.status===Ia}get pending(){return this.status==ka}get disabled(){return this.status===xa}get enabled(){return this.status!==xa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Oa(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Da(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ka,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=xa,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ta,this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Ta&&this.status!==ka||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xa:Ta}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ka,this._hasOwnPendingAsyncValidator=!0;const t=Wo(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let r=e;return t.forEach(e=>{r=r instanceof Fa?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof Ma&&r.at(e)||null}),r}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?xa:this.errors?Ia:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ka)?ka:this._anyControlsHaveStatus(Ia)?Ia:Ta}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Na(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class La extends Pa{constructor(e=null,t,n){super(Aa(t),Ra(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Ca(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Ca(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Fa extends Pa{constructor(e,t,n){super(Aa(t),Ra(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof La?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Ma extends Pa{constructor(e,t,n){super(Aa(t),Ra(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,n={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof La?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Va={provide:la,useExisting:(0,r.Gpc)(()=>qa)},Ua=(()=>Promise.resolve(null))();let qa=(()=>{class e extends la{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.vpe,this.form=new Fa({},ta(e),ra(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Ua.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),fa(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Ua.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),Ca(this._directives,e)})}addFormGroup(e){Ua.then(()=>{const t=this._findContainer(e.path),n=new Fa({});ba(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Ua.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){Ua.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Sa(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Bo,10),r.Y36(Ho,10))},e.\u0275dir=r.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&r.NdJ("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([Va]),r.qOj]}),e})();const ja={provide:ca,useExisting:(0,r.Gpc)(()=>Ba)},Za=(()=>Promise.resolve(null))();let Ba=(()=>{class e extends ca{constructor(e,t,n,i){super(),this.control=new La,this._registered=!1,this.update=new r.vpe,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=Ea(0,i)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),wa(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?pa(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){fa(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Za.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;Za.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(la,9),r.Y36(Bo,10),r.Y36(Ho,10),r.Y36(Mo,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r._Bn([ja]),r.qOj,r.TTD]}),e})(),Ha=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),za=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();const Ga=new r.OlP("NgModelWithFormControlWarning"),$a={provide:la,useExisting:(0,r.Gpc)(()=>Ka)};let Ka=(()=>{class e extends la{constructor(e,t){super(),this.validators=e,this.asyncValidators=t,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.vpe,this._setValidators(e),this._setAsyncValidators(t)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(_a(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return fa(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){ma(e.control||null,e,!1),Ca(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,Sa(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=e.control,n=this.form.get(e.path);t!==n&&(ma(t||null,e),n instanceof La&&(fa(n,e),e.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const t=this.form.get(e.path);ba(t,e),t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const t=this.form.get(e.path);t&&function(e,t){return _a(e,t)}(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ya(this.form,this),this._oldForm&&_a(this._oldForm,this)}_checkFormPresent(){}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Bo,10),r.Y36(Ho,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&r.NdJ("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([$a]),r.qOj,r.TTD]}),e})();const Ya={provide:ca,useExisting:(0,r.Gpc)(()=>Wa)};let Wa=(()=>{class e extends ca{constructor(e,t,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=Ea(0,i)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),wa(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return pa(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(la,13),r.Y36(Bo,10),r.Y36(Ho,10),r.Y36(Mo,10),r.Y36(Ga,8))},e.\u0275dir=r.lG2({type:e,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r._Bn([Ya]),r.qOj,r.TTD]}),e._ngModelWarningSentOnce=!1,e})();const Qa={provide:Mo,useExisting:(0,r.Gpc)(()=>Xa),multi:!0};function Ja(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let Xa=(()=>{class e extends Fo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this.setProperty("selectedIndex",-1);const n=Ja(t,e);this.setProperty("value",n)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&r.NdJ("change",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[r._Bn([Qa]),r.qOj]}),e})(),el=(()=>{class e{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(Ja(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(Xa,9))},e.\u0275dir=r.lG2({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const tl={provide:Mo,useExisting:(0,r.Gpc)(()=>rl),multi:!0};function nl(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let rl=(()=>{class e extends Fo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const n=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(n.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const n=[];if(void 0!==t.selectedOptions){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const r=e.item(t),i=this._getOptionValue(r.value);n.push(i)}}else{const e=t.options;for(let t=0;t<e.length;t++){const r=e.item(t);if(r.selected){const e=this._getOptionValue(r.value);n.push(e)}}}this.value=n,e(n)}}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&r.NdJ("change",function(e){return t.onChange(e.target)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[r._Bn([tl]),r.qOj]}),e})(),il=(()=>{class e{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(nl(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(nl(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(rl,9))},e.\u0275dir=r.lG2({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const sl={provide:Bo,useExisting:(0,r.Gpc)(()=>ol),multi:!0};let ol=(()=>{class e{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?$o(e):null}registerOnValidatorChange(e){this._onChange=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&r.uIk("required",t.required?"":null)},inputs:{required:"required"},features:[r._Bn([sl])]}),e})(),al=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[za]]}),e})(),ll=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[al]}),e})(),cl=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Ga,useValue:t.warnOnNgModelWithFormControl}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[al]}),e})();class ul{}const hl="*";function dl(e,t){return{type:7,name:e,definitions:t,options:{}}}function pl(e,t=null){return{type:4,styles:t,timings:e}}function fl(e,t=null){return{type:2,steps:e,options:t}}function ml(e){return{type:6,styles:e,offset:null}}function gl(e,t,n){return{type:0,name:e,styles:t,options:n}}function yl(e,t,n=null){return{type:1,expr:e,animation:t,options:n}}function _l(e=null){return{type:9,options:e}}function vl(e,t,n=null){return{type:11,selector:e,animation:t,options:n}}function bl(e){Promise.resolve(null).then(e)}class wl{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){bl(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class Sl{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,r=0;const i=this.players.length;0==i?bl(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==i&&this._onFinish()}),e.onDestroy(()=>{++n==i&&this._onDestroy()}),e.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}getPosition(){const e=this.players.reduce((e,t)=>null===e||t.totalTime>e.totalTime?t:e,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}function El(){return"undefined"!=typeof window&&void 0!==window.document}function Cl(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Tl(e){switch(e.length){case 0:return new wl;case 1:return e[0];default:return new Sl(e)}}function Il(e,t,n,r,i={},s={}){const o=[],a=[];let l=-1,c=null;if(r.forEach(e=>{const n=e.offset,r=n==l,u=r&&c||{};Object.keys(e).forEach(n=>{let r=n,a=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,o),a){case"!":a=i[n];break;case hl:a=s[n];break;default:a=t.normalizeStyleValue(n,r,a,o)}u[r]=a}),r||a.push(u),c=u,l=n}),o.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${o.join(e)}`)}return a}function kl(e,t,n,r){switch(t){case"start":e.onStart(()=>r(n&&xl(n,"start",e)));break;case"done":e.onDone(()=>r(n&&xl(n,"done",e)));break;case"destroy":e.onDestroy(()=>r(n&&xl(n,"destroy",e)))}}function xl(e,t,n){const r=n.totalTime,i=Al(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),s=e._data;return null!=s&&(i._data=s),i}function Al(e,t,n,r,i="",s=0,o){return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Ol(e,t,n){let r;return e instanceof Map?(r=e.get(t),r||e.set(t,r=n)):(r=e[t],r||(r=e[t]=n)),r}function Rl(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let Dl=(e,t)=>!1,Nl=(e,t)=>!1,Pl=(e,t,n)=>[];const Ll=Cl();(Ll||"undefined"!=typeof Element)&&(Dl=El()?(e,t)=>{for(;t&&t!==document.documentElement;){if(t===e)return!0;t=t.parentNode||t.host}return!1}:(e,t)=>e.contains(t),Nl=(()=>{if(Ll||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,n)=>t.apply(e,[n]):Nl}})(),Pl=(e,t,n)=>{let r=[];if(n){const n=e.querySelectorAll(t);for(let e=0;e<n.length;e++)r.push(n[e])}else{const n=e.querySelector(t);n&&r.push(n)}return r});let Fl=null,Ml=!1;function Vl(e){Fl||(Fl=("undefined"!=typeof document?document.body:null)||{},Ml=!!Fl.style&&"WebkitAppearance"in Fl.style);let t=!0;return Fl.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in Fl.style,!t&&Ml)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in Fl.style),t}const Ul=Nl,ql=Dl,jl=Pl;function Zl(e){const t={};return Object.keys(e).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]}),t}let Bl=(()=>{class e{validateStyleProperty(e){return Vl(e)}matchesElement(e,t){return Ul(e,t)}containsElement(e,t){return ql(e,t)}query(e,t,n){return jl(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,r,i,s=[],o){return new wl(n,r)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class Hl{}Hl.NOOP=new Bl;const zl="ng-enter",Gl="ng-leave",$l="ng-trigger",Kl=".ng-trigger",Yl="ng-animating",Wl=".ng-animating";function Ql(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Jl(parseFloat(t[1]),t[2])}function Jl(e,t){switch(t){case"s":return 1e3*e;default:return e}}function Xl(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){let r,i=0,s="";if("string"==typeof e){const n=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};r=Jl(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=Jl(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=e;if(!n){let n=!1,s=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&t.splice(s,0,`The provided timing value "${e}" is invalid.`)}return{duration:r,delay:i,easing:s}}(e,t,n)}function ec(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function tc(e,t,n={}){if(t)for(let r in e)n[r]=e[r];else ec(e,n);return n}function nc(e,t,n){return n?t+":"+n+";":""}function rc(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style.item(n);t+=nc(0,r,e.style.getPropertyValue(r))}for(const n in e.style)e.style.hasOwnProperty(n)&&!n.startsWith("_")&&(t+=nc(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[n]));e.setAttribute("style",t)}function ic(e,t,n){e.style&&(Object.keys(t).forEach(r=>{const i=dc(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]}),Cl()&&rc(e))}function sc(e,t){e.style&&(Object.keys(t).forEach(t=>{const n=dc(t);e.style[n]=""}),Cl()&&rc(e))}function oc(e){return Array.isArray(e)?1==e.length?e[0]:fl(e):e}const ac=new RegExp("{{\\s*(.+?)\\s*}}","g");function lc(e){let t=[];if("string"==typeof e){let n;for(;n=ac.exec(e);)t.push(n[1]);ac.lastIndex=0}return t}function cc(e,t,n){const r=e.toString(),i=r.replace(ac,(e,r)=>{let i=t[r];return t.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?e:i}function uc(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const hc=/-+([a-z0-9])/g;function dc(e){return e.replace(hc,(...e)=>e[1].toUpperCase())}function pc(e,t){return 0===e||0===t}function fc(e,t,n){const r=Object.keys(n);if(r.length&&t.length){let s=t[0],o=[];if(r.forEach(e=>{s.hasOwnProperty(e)||o.push(e),s[e]=n[e]}),o.length)for(var i=1;i<t.length;i++){let n=t[i];o.forEach(function(t){n[t]=gc(e,t)})}}return t}function mc(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function gc(e,t){return window.getComputedStyle(e)[t]}const yc="*";function _c(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>function(e,t,n){if(":"==e[0]){const r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${e}" is not supported`),t;const i=r[1],s=r[2],o=r[3];t.push(wc(i,o)),"<"!=s[0]||i==yc&&o==yc||t.push(wc(o,i))}(e,n,t)):n.push(e),n}const vc=new Set(["true","1"]),bc=new Set(["false","0"]);function wc(e,t){const n=vc.has(e)||bc.has(e),r=vc.has(t)||bc.has(t);return(i,s)=>{let o=e==yc||e==i,a=t==yc||t==s;return!o&&n&&"boolean"==typeof i&&(o=i?vc.has(e):bc.has(e)),!a&&r&&"boolean"==typeof s&&(a=s?vc.has(t):bc.has(t)),o&&a}}const Sc=new RegExp("s*:selfs*,?","g");function Ec(e,t,n){return new Cc(e).build(t,n)}class Cc{constructor(e){this._driver=e}build(e,t){const n=new Tc(t);return this._resetContextStyleTimingState(n),mc(this,oc(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,r=t.depCount=0;const i=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const n=e,r=n.name;r.toString().split(/\s*,\s*/).forEach(e=>{n.name=e,i.push(this.visitState(n,t))}),n.name=r}else if(1==e.type){const i=this.visitTransition(e,t);n+=i.queryCount,r+=i.depCount,s.push(i)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(e=>{if(Ic(e)){const t=e;Object.keys(t).forEach(e=>{lc(t[e]).forEach(e=>{s.hasOwnProperty(e)||i.add(e)})})}}),i.size){const n=uc(i.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=mc(this,oc(e.animation),t);return{type:1,matchers:_c(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:kc(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>mc(this,e,t)),options:kc(e.options)}}visitGroup(e,t){const n=t.currentTime;let r=0;const i=e.steps.map(e=>{t.currentTime=n;const i=mc(this,e,t);return r=Math.max(r,t.currentTime),i});return t.currentTime=r,{type:3,steps:i,options:kc(e.options)}}visitAnimate(e,t){const n=function(e,t){let n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return xc(Xl(e,t).duration,0,"");const r=e;if(r.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=xc(0,0,"");return e.dynamic=!0,e.strValue=r,e}return n=n||Xl(r,t),xc(n.duration,n.delay,n.easing)}(e.timings,t.errors);let r;t.currentAnimateTimings=n;let i=e.styles?e.styles:ml({});if(5==i.type)r=this.visitKeyframes(i,t);else{let i=e.styles,s=!1;if(!i){s=!0;const e={};n.easing&&(e.easing=n.easing),i=ml(e)}t.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,t);o.isEmptyStep=s,r=o}return t.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?e==hl?n.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):n.push(e)}):n.push(e.styles);let r=!1,i=null;return n.forEach(e=>{if(Ic(e)){const t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(let e in t)if(t[e].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let r=t.currentTime,i=t.currentTime;n&&i>0&&(i-=n.duration+n.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void t.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=t.collectedStyles[t.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(t.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),t.options&&function(e,t,n){const r=t.params||{},i=lc(e);i.length&&i.forEach(e=>{r.hasOwnProperty(e)||n.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[n],t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const l=e.steps.map(e=>{const n=this._makeStyleAst(e,t);let l=null!=n.offset?n.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(Ic(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}});else if(Ic(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}return t}(n.styles),c=0;return null!=l&&(r++,c=n.offset=l),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&t.errors.push("Please ensure that all keyframe offsets are in order");const c=e.steps.length;let u=0;r>0&&r<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(u=1/(c-1));const h=c-1,d=t.currentTime,p=t.currentAnimateTimings,f=p.duration;return l.forEach((e,r)=>{const s=u>0?r==h?1:u*r:i[r],o=s*f;t.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(e,t),e.offset=s,n.styles.push(e)}),n}visitReference(e,t){return{type:8,animation:mc(this,oc(e.animation),t),options:kc(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:kc(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:kc(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[i,s]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>":self"==e);return t&&(e=e.replace(Sc,"")),[e=e.replace(/@\*/g,Kl).replace(/@\w+/g,e=>".ng-trigger-"+e.substr(1)).replace(/:animating/g,Wl),t]}(e.selector);t.currentQuerySelector=n.length?n+" "+i:i,Ol(t.collectedStyles,t.currentQuerySelector,{});const o=mc(this,oc(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:e.selector,options:kc(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:Xl(e.timings,t.errors,!0);return{type:12,animation:mc(this,oc(e.animation),t),timings:n,options:null}}}class Tc{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Ic(e){return!Array.isArray(e)&&"object"==typeof e}function kc(e){var t;return e?(e=ec(e)).params&&(e.params=(t=e.params)?ec(t):null):e={},e}function xc(e,t,n){return{duration:e,delay:t,easing:n}}function Ac(e,t,n,r,i,s,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Oc{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Rc=new RegExp(":enter","g"),Dc=new RegExp(":leave","g");function Nc(e,t,n,r,i,s={},o={},a,l,c=[]){return(new Pc).buildKeyframes(e,t,n,r,i,s,o,a,l,c)}class Pc{buildKeyframes(e,t,n,r,i,s,o,a,l,c=[]){l=l||new Oc;const u=new Fc(e,t,l,r,i,c,[]);u.options=a,u.currentTimeline.setStyles([s],null,u.errors,a),mc(this,n,u);const h=u.timelines.filter(e=>e.containsAnimation());if(h.length&&Object.keys(o).length){const e=h[h.length-1];e.allowOnlyTimelineStyles()||e.setStyles([o],null,u.errors,a)}return h.length?h.map(e=>e.buildKeyframes()):[Ac(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.consume(t.element);if(n){const r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){let r=t.currentTimeline.currentTime;const i=null!=n.duration?Ql(n.duration):null,s=null!=n.delay?Ql(n.delay):null;return 0!==i&&e.forEach(e=>{const n=t.appendInstructionToTimeline(e,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(e,t){t.updateOptions(e.options,!0),mc(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let r=t;const i=e.options;if(i&&(i.params||i.delay)&&(r=t.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Lc);const e=Ql(i.delay);r.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>mc(this,e,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let r=t.currentTimeline.currentTime;const i=e.options&&e.options.delay?Ql(e.options.delay):0;e.steps.forEach(s=>{const o=t.createSubContext(e.options);i&&o.delayNextStep(i),mc(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return Xl(t.params?cc(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());const i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,s=t.createSubContext().currentTimeline;s.easing=n.easing,e.styles.forEach(e=>{s.forwardTime((e.offset||0)*i),s.setStyles(e.styles,e.easing,t.errors,t.options),s.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(s),t.transformIntoNewTimeline(r+i),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,r=e.options||{},i=r.delay?Ql(r.delay):0;i&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Lc);let s=n;const o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{t.currentQueryIndex=r;const o=t.createSubContext(e.options,n);i&&o.delayNextStep(i),n===t.element&&(a=o.currentTimeline),mc(this,e.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,r=t.currentTimeline,i=e.timings,s=Math.abs(i.duration),o=s*(t.currentQueryTotal-1);let a=s*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const l=t.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;mc(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const Lc={};class Fc{constructor(e,t,n,r,i,s,o,a){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Lc,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Mc(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let r=this.options;null!=n.duration&&(r.duration=Ql(n.duration)),null!=n.delay&&(r.delay=Ql(n.delay));const i=n.params;if(i){let e=r.params;e||(e=this.options.params={}),Object.keys(i).forEach(n=>{t&&e.hasOwnProperty(n)||(e[n]=cc(i[n],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(e=>{n[e]=t[e]})}}return e}createSubContext(e=null,t,n){const r=t||this.element,i=new Fc(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(e),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(e){return this.previousNode=Lc,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new Vc(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,r,i,s){let o=[];if(r&&o.push(this.element),e.length>0){e=(e=e.replace(Rc,"."+this._enterClassName)).replace(Dc,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=n);0!==n&&(t=n<0?t.slice(t.length+n,t.length):t.slice(0,n)),o.push(...t)}return i||0!=o.length||s.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),o}}class Mc{constructor(e,t,n,r){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Mc(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||hl,this._currentKeyframe[e]=hl}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,r){t&&(this._previousKeyframe.easing=t);const i=r&&r.params||{},s=function(e,t){const n={};let r;return e.forEach(e=>{"*"===e?(r=r||Object.keys(t),r.forEach(e=>{n[e]=hl})):tc(e,!1,n)}),n}(e,this._globalTimelineStyles);Object.keys(s).forEach(e=>{const t=cc(s[e],i,n);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:hl),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],r=e._styleSummary[t];(!n||r.time>n.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=tc(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?e.add(n):r==hl&&t.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=e.size?uc(e.values()):[],s=t.size?uc(t.values()):[];if(n){const e=r[0],t=ec(e);e.offset=0,t.offset=1,r=[e,t]}return Ac(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class Vc extends Mc{constructor(e,t,n,r,i,s,o=!1){super(e,t,s.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const i=[],s=n+t,o=t/s,a=tc(e[0],!1);a.offset=0,i.push(a);const l=tc(e[0],!1);l.offset=Uc(o),i.push(l);const c=e.length-1;for(let r=1;r<=c;r++){let o=tc(e[r],!1);o.offset=Uc((t+o.offset*n)/s),i.push(o)}n=s,t=0,r="",e=i}return Ac(this.element,e,this.preStyleProps,this.postStyleProps,n,t,r,!0)}}function Uc(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class qc{}class jc extends qc{normalizePropertyName(e,t){return dc(e)}normalizeStyleValue(e,t,n,r){let i="";const s=n.toString().trim();if(Zc[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const t=n.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&r.push(`Please provide a CSS unit value for ${e}:${n}`)}return s+i}}const Zc=(()=>function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Bc(e,t,n,r,i,s,o,a,l,c,u,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const Hc={};class zc{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,r){return function(e,t,n,r,i){return e.some(e=>e(t,n,r,i))}(this.ast.matchers,e,t,n,r)}buildStyles(e,t,n){const r=this._stateStyles["*"],i=this._stateStyles[e],s=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):s}build(e,t,n,r,i,s,o,a,l,c){const u=[],h=this.ast.options&&this.ast.options.params||Hc,d=this.buildStyles(n,o&&o.params||Hc,u),p=a&&a.params||Hc,f=this.buildStyles(r,p,u),m=new Set,g=new Map,y=new Map,_="void"===r,v={params:Object.assign(Object.assign({},h),p)},b=c?[]:Nc(e,t,this.ast.animation,i,s,d,f,v,l,u);let w=0;if(b.forEach(e=>{w=Math.max(e.duration+e.delay,w)}),u.length)return Bc(t,this._triggerName,n,r,_,d,f,[],[],g,y,w,u);b.forEach(e=>{const n=e.element,r=Ol(g,n,{});e.preStyleProps.forEach(e=>r[e]=!0);const i=Ol(y,n,{});e.postStyleProps.forEach(e=>i[e]=!0),n!==t&&m.add(n)});const S=uc(m.values());return Bc(t,this._triggerName,n,r,_,d,f,b,S,g,y,w)}}class Gc{constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n}buildStyles(e,t){const n={},r=ec(this.defaultParams);return Object.keys(e).forEach(t=>{const n=e[t];null!=n&&(r[t]=n)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const i=e;Object.keys(i).forEach(e=>{let s=i[e];s.length>1&&(s=cc(s,r,t));const o=this.normalizer.normalizePropertyName(e,t);s=this.normalizer.normalizeStyleValue(e,o,s,t),n[o]=s})}}),n}}class $c{constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new Gc(e.style,e.options&&e.options.params||{},n)}),Kc(this.states,"true","1"),Kc(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new zc(e,t,this.states))}),this.fallbackTransition=new zc(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,r){return this.transitionFactories.find(i=>i.match(e,t,n,r))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function Kc(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}const Yc=new Oc;class Wc{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],r=Ec(this._driver,t,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[e]=r}_buildPlayer(e,t,n){const r=e.element,i=Il(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const r=[],i=this._animations[e];let s;const o=new Map;if(i?(s=Nc(this._driver,t,i,zl,Gl,{},{},n,Yc,r),s.forEach(e=>{const t=Ol(o,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((e,t)=>{Object.keys(e).forEach(n=>{e[n]=this._driver.computeStyle(t,n,hl)})});const a=Tl(s.map(e=>{const t=o.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=a,a.onDestroy(()=>this.destroy(e)),this.players.push(a),a}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,n,r){const i=Al(t,"","","");return kl(this._getPlayer(e),n,i,r),()=>{}}command(e,t,n,r){if("register"==n)return void this.register(e,r[0]);if("create"==n)return void this.create(e,t,r[0]||{});const i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Qc="ng-animate-queued",Jc="ng-animate-disabled",Xc=".ng-animate-disabled",eu=[],tu={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},nu={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class ru{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=null!=(r=n?e.value:e)?r:null,n){const t=ec(e);delete t.value,this.options=t}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(n=>{null==e[n]&&(e[n]=t[n])})}}}const iu="void",su=new ru(iu);class ou{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,pu(t,this._hostClassName)}listen(e,t,n,r){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${t}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${t}" is not supported!`);var i;const s=Ol(this._elementListeners,e,[]),o={name:t,phase:n,callback:r};s.push(o);const a=Ol(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(pu(e,$l),pu(e,"ng-trigger-"+t),a[t]=su),()=>{this._engine.afterFlush(()=>{const e=s.indexOf(o);e>=0&&s.splice(e,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,n,r=!0){const i=this._getTrigger(t),s=new lu(this.id,t,e);let o=this._engine.statesByElement.get(e);o||(pu(e,$l),pu(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,o={}));let a=o[t];const l=new ru(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[t]=l,a||(a=su),l.value!==iu&&a.value===l.value){if(!function(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!t.hasOwnProperty(r)||e[r]!==t[r])return!1}return!0}(a.params,l.params)){const t=[],n=i.matchStyles(a.value,a.params,t),r=i.matchStyles(l.value,l.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{sc(e,n),ic(e,r)})}return}const c=Ol(this._engine.playersByElement,e,[]);c.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let u=i.matchTransition(a.value,l.value,e,l.params),h=!1;if(!u){if(!r)return;u=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:u,fromState:a,toState:l,player:s,isFallbackTransition:h}),h||(pu(e,Qc),s.onStart(()=>{fu(e,Qc)})),s.onDone(()=>{let t=this.players.indexOf(s);t>=0&&this.players.splice(t,1);const n=this._engine.playersByElement.get(e);if(n){let e=n.indexOf(s);e>=0&&n.splice(e,1)}}),this.players.push(s),c.push(s),s}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const n=this._engine.driver.query(e,Kl,!0);n.forEach(e=>{if(e.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(e);n.size?n.forEach(n=>n.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(e=>this.clearElementCache(e)))}triggerLeaveAnimation(e,t,n,r){const i=this._engine.statesByElement.get(e);if(i){const s=[];if(Object.keys(i).forEach(t=>{if(this._triggers[t]){const n=this.trigger(e,t,iu,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&Tl(s).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){const r=new Set;t.forEach(t=>{const i=t.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||su,a=new ru(iu),l=new lu(this.id,i,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:i,transition:s,fromState:o,toState:a,player:l,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(n.totalAnimations){const t=n.players.length?n.playersByQueriedElement.get(e):[];if(t&&t.length)r=!0;else{let t=e;for(;t=t.parentNode;)if(n.statesByElement.get(t)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)n.markElementAsRemoved(this.id,e,!1,t);else{const r=e.__ng_removed;r&&r!==tu||(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){pu(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(t=>{if(t.name==n.triggerName){const r=Al(i,n.triggerName,n.fromState.value,n.toState.value);r._data=e,kl(n.player,t.phase,r,t.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(n)}),this._queue=[],t.sort((e,t)=>{const n=e.transition.ast.depCount,r=t.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t,t}}class au{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const n=new ou(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(n);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const e=Object.keys(n);for(let r=0;r<e.length;r++){const i=n[e[r]].namespaceId;if(i){const e=this._fetchNamespace(i);e&&t.add(e)}}}return t}trigger(e,t,n,r){if(cu(t)){const i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}insertNode(e,t,n,r){if(!cu(t))return;const i=t.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const r=this._fetchNamespace(e);r&&r.insertNode(t,n)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),pu(e,Jc)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),fu(e,Jc))}removeNode(e,t,n,r){if(cu(t)){const i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){const n=this.namespacesByHostElement.get(t);n&&n.id!==e&&n.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,n,r){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(e,t,n,r,i){return cu(t)?this._fetchNamespace(e).listen(t,n,r,i):()=>{}}_buildInstruction(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}destroyInnerAnimations(e){let t=this.driver.query(e,Kl,!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Wl,!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Tl(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e.__ng_removed;if(t&&t.setForRemoval){if(e.__ng_removed=tu,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,Xc)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Xc,!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)pu(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let e=0;e<n.length;e++)n[e]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?Tl(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const n=new Oc,r=[],i=new Map,s=[],o=new Map,a=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(e=>{c.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let n=0;n<t.length;n++)c.add(t[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=du(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((e,t)=>{const n=zl+f++;p.set(t,n),e.forEach(e=>pu(e,n))});const m=[],g=new Set,y=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){const e=this.collectedLeaveElements[O],t=e.__ng_removed;t&&t.setForRemoval&&(m.push(e),g.add(e),t.hasAnimation?this.driver.query(e,".ng-star-inserted",!0).forEach(e=>g.add(e)):y.add(e))}const _=new Map,v=du(h,Array.from(g));v.forEach((e,t)=>{const n=Gl+f++;_.set(t,n),e.forEach(e=>pu(e,n))}),e.push(()=>{d.forEach((e,t)=>{const n=p.get(t);e.forEach(e=>fu(e,n))}),v.forEach((e,t)=>{const n=_.get(t);e.forEach(e=>fu(e,n))}),m.forEach(e=>{this.processLeaveNode(e)})});const b=[],w=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(t).forEach(e=>{const t=e.player,i=e.element;if(b.push(t),this.collectedEnterElements.length){const e=i.__ng_removed;if(e&&e.setForMove)return void t.destroy()}const c=!u||!this.driver.containsElement(u,i),h=_.get(i),d=p.get(i),f=this._buildInstruction(e,n,d,h,c);if(f.errors&&f.errors.length)w.push(f);else{if(c)return t.onStart(()=>sc(i,f.fromStyles)),t.onDestroy(()=>ic(i,f.toStyles)),void r.push(t);if(e.isFallbackTransition)return t.onStart(()=>sc(i,f.fromStyles)),t.onDestroy(()=>ic(i,f.toStyles)),void r.push(t);f.timelines.forEach(e=>e.stretchStartingKeyframe=!0),n.append(i,f.timelines),s.push({instruction:f,player:t,element:i}),f.queriedElements.forEach(e=>Ol(o,e,[]).push(t)),f.preStyleProps.forEach((e,t)=>{const n=Object.keys(e);if(n.length){let e=a.get(t);e||a.set(t,e=new Set),n.forEach(t=>e.add(t))}}),f.postStyleProps.forEach((e,t)=>{const n=Object.keys(e);let r=l.get(t);r||l.set(t,r=new Set),n.forEach(e=>r.add(e))})}});if(w.length){const e=[];w.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),b.forEach(e=>e.destroy()),this.reportError(e)}const S=new Map,E=new Map;s.forEach(e=>{const t=e.element;n.has(t)&&(E.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,S))}),r.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{Ol(S,t,[]).push(e),e.destroy()})});const C=m.filter(e=>yu(e,a,l)),T=new Map;hu(T,this.driver,y,l,hl).forEach(e=>{yu(e,a,l)&&C.push(e)});const I=new Map;d.forEach((e,t)=>{hu(I,this.driver,new Set(e),a,"!")}),C.forEach(e=>{const t=T.get(e),n=I.get(e);T.set(e,Object.assign(Object.assign({},t),n))});const k=[],x=[],A={};s.forEach(e=>{const{element:t,player:s,instruction:o}=e;if(n.has(t)){if(c.has(t))return s.onDestroy(()=>ic(t,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let e=A;if(E.size>1){let n=t;const r=[];for(;n=n.parentNode;){const t=E.get(n);if(t){e=t;break}r.push(n)}r.forEach(t=>E.set(t,e))}const n=this._buildAnimation(s.namespaceId,o,S,i,I,T);if(s.setRealPlayer(n),e===A)k.push(s);else{const t=this.playersByElement.get(e);t&&t.length&&(s.parentPlayer=Tl(t)),r.push(s)}}else sc(t,o.fromStyles),s.onDestroy(()=>ic(t,o.toStyles)),x.push(s),c.has(t)&&r.push(s)}),x.forEach(e=>{const t=i.get(e.element);if(t&&t.length){const n=Tl(t);e.setRealPlayer(n)}}),r.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let O=0;O<m.length;O++){const e=m[O],t=e.__ng_removed;if(fu(e,Gl),t&&t.hasAnimation)continue;let n=[];if(o.size){let t=o.get(e);t&&t.length&&n.push(...t);let r=this.driver.query(e,Wl,!0);for(let e=0;e<r.length;e++){let t=o.get(r[e]);t&&t.length&&n.push(...t)}}const r=n.filter(e=>!e.destroyed);r.length?mu(this,e,r):this.processLeaveNode(e)}return m.length=0,k.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),k}elementContainsData(e,t){let n=!1;const r=t.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,r,i){let s=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(s=t)}else{const t=this.playersByElement.get(e);if(t){const e=!i||i==iu;t.forEach(t=>{t.queued||(e||t.triggerName==r)&&s.push(t)})}}return(n||r)&&(s=s.filter(e=>!(n&&n!=e.namespaceId||r&&r!=e.triggerName))),s}_beforeAnimationBuild(e,t,n){const r=t.element,i=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName;for(const o of t.timelines){const e=o.element,a=e!==r,l=Ol(n,e,[]);this._getPreviousPlayers(e,a,i,s,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)})}sc(r,t.fromStyles)}_buildAnimation(e,t,n,r,i,s){const o=t.triggerName,a=t.element,l=[],c=new Set,u=new Set,h=t.timelines.map(t=>{const h=t.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new wl(t.duration,t.delay);const p=h!==a,f=function(e){const t=[];return gu(e,t),t}((n.get(h)||eu).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===h),m=i.get(h),g=s.get(h),y=Il(0,this._normalizer,0,t.keyframes,m,g),_=this._buildPlayer(t,y,f);if(t.subTimeline&&r&&u.add(h),p){const t=new lu(e,o,h);t.setRealPlayer(_),l.push(t)}return _});l.forEach(e=>{Ol(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>function(e,t,n){let r;if(e instanceof Map){if(r=e.get(t),r){if(r.length){const e=r.indexOf(n);r.splice(e,1)}0==r.length&&e.delete(t)}}else if(r=e[t],r){if(r.length){const e=r.indexOf(n);r.splice(e,1)}0==r.length&&delete e[t]}return r}(this.playersByQueriedElement,e.element,e))}),c.forEach(e=>pu(e,Yl));const d=Tl(h);return d.onDestroy(()=>{c.forEach(e=>fu(e,Yl)),ic(a,t.toStyles)}),u.forEach(e=>{Ol(r,e,[]).push(d)}),d}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new wl(e.duration,e.delay)}}class lu{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new wl,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>kl(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ol(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function cu(e){return e&&1===e.nodeType}function uu(e,t){const n=e.style.display;return e.style.display=null!=t?t:"none",n}function hu(e,t,n,r,i){const s=[];n.forEach(e=>s.push(uu(e)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(e=>{const n=s[e]=t.computeStyle(r,e,i);n&&0!=n.length||(r.__ng_removed=nu,o.push(r))}),e.set(r,s)});let a=0;return n.forEach(e=>uu(e,s[a++])),o}function du(e,t){const n=new Map;if(e.forEach(e=>n.set(e,[])),0==t.length)return n;const r=new Set(t),i=new Map;function s(e){if(!e)return 1;let t=i.get(e);if(t)return t;const o=e.parentNode;return t=n.has(o)?o:r.has(o)?1:s(o),i.set(e,t),t}return t.forEach(e=>{const t=s(e);1!==t&&n.get(t).push(e)}),n}function pu(e,t){if(e.classList)e.classList.add(t);else{let n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function fu(e,t){if(e.classList)e.classList.remove(t);else{let n=e.$$classes;n&&delete n[t]}}function mu(e,t,n){Tl(n).onDone(()=>e.processLeaveNode(t))}function gu(e,t){for(let n=0;n<e.length;n++){const r=e[n];r instanceof Sl?gu(r.players,t):t.push(r)}}function yu(e,t,n){const r=n.get(e);if(!r)return!1;let i=t.get(e);return i?r.forEach(e=>i.add(e)):t.set(e,r),n.delete(e),!0}class _u{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new au(e,t,n),this._timelineEngine=new Wc(e,t,n),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,n,r,i){const s=e+"-"+r;let o=this._triggerCache[s];if(!o){const e=[],t=Ec(this._driver,i,e);if(e.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);o=function(e,t,n){return new $c(e,t,n)}(r,t,this._normalizer),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(t,r,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}onRemove(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,r){if("@"==n.charAt(0)){const[e,i]=Rl(n);this._timelineEngine.command(e,t,i,r)}else this._transitionEngine.trigger(e,t,n,r)}listen(e,t,n,r,i){if("@"==n.charAt(0)){const[e,r]=Rl(n);return this._timelineEngine.listen(e,t,r,i)}return this._transitionEngine.listen(e,t,n,r,i)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function vu(e,t){let n=null,r=null;return Array.isArray(t)&&t.length?(n=wu(t[0]),t.length>1&&(r=wu(t[t.length-1]))):t&&(n=wu(t)),n||r?new bu(e,n,r):null}class bu{constructor(e,t,n){this._element=e,this._startStyles=t,this._endStyles=n,this._state=0;let r=bu.initialStylesByElement.get(e);r||bu.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&ic(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ic(this._element,this._initialStyles),this._endStyles&&(ic(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(bu.initialStylesByElement.delete(this._element),this._startStyles&&(sc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(sc(this._element,this._endStyles),this._endStyles=null),ic(this._element,this._initialStyles),this._state=3)}}function wu(e){let t=null;const n=Object.keys(e);for(let r=0;r<n.length;r++){const i=n[r];Su(i)&&(t=t||{},t[i]=e[i])}return t}function Su(e){return"display"===e||"position"===e}bu.initialStylesByElement=new WeakMap;const Eu="animation",Cu="animationend";class Tu{constructor(e,t,n,r,i,s,o){this._element=e,this._name=t,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){!function(e,t){const n=Ru(e,"").trim();n.length&&(function(e,t){let n=0;for(let r=0;r<e.length;r++)","===e.charAt(r)&&n++}(n),t=`${n}, ${t}`),Ou(e,"",t)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Au(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Iu(this._element,this._name,"paused")}resume(){Iu(this._element,this._name,"running")}setPosition(e){const t=ku(this._element,this._name);this._position=e*this._duration,Ou(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Au(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const n=Ru(e,"").split(","),r=xu(n,t);r>=0&&(n.splice(r,1),Ou(e,"",n.join(",")))}(this._element,this._name))}}function Iu(e,t,n){Ou(e,"PlayState",n,ku(e,t))}function ku(e,t){const n=Ru(e,"");return n.indexOf(",")>0?xu(n.split(","),t):xu([n],t)}function xu(e,t){for(let n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function Au(e,t,n){n?e.removeEventListener(Cu,t):e.addEventListener(Cu,t)}function Ou(e,t,n,r){const i=Eu+t;if(null!=r){const t=e.style[i];if(t.length){const e=t.split(",");e[r]=n,n=e.join(",")}}e.style[i]=n}function Ru(e,t){return e.style[Eu+t]||""}class Du{constructor(e,t,n,r,i,s,o,a){this.element=e,this.keyframes=t,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Tu(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(e[n]=t?this._finalStyles[n]:gc(this.element,n))})}this.currentSnapshot=e}}class Nu extends wl{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=Zl(t)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class Pu{constructor(){this._count=0}validateStyleProperty(e){return Vl(e)}matchesElement(e,t){return Ul(e,t)}containsElement(e,t){return ql(e,t)}query(e,t,n){return jl(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,n){n=n.map(e=>Zl(e));let r=`@keyframes ${t} {\n`,i="";n.forEach(e=>{i=" ";const t=parseFloat(e.offset);r+=`${i}${100*t}% {\n`,i+=" ",Object.keys(e).forEach(t=>{const n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${t}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(e,t,n,r,i,s=[],o){const a=s.filter(e=>e instanceof Du),l={};pc(n,r)&&a.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const c=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(n=>{"offset"!=n&&"easing"!=n&&(t[n]=e[n])})}),t}(t=fc(e,t,l));if(0==n)return new Nu(e,c);const u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,u,t);(function(e){var t;const n=null===(t=e.getRootNode)||void 0===t?void 0:t.call(e);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(e).appendChild(h);const d=vu(e,t),p=new Du(e,t,u,n,r,i,c,d);return p.onDestroy(()=>{var e;(e=h).parentNode.removeChild(e)}),p}}class Lu{constructor(e,t,n,r){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,n){return e.animate(t,n)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:gc(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class Fu{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Mu().toString()),this._cssKeyframesDriver=new Pu}validateStyleProperty(e){return Vl(e)}matchesElement(e,t){return Ul(e,t)}containsElement(e,t){return ql(e,t)}query(e,t,n){return jl(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const l={},c=s.filter(e=>e instanceof Lu);pc(n,r)&&c.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const u=vu(e,t=fc(e,t=t.map(e=>tc(e,!1)),l));return new Lu(e,t,a,u)}}function Mu(){return El()&&Element.prototype.animate||{}}let Vu=(()=>{class e extends ul{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:r.ifc.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(e)?fl(e):e;return ju(this._renderer,null,t,"register",[n]),new Uu(t,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.FYo),r.LFG(o))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class Uu extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new qu(this._id,e,t||{},this._renderer)}}class qu{constructor(e,t,n,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return ju(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function ju(e,t,n,r,i){return e.setProperty(t,`@@${n}:${r}`,i)}const Zu="@",Bu="@.disabled";let Hu=(()=>{class e{constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const n=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(n);return e||(e=new zu("",n,this.engine),this._rendererCache.set(n,e)),e}const r=t.id,i=t.id+"-"+this._currentId;this._currentId++,this.engine.register(i,e);const s=t=>{Array.isArray(t)?t.forEach(s):this.engine.registerTrigger(r,i,e,t.name,t)};return t.data.animation.forEach(s),new Gu(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){e>=0&&e<this._microtaskId?this._zone.run(()=>t(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,n]=e;t(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.FYo),r.LFG(_u),r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class zu{constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,r=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,r){this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){t.charAt(0)==Zu&&t==Bu?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Gu extends zu{constructor(e,t,n,r){super(t,n,r),this.factory=e,this.namespaceId=t}setProperty(e,t,n){t.charAt(0)==Zu?"."==t.charAt(1)&&t==Bu?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if(t.charAt(0)==Zu){const r=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let i=t.substr(1),s="";return i.charAt(0)!=Zu&&([i,s]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,e=>{this.factory.scheduleListenerCallback(e._data||-1,n,e)})}return this.delegate.listen(e,t,n)}}let $u=(()=>{class e extends _u{constructor(e,t,n){super(e.body,t,n)}ngOnDestroy(){this.flush()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o),r.LFG(Hl),r.LFG(qc))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const Ku=new r.OlP("AnimationModuleType"),Yu=[{provide:ul,useClass:Vu},{provide:qc,useFactory:function(){return new jc}},{provide:_u,useClass:$u},{provide:r.FYo,useFactory:function(e,t,n){return new Hu(e,t,n)},deps:[Ee,_u,r.R0b]}],Wu=[{provide:Hl,useFactory:function(){return"function"==typeof Mu()?new Fu:new Pu}},{provide:Ku,useValue:"BrowserAnimations"},...Yu],Qu=[{provide:Hl,useClass:Bl},{provide:Ku,useValue:"NoopAnimations"},...Yu];let Ju=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?Qu:Wu}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:Wu,imports:[Ve]}),e})();function Xu(e,...t){return t.length?t.some(t=>e[t]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}var eh=n(3637);function th(e,t=eh.P){return n=>n.lift(new nh(e,t))}class nh{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new rh(e,this.dueTime,this.scheduler))}}class rh extends Ge.L{constructor(e,t,n){super(e),this.dueTime=t,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(ih,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function ih(e){e.debouncedNext()}class sh{constructor(e){this.total=e}call(e,t){return t.subscribe(new oh(e,this.total))}}class oh extends Ge.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}function ah(e,t){return n=>n.lift(new lh(e,t))}class lh{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new ch(e,this.compare,this.keySelector))}}class ch extends Ge.L{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}function uh(e){return t=>t.lift(new hh(e))}class hh{constructor(e){this.notifier=e}call(e,t){const n=new dh(e),r=(0,ct.ft)(this.notifier,new ct.IY(n));return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n}}class dh extends ct.Ds{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function ph(e){return null!=e&&"false"!=`${e}`}function fh(e,t=0){return function(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):t}function mh(e){return Array.isArray(e)?e:[e]}function gh(e){return null==e?"":"string"==typeof e?e:`${e}px`}function yh(e){return e instanceof r.SBq?e.nativeElement:e}let _h;try{_h="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(OA){_h=!1}let vh,bh=(()=>{class e{constructor(e){this._platformId=e,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!_h)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.Lbi))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(r.Lbi))},token:e,providedIn:"root"}),e})(),wh=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();const Sh=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Eh(){if(vh)return vh;if("object"!=typeof document||!document)return vh=new Set(Sh),vh;let e=document.createElement("input");return vh=new Set(Sh.filter(t=>(e.setAttribute("type",t),e.type===t))),vh}let Ch,Th,Ih;function kh(e){return function(){if(null==Ch&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ch=!0}))}finally{Ch=Ch||!1}return Ch}()?e:!!e.capture}function xh(){if(null==Th){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Th=!1,Th;if("scrollBehavior"in document.documentElement.style)Th=!0;else{const e=Element.prototype.scrollTo;Th=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return Th}function Ah(e){return e.composedPath?e.composedPath()[0]:e.target}function Oh(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}let Rh=(()=>{class e{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({factory:function(){return new e},token:e,providedIn:"root"}),e})(),Dh=(()=>{class e{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,t)=>this._cleanupObserver(t))}observe(e){const t=yh(e);return new We.y(e=>{const n=this._observeElement(t).subscribe(e);return()=>{n.unsubscribe(),this._unobserveElement(t)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const t=new je.xQ,n=this._mutationObserverFactory.create(e=>t.next(e));n&&n.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:n,stream:t,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:t,stream:n}=this._observedElements.get(e);t&&t.disconnect(),n.complete(),this._observedElements.delete(e)}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Rh))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(Rh))},token:e,providedIn:"root"}),e})(),Nh=(()=>{class e{constructor(e,t,n){this._contentObserver=e,this._elementRef=t,this._ngZone=n,this.event=new r.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=ph(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=fh(e),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(th(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Dh),r.Y36(r.SBq),r.Y36(r.R0b))},e.\u0275dir=r.lG2({type:e,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),e})(),Ph=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[Rh]}),e})();class Lh extends class{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new je.xQ,this._typeaheadSubscription=Bt.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new je.xQ,this.change=new je.xQ,e instanceof r.n_E&&e.changes.subscribe(e=>{if(this._activeItem){const t=e.toArray().indexOf(this._activeItem);t>-1&&t!==this._activeItemIndex&&(this._activeItemIndex=t)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,jt.b)(e=>this._pressedLetters.push(e)),th(e),wt(()=>this._pressedLetters.length>0),(0,lt.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const t=this._getItemsArray();for(let n=1;n<t.length+1;n++){const r=(this._activeItemIndex+n)%t.length,i=t[r];if(!this._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(t=>!e[t]||this._allowedModifierKeys.indexOf(t)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||Xu(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),n="number"==typeof e?e:t.indexOf(e),r=t[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let n=1;n<=t.length;n++){const r=(this._activeItemIndex+e*n+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const n=this._getItemsArray();if(n[e]){for(;this._skipPredicateFn(n[e]);)if(!n[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof r.n_E?this._items.toArray():this._items}}{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}function Fh(e){return 0===e.offsetX&&0===e.offsetY}function Mh(e){const t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}"undefined"!=typeof Element&&Element;const Vh=new r.OlP("cdk-input-modality-detector-options"),Uh={ignoreKeys:[18,17,224,91,16]},qh=kh({passive:!0,capture:!0});let jh=(()=>{class e{constructor(e,t,n,r){this._platform=e,this._mostRecentTarget=null,this._modality=new Be(null),this._lastTouchMs=0,this._onKeydown=e=>{var t,n;(null===(n=null===(t=this._options)||void 0===t?void 0:t.ignoreKeys)||void 0===n?void 0:n.some(t=>t===e.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Ah(e))},this._onMousedown=e=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Fh(e)?"keyboard":"mouse"),this._mostRecentTarget=Ah(e))},this._onTouchstart=e=>{Mh(e)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ah(e))},this._options=Object.assign(Object.assign({},Uh),r),this.modalityDetected=this._modality.pipe(e=>e.lift(new sh(1))),this.modalityChanged=this.modalityDetected.pipe(ah()),e.isBrowser&&t.runOutsideAngular(()=>{n.addEventListener("keydown",this._onKeydown,qh),n.addEventListener("mousedown",this._onMousedown,qh),n.addEventListener("touchstart",this._onTouchstart,qh)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,qh),document.removeEventListener("mousedown",this._onMousedown,qh),document.removeEventListener("touchstart",this._onTouchstart,qh))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(bh),r.LFG(r.R0b),r.LFG(o),r.LFG(Vh,8))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(bh),r.LFG(r.R0b),r.LFG(o),r.LFG(Vh,8))},token:e,providedIn:"root"}),e})();const Zh=new r.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Bh=new r.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Hh=(()=>{class e{constructor(e,t,n,r){this._ngZone=t,this._defaultOptions=r,this._document=n,this._liveElement=e||this._createLiveElement()}announce(e,...t){const n=this._defaultOptions;let r,i;return 1===t.length&&"number"==typeof t[0]?i=t[0]:[r,i]=t,this.clear(),clearTimeout(this._previousTimeout),r||(r=n&&n.politeness?n.politeness:"polite"),null==i&&n&&(i=n.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>new Promise(t=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,t(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const e="cdk-live-announcer-element",t=this._document.getElementsByClassName(e),n=this._document.createElement("div");for(let r=0;r<t.length;r++)t[r].parentNode.removeChild(t[r]);return n.classList.add(e),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),n}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Zh,8),r.LFG(r.R0b),r.LFG(o),r.LFG(Bh,8))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(Zh,8),r.LFG(r.R0b),r.LFG(o),r.LFG(Bh,8))},token:e,providedIn:"root"}),e})();const zh=new r.OlP("cdk-focus-monitor-default-options"),Gh=kh({passive:!0,capture:!0});let $h=(()=>{class e{constructor(e,t,n,r,i){this._ngZone=e,this._platform=t,this._inputModalityDetector=n,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new je.xQ,this._rootNodeFocusAndBlurListener=e=>{const t=Ah(e),n="focus"===e.type?this._onFocus:this._onBlur;for(let r=t;r;r=r.parentElement)n.call(this,e,r)},this._document=r,this._detectionMode=(null==i?void 0:i.detectionMode)||0}monitor(e,t=!1){const n=yh(e);if(!this._platform.isBrowser||1!==n.nodeType)return(0,qe.of)(null);const r=function(e){if(function(){if(null==Ih){const e="undefined"!=typeof document?document.head:null;Ih=!(!e||!e.createShadowRoot&&!e.attachShadow)}return Ih}()){const t=e.getRootNode?e.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return t&&(i.checkChildren=!0),i.subject;const s={checkChildren:t,subject:new je.xQ,rootNode:r};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(e){const t=yh(e),n=this._elementInfo.get(t);n&&(n.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._removeGlobalListeners(n))}focusVia(e,t,n){const r=yh(e);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([e,n])=>this._originChanged(e,t,n)):(this._setOrigin(t),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((e,t)=>this.stopMonitoring(t))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,t,n){n?e.classList.add(t):e.classList.remove(t)}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,t){this._toggleClass(e,"cdk-focused",!!t),this._toggleClass(e,"cdk-touch-focused","touch"===t),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===t),this._toggleClass(e,"cdk-mouse-focused","mouse"===t),this._toggleClass(e,"cdk-program-focused","program"===t)}_setOrigin(e,t=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&t,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,t){const n=this._elementInfo.get(t),r=Ah(e);n&&(n.checkChildren||t===r)&&this._originChanged(t,this._getFocusOrigin(r),n)}_onBlur(e,t){const n=this._elementInfo.get(t);!n||n.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),this._emitOrigin(n.subject,null))}_emitOrigin(e,t){this._ngZone.run(()=>e.next(t))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const t=e.rootNode,n=this._rootNodeFocusListenerCount.get(t)||0;n||this._ngZone.runOutsideAngular(()=>{t.addEventListener("focus",this._rootNodeFocusAndBlurListener,Gh),t.addEventListener("blur",this._rootNodeFocusAndBlurListener,Gh)}),this._rootNodeFocusListenerCount.set(t,n+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(uh(this._stopInputModalityDetector)).subscribe(e=>{this._setOrigin(e,!0)}))}_removeGlobalListeners(e){const t=e.rootNode;if(this._rootNodeFocusListenerCount.has(t)){const e=this._rootNodeFocusListenerCount.get(t);e>1?this._rootNodeFocusListenerCount.set(t,e-1):(t.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Gh),t.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Gh),this._rootNodeFocusListenerCount.delete(t))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,t,n){this._setClasses(e,t),this._emitOrigin(n.subject,t),this._lastFocusOrigin=t}_getClosestElementsInfo(e){const t=[];return this._elementInfo.forEach((n,r)=>{(r===e||n.checkChildren&&r.contains(e))&&t.push([r,n])}),t}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.R0b),r.LFG(bh),r.LFG(jh),r.LFG(o,8),r.LFG(zh,8))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(r.R0b),r.LFG(bh),r.LFG(jh),r.LFG(o,8),r.LFG(zh,8))},token:e,providedIn:"root"}),e})();const Kh="cdk-high-contrast-black-on-white",Yh="cdk-high-contrast-white-on-black",Wh="cdk-high-contrast-active";let Qh=(()=>{class e{constructor(e,t){this._platform=e,this._document=t}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const t=this._document.defaultView||window,n=t&&t.getComputedStyle?t.getComputedStyle(e):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Wh),e.remove(Kh),e.remove(Yh),this._hasCheckedHighContrastMode=!0;const t=this.getHighContrastMode();1===t?(e.add(Wh),e.add(Kh)):2===t&&(e.add(Wh),e.add(Yh))}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(bh),r.LFG(o))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(bh),r.LFG(o))},token:e,providedIn:"root"}),e})();const Jh=new r.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,r.f3M)(o)}});let Xh=(()=>{class e{constructor(e){if(this.value="ltr",this.change=new r.vpe,e){const t=e.documentElement?e.documentElement.dir:null,n=(e.body?e.body.dir:null)||t;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Jh,8))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(Jh,8))},token:e,providedIn:"root"}),e})(),ed=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();const td=new r.GfV("12.2.13");function nd(e,t){if(1&e&&r._UZ(0,"mat-pseudo-checkbox",4),2&e){const e=r.oxw();r.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function rd(e,t){if(1&e&&(r.TgZ(0,"span",5),r._uU(1),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.hij("(",e.group.label,")")}}const id=["*"],sd=new r.GfV("12.2.13"),od=new r.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let ad,ld=(()=>{class e{constructor(e,t,n){this._hasDoneGlobalChecks=!1,this._document=n,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=t,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!(!(0,r.X6Q)()||Oh())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const t=getComputedStyle(e);t&&"none"!==t.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&sd.full!==td.full&&console.warn("The Angular Material version ("+sd.full+") does not match the Angular CDK version ("+td.full+").\nPlease ensure the versions of these two packages exactly match.")}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Qh),r.LFG(od,8),r.LFG(o))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ed],ed]}),e})();function cd(e){return class extends e{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=ph(e)}}}function ud(e,t){return class extends e{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const t=e||this.defaultColor;t!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),t&&this._elementRef.nativeElement.classList.add(`mat-${t}`),this._color=t)}}}function hd(e){return class extends e{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ph(e)}}}function dd(e,t=0){return class extends e{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?fh(e):this.defaultTabIndex}}}function pd(e){return class extends e{constructor(...e){super(...e),this.stateChanges=new je.xQ,this.errorState=!1}updateErrorState(){const e=this.errorState,t=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);t!==e&&(this.errorState=t,this.stateChanges.next())}}}try{ad="undefined"!=typeof Intl}catch(OA){ad=!1}let fd=(()=>{class e{isErrorState(e,t){return!!(e&&e.invalid&&(e.touched||t&&t.submitted))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({factory:function(){return new e},token:e,providedIn:"root"}),e})();class md{constructor(e,t,n){this._renderer=e,this.element=t,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const gd={enterDuration:225,exitDuration:150},yd=kh({passive:!0}),_d=["mousedown","touchstart"],vd=["mouseup","mouseleave","touchend","touchcancel"];class bd{constructor(e,t,n,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=yh(n))}fadeInRipple(e,t,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},gd),n.animation);n.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=n.radius||function(e,t,n){const r=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),i=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(r*r+i*i)}(e,t,r),o=e-r.left,a=t-r.top,l=i.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=o-s+"px",c.style.top=a-s+"px",c.style.height=2*s+"px",c.style.width=2*s+"px",null!=n.color&&(c.style.backgroundColor=n.color),c.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";const u=new md(this,c,n);return u.state=0,this._activeRipples.add(u),n.persistent||(this._mostRecentTransientRipple=u),this._runTimeoutOutsideZone(()=>{const e=u===this._mostRecentTransientRipple;u.state=1,n.persistent||e&&this._isPointerDown||u.fadeOut()},l),u}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const n=e.element,r=Object.assign(Object.assign({},gd),e.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=yh(e);t&&t!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(_d))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(vd),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=Fh(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||t||n||(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Mh(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let e=0;e<t.length;e++)this.fadeInRipple(t[e].clientX,t[e].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(e=>{this._triggerElement.addEventListener(e,this,yd)})})}_removeTriggerEvents(){this._triggerElement&&(_d.forEach(e=>{this._triggerElement.removeEventListener(e,this,yd)}),this._pointerUpEventsRegistered&&vd.forEach(e=>{this._triggerElement.removeEventListener(e,this,yd)}))}}const wd=new r.OlP("mat-ripple-global-options");let Sd=(()=>{class e{constructor(e,t,n,r,i){this._elementRef=e,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new bd(this,t,e,n)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,t=0,n){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,t,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(bh),r.Y36(wd,8),r.Y36(Ku,8))},e.\u0275dir=r.lG2({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,t){2&e&&r.ekj("mat-ripple-unbounded",t.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),e})(),Ed=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ld,wh],ld]}),e})(),Cd=(()=>{class e{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Ku,8))},e.\u0275cmp=r.Xpm({type:e,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,t){2&e&&r.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===t.state)("mat-pseudo-checkbox-checked","checked"===t.state)("mat-pseudo-checkbox-disabled",t.disabled)("_mat-animation-noopable","NoopAnimations"===t._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,t){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),e})(),Td=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ld]]}),e})();const Id=new r.OlP("MAT_OPTION_PARENT_COMPONENT"),kd=cd(class{});let xd=0,Ad=(()=>{class e extends kd{constructor(e){var t;super(),this._labelId="mat-optgroup-label-"+xd++,this._inert=null!==(t=null==e?void 0:e.inertGroups)&&void 0!==t&&t}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Id,8))},e.\u0275dir=r.lG2({type:e,inputs:{label:"label"},features:[r.qOj]}),e})();const Od=new r.OlP("MatOptgroup");let Rd=0;class Dd{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let Nd=(()=>{class e{constructor(e,t,n,i){this._element=e,this._changeDetectorRef=t,this._parent=n,this.group=i,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Rd++,this.onSelectionChange=new r.vpe,this._stateChanges=new je.xQ}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=ph(e)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,t){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(t)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){13!==e.keyCode&&32!==e.keyCode||Xu(e)||(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new Dd(this,e))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(void 0),r.Y36(Ad))},e.\u0275dir=r.lG2({type:e,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),e})(),Pd=(()=>{class e extends Nd{constructor(e,t,n,r){super(e,t,n,r)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(Id,8),r.Y36(Od,8))},e.\u0275cmp=r.Xpm({type:e,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,t){1&e&&r.NdJ("click",function(){return t._selectViaInteraction()})("keydown",function(e){return t._handleKeydown(e)}),2&e&&(r.Ikx("id",t.id),r.uIk("tabindex",t._getTabIndex())("aria-selected",t._getAriaSelected())("aria-disabled",t.disabled.toString()),r.ekj("mat-selected",t.selected)("mat-option-multiple",t.multiple)("mat-active",t.active)("mat-option-disabled",t.disabled))},exportAs:["matOption"],features:[r.qOj],ngContentSelectors:id,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,t){1&e&&(r.F$t(),r.YNc(0,nd,1,2,"mat-pseudo-checkbox",0),r.TgZ(1,"span",1),r.Hsn(2),r.qZA(),r.YNc(3,rd,2,1,"span",2),r._UZ(4,"div",3)),2&e&&(r.Q6J("ngIf",t.multiple),r.xp6(3),r.Q6J("ngIf",t.group&&t.group._inert),r.xp6(1),r.Q6J("matRippleTrigger",t._getHostElement())("matRippleDisabled",t.disabled||t.disableRipple))},directives:[q,Sd,Cd],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),e})();function Ld(e,t,n){if(n.length){let r=t.toArray(),i=n.toArray(),s=0;for(let t=0;t<e+1;t++)r[t].group&&r[t].group===i[s]&&s++;return s}return 0}let Fd=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[Ed,ee,ld,Td]]}),e})();const Md=["*",[["mat-card-footer"]]],Vd=["*","mat-card-footer"];let Ud=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),e})(),qd=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),e})(),jd=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),e})(),Zd=(()=>{class e{constructor(e){this._animationMode=e}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Ku,8))},e.\u0275cmp=r.Xpm({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,t){2&e&&r.ekj("_mat-animation-noopable","NoopAnimations"===t._animationMode)},exportAs:["matCard"],ngContentSelectors:Vd,decls:2,vars:0,template:function(e,t){1&e&&(r.F$t(Md),r.Hsn(0),r.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),e})(),Bd=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ld],ld]}),e})();function Hd(e,t){if(1&e&&(r.TgZ(0,"option",13),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.s9C("value",e.Slug),r.xp6(1),r.Oqu(e.Country)}}function zd(e,t){if(1&e&&(r.TgZ(0,"div",14),r.TgZ(1,"mat-card",15),r.TgZ(2,"mat-card-subtitle"),r._uU(3,"Total Confirmed Case:"),r.qZA(),r.TgZ(4,"mat-card-content"),r._uU(5),r.ALo(6,"number"),r.qZA(),r.TgZ(7,"mat-card-subtitle"),r._uU(8,"Total Death Count:"),r.qZA(),r.TgZ(9,"mat-card-content"),r._uU(10),r.ALo(11,"number"),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.xp6(5),r.hij(" ",r.lcZ(6,2,e.confirmed)," "),r.xp6(5),r.hij(" ",r.lcZ(11,4,e.deaths)," ")}}let Gd=(()=>{class e{constructor(e){this.dataService=e,this.countries=[],this.country="",this.recovered="",this.deaths="",this.confirmed="",this.flag=!1}ngOnInit(){this.dataService.getCountries().subscribe(e=>{this.countries=e})}getCovidData(){this.dataService.getCovidRealTime(this.country).subscribe(e=>{this.flag=!0;var t=e.length-1;this.confirmed=e[t].Confirmed,this.recovered=e[t].Recovered,this.deaths=e[t].Deaths})}getCountry(e){this.country=e.target.value}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Ro))},e.\u0275cmp=r.Xpm({type:e,selectors:[["ci-cases-country"]],decls:20,vars:2,consts:[[1,"card-header"],[1,"row","pt-5"],[1,"col-md-6","mx-auto"],[1,"card","rounded-0"],[1,"mb-0","text-center"],[1,"card-body","text-center"],[1,"form-control",3,"change"],["disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"row"],[1,"text-center"],["type","button",1,"btn","btn-success",3,"click"],["class","row pt-5","style","display: grid; justify-content: center;",4,"ngIf"],[3,"value"],[1,"row","pt-5",2,"display","grid","justify-content","center"],[1,"example-card"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r._uU(1,"Total cases around the globe"),r.qZA(),r._UZ(2,"br"),r.TgZ(3,"div",1),r.TgZ(4,"div",2),r.TgZ(5,"div",3),r.TgZ(6,"div",0),r.TgZ(7,"h6",4),r._uU(8,"Select Country"),r.qZA(),r.qZA(),r.TgZ(9,"div",5),r.TgZ(10,"select",6),r.NdJ("change",function(e){return t.getCountry(e)}),r.TgZ(11,"option",7),r._uU(12,"Country"),r.qZA(),r.YNc(13,Hd,2,2,"option",8),r.qZA(),r.TgZ(14,"div",9),r._uU(15,"\xa0"),r.qZA(),r.TgZ(16,"div",10),r.TgZ(17,"button",11),r.NdJ("click",function(){return t.getCovidData()}),r._uU(18,"Show Data"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(19,zd,12,6,"div",12)),2&e&&(r.xp6(13),r.Q6J("ngForOf",t.countries),r.xp6(6),r.Q6J("ngIf",t.flag))},directives:[el,il,V,q,Zd,jd,Ud],pipes:[X],styles:[".example-card[_ngcontent-%COMP%]{max-width:250px}"]}),e})(),$d=(()=>{class e{constructor(){this.idSource=new Be("dfdf"),this.id=this.idSource.asObservable(),this.tokenSource=new Be("sdfdf"),this.token=this.tokenSource.asObservable()}changeId(e){console.log("changing"),this.idSource.next(e)}changeToken(e){this.tokenSource.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),Kd=(()=>{class e{constructor(e){this.http=e,this.loggedinFlag=!1}getOTP(e,t){const n=new eo,r={mobile:e};return console.log(r),n.append("Content-Type","application/json"),this.http.post("https://cdn-api.co-vin.in/api/v2/auth/public/generateOTP",r,{headers:n})}confirmOTP(e,t){const n=new eo,r={otp:t,txnId:e};return console.log(r),n.append("Content-Type","application/json"),this.http.post("https://cdn-api.co-vin.in/api/v2/auth/public/confirmOTP",r,{headers:n})}getCertificate(e,t){const n=new eo({"Content-Type":"application/json",Authorization:`Bearer ${t}`});return this.http.get("https://cdn-api.co-vin.in/api/v2/registration/certificate/public/download?beneficiary_reference_id="+e,{headers:n})}isLoggedIn(){return 1==this.loggedinFlag}login(e,t){return"admin"==e&&"admin"==t&&(console.log("loggedin"),this.loggedinFlag=!0,!0)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(yo))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Yd=(()=>{class e{constructor(e,t){this.state=e,this.OtpService=t,this.benificiaryId=""}ngOnInit(){this.state.token.subscribe(e=>{this.tokenValue=e})}onSubmit(e){this.benificiaryId=e.value.benid,this.OtpService.getCertificate(this.benificiaryId,this.tokenValue).subscribe(e=>{this.test=e,console.log(e),console.log(this.test)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36($d),r.Y36(Kd))},e.\u0275cmp=r.Xpm({type:e,selectors:[["ci-certificate"]],decls:11,vars:0,consts:[[1,"text-center"],[1,"form-signin",3,"ngSubmit"],["userForm","ngForm"],[1,"h3","mb-3","font-weight-normal"],["for","inputEmail",1,"sr-only"],["type","text","name","benid","id","inputEmail","ngModel","","placeholder","Benificiary Id","required","","autofocus","",1,"form-control"],["type","submit",1,"btn","btn-lg","btn-primary","btn-block"]],template:function(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"body",0),r.TgZ(1,"form",1,2),r.NdJ("ngSubmit",function(){r.CHM(e);const n=r.MAs(2);return t.onSubmit(n)}),r.TgZ(3,"h1",3),r._uU(4,"Benificiary Id"),r.qZA(),r.TgZ(5,"label",4),r._uU(6,"Benificiary Id"),r.qZA(),r._UZ(7,"input",5),r._UZ(8,"br"),r.TgZ(9,"button",6),r._uU(10,"Download"),r.qZA(),r.qZA(),r.qZA()}},directives:[Ha,da,qa,qo,ha,Ba,ol],styles:[""]}),e})(),Wd=(()=>{class e{constructor(e){this.http=e}getStates(){return this.http.get("https://cdn-api.co-vin.in/api/v2/admin/location/states",{observe:"response"}).pipe((0,lt.U)(this.extractHttpData))}getDistricts(e){return this.http.get("https://cdn-api.co-vin.in/api/v2/admin/location/districts/"+e,{observe:"response"}).pipe((0,lt.U)(this.extractHttpData))}getVaccineDetails(e,t){return this.http.get("https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/findByDistrict?district_id="+e+"&date="+t)}getByPincode(e,t){return this.http.get("https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/findByPin?pincode="+e+"&date="+t)}getDailyVaccinationDetails(){return this.http.get("https://cdn-api.co-vin.in/api/v1/reports/getLiveVaccination")}getStateWiseVaccinatedDetails(e,t,n){const r="https://api.cowin.gov.in/api/v1/reports/v2/getPublicReports?state_id="+e+"&district_id="+t+"&date="+n;return console.log(r),this.http.get(r)}extractHttpData(e){return null!=e?302===e.status?void window.location.reload():e.body:null}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(yo))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class Qd{setDate(){this.date=new Date,console.log(this.date),this.mm=this.date.getMonth()+1,this.dd=this.date.getDate(),this.yy=this.date.getFullYear(),this.formatDate=this.yy+"-"+this.mm+"-"+this.dd}getDate(){return this.formatDate}}let Jd=(()=>{class e{constructor(){this.title="",this.subTitle=""}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["ci-card-component"]],inputs:{data:"data",title:"title",subTitle:"subTitle"},decls:8,vars:5,consts:[[1,"example-card"]],template:function(e,t){1&e&&(r.TgZ(0,"mat-card",0),r.TgZ(1,"mat-card-title"),r._uU(2),r.qZA(),r.TgZ(3,"mat-card-subtitle"),r._uU(4),r.qZA(),r.TgZ(5,"mat-card-content"),r._uU(6),r.ALo(7,"number"),r.qZA(),r.qZA()),2&e&&(r.xp6(2),r.Oqu(t.title),r.xp6(2),r.Oqu(t.subTitle),r.xp6(2),r.hij(" ",r.lcZ(7,3,t.data)," "))},directives:[Zd,qd,jd,Ud],pipes:[X],styles:[".example-card[_ngcontent-%COMP%]{max-width:250px}"]}),e})();var Xd=n(9105);function ep(e,t,n,r){return(0,Xd.m)(n)&&(r=n,n=void 0),r?ep(e,t,n).pipe((0,lt.U)(e=>(0,ze.k)(e)?r(...e):r(e))):new We.y(r=>{tp(e,t,function(e){r.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},r,n)})}function tp(e,t,n,r,i){let s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){const r=e;e.addEventListener(t,n,i),s=()=>r.removeEventListener(t,n,i)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){const r=e;e.on(t,n),s=()=>r.off(t,n)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){const r=e;e.addListener(t,n),s=()=>r.removeListener(t,n)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,o=e.length;s<o;s++)tp(e[s],t,n,r,i)}r.add(s)}const np=["underline"],rp=["connectionContainer"],ip=["inputContainer"],sp=["label"];function op(e,t){1&e&&(r.ynx(0),r.TgZ(1,"div",14),r._UZ(2,"div",15),r._UZ(3,"div",16),r._UZ(4,"div",17),r.qZA(),r.TgZ(5,"div",18),r._UZ(6,"div",15),r._UZ(7,"div",16),r._UZ(8,"div",17),r.qZA(),r.BQk())}function ap(e,t){1&e&&(r.TgZ(0,"div",19),r.Hsn(1,1),r.qZA())}function lp(e,t){if(1&e&&(r.ynx(0),r.Hsn(1,2),r.TgZ(2,"span"),r._uU(3),r.qZA(),r.BQk()),2&e){const e=r.oxw(2);r.xp6(3),r.Oqu(e._control.placeholder)}}function cp(e,t){1&e&&r.Hsn(0,3,["*ngSwitchCase","true"])}function up(e,t){1&e&&(r.TgZ(0,"span",23),r._uU(1," *"),r.qZA())}function hp(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"label",20,21),r.NdJ("cdkObserveContent",function(){return r.CHM(e),r.oxw().updateOutlineGap()}),r.YNc(2,lp,4,1,"ng-container",12),r.YNc(3,cp,1,0,"ng-content",12),r.YNc(4,up,2,0,"span",22),r.qZA()}if(2&e){const e=r.oxw();r.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),r.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),r.uIk("for",e._control.id)("aria-owns",e._control.id),r.xp6(2),r.Q6J("ngSwitchCase",!1),r.xp6(1),r.Q6J("ngSwitchCase",!0),r.xp6(1),r.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function dp(e,t){1&e&&(r.TgZ(0,"div",24),r.Hsn(1,4),r.qZA())}function pp(e,t){if(1&e&&(r.TgZ(0,"div",25,26),r._UZ(2,"span",27),r.qZA()),2&e){const e=r.oxw();r.xp6(2),r.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function fp(e,t){if(1&e&&(r.TgZ(0,"div"),r.Hsn(1,5),r.qZA()),2&e){const e=r.oxw();r.Q6J("@transitionMessages",e._subscriptAnimationState)}}function mp(e,t){if(1&e&&(r.TgZ(0,"div",31),r._uU(1),r.qZA()),2&e){const e=r.oxw(2);r.Q6J("id",e._hintLabelId),r.xp6(1),r.Oqu(e.hintLabel)}}function gp(e,t){if(1&e&&(r.TgZ(0,"div",28),r.YNc(1,mp,2,2,"div",29),r.Hsn(2,6),r._UZ(3,"div",30),r.Hsn(4,7),r.qZA()),2&e){const e=r.oxw();r.Q6J("@transitionMessages",e._subscriptAnimationState),r.xp6(1),r.Q6J("ngIf",e.hintLabel)}}const yp=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],_p=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],vp=new r.OlP("MatError"),bp={transitionMessages:dl("transitionMessages",[gl("enter",ml({opacity:1,transform:"translateY(0%)"})),yl("void => enter",[ml({opacity:0,transform:"translateY(-5px)"}),pl("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let wp=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e}),e})();const Sp=new r.OlP("MatHint");let Ep=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["mat-label"]]}),e})(),Cp=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["mat-placeholder"]]}),e})();const Tp=new r.OlP("MatPrefix"),Ip=new r.OlP("MatSuffix");let kp=0;const xp=ud(class{constructor(e){this._elementRef=e}},"primary"),Ap=new r.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Op=new r.OlP("MatFormField");let Rp=(()=>{class e extends xp{constructor(e,t,n,r,i,s,o,a){super(e),this._changeDetectorRef=t,this._dir=r,this._defaults=i,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new je.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+kp++,this._labelId="mat-form-field-label-"+kp++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const t=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&t!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=ph(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(yt(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(uh(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(uh(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Gi.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(yt(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(yt(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(uh(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const t=this._control?this._control.ngControl:null;return t&&t[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,ep(this._label.nativeElement,"transitionend").pipe(ft(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const t=this._hintChildren?this._hintChildren.find(e=>"start"===e.align):null,n=this._hintChildren?this._hintChildren.find(e=>"end"===e.align):null;t?e.push(t.id):this._hintLabel&&e.push(this._hintLabelId),n&&e.push(n.id)}else this._errorChildren&&e.push(...this._errorChildren.map(e=>e.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!e||!e.children.length||!e.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let t=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),s=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(i),o=e.children,a=this._getStartEnd(o[0].getBoundingClientRect());let l=0;for(let e=0;e<o.length;e++)l+=o[e].offsetWidth;t=Math.abs(a-s)-5,n=l>0?.75*l+10:0}for(let o=0;o<i.length;o++)i[o].style.width=`${t}px`;for(let o=0;o<s.length;o++)s[o].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const t=e.getRootNode();return t&&t!==e}return document.documentElement.contains(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(Xh,8),r.Y36(Ap,8),r.Y36(bh),r.Y36(r.R0b),r.Y36(Ku,8))},e.\u0275cmp=r.Xpm({type:e,selectors:[["mat-form-field"]],contentQueries:function(e,t,n){if(1&e&&(r.Suo(n,wp,5),r.Suo(n,wp,7),r.Suo(n,Ep,5),r.Suo(n,Ep,7),r.Suo(n,Cp,5),r.Suo(n,vp,5),r.Suo(n,Sp,5),r.Suo(n,Tp,5),r.Suo(n,Ip,5)),2&e){let e;r.iGM(e=r.CRH())&&(t._controlNonStatic=e.first),r.iGM(e=r.CRH())&&(t._controlStatic=e.first),r.iGM(e=r.CRH())&&(t._labelChildNonStatic=e.first),r.iGM(e=r.CRH())&&(t._labelChildStatic=e.first),r.iGM(e=r.CRH())&&(t._placeholderChild=e.first),r.iGM(e=r.CRH())&&(t._errorChildren=e),r.iGM(e=r.CRH())&&(t._hintChildren=e),r.iGM(e=r.CRH())&&(t._prefixChildren=e),r.iGM(e=r.CRH())&&(t._suffixChildren=e)}},viewQuery:function(e,t){if(1&e&&(r.Gf(np,5),r.Gf(rp,7),r.Gf(ip,5),r.Gf(sp,5)),2&e){let e;r.iGM(e=r.CRH())&&(t.underlineRef=e.first),r.iGM(e=r.CRH())&&(t._connectionContainerRef=e.first),r.iGM(e=r.CRH())&&(t._inputContainerRef=e.first),r.iGM(e=r.CRH())&&(t._label=e.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,t){2&e&&r.ekj("mat-form-field-appearance-standard","standard"==t.appearance)("mat-form-field-appearance-fill","fill"==t.appearance)("mat-form-field-appearance-outline","outline"==t.appearance)("mat-form-field-appearance-legacy","legacy"==t.appearance)("mat-form-field-invalid",t._control.errorState)("mat-form-field-can-float",t._canLabelFloat())("mat-form-field-should-float",t._shouldLabelFloat())("mat-form-field-has-label",t._hasFloatingLabel())("mat-form-field-hide-placeholder",t._hideControlPlaceholder())("mat-form-field-disabled",t._control.disabled)("mat-form-field-autofilled",t._control.autofilled)("mat-focused",t._control.focused)("ng-untouched",t._shouldForward("untouched"))("ng-touched",t._shouldForward("touched"))("ng-pristine",t._shouldForward("pristine"))("ng-dirty",t._shouldForward("dirty"))("ng-valid",t._shouldForward("valid"))("ng-invalid",t._shouldForward("invalid"))("ng-pending",t._shouldForward("pending"))("_mat-animation-noopable",!t._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[r._Bn([{provide:Op,useExisting:e}]),r.qOj],ngContentSelectors:_p,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,t){1&e&&(r.F$t(yp),r.TgZ(0,"div",0),r.TgZ(1,"div",1,2),r.NdJ("click",function(e){return t._control.onContainerClick&&t._control.onContainerClick(e)}),r.YNc(3,op,9,0,"ng-container",3),r.YNc(4,ap,2,0,"div",4),r.TgZ(5,"div",5,6),r.Hsn(7),r.TgZ(8,"span",7),r.YNc(9,hp,5,16,"label",8),r.qZA(),r.qZA(),r.YNc(10,dp,2,0,"div",9),r.qZA(),r.YNc(11,pp,3,4,"div",10),r.TgZ(12,"div",11),r.YNc(13,fp,2,1,"div",12),r.YNc(14,gp,5,2,"div",13),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.Q6J("ngIf","outline"==t.appearance),r.xp6(1),r.Q6J("ngIf",t._prefixChildren.length),r.xp6(5),r.Q6J("ngIf",t._hasFloatingLabel()),r.xp6(1),r.Q6J("ngIf",t._suffixChildren.length),r.xp6(1),r.Q6J("ngIf","outline"!=t.appearance),r.xp6(1),r.Q6J("ngSwitch",t._getDisplayedMessages()),r.xp6(1),r.Q6J("ngSwitchCase","error"),r.xp6(1),r.Q6J("ngSwitchCase","hint"))},directives:[q,H,z,Nh],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[bp.transitionMessages]},changeDetection:0}),e})(),Dp=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ee,ld,Ph],ld]}),e})();var Np=n(6465),Pp=n(6102);new class extends Pp.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,i=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<i&&(e=t.shift()));if(this.active=!1,n){for(;++r<i&&(e=t.shift());)e.unsubscribe();throw n}}}(class extends Np.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}}),n(4581);class Lp{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new Fp(e,this.durationSelector))}}class Fp extends ct.Ds{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:t}=this;n=t(e)}catch(t){return this.destination.error(t)}const r=(0,ct.ft)(n,new ct.IY(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:e,hasValue:t,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var Mp=n(6561);function Vp(e){const{index:t,period:n,subscriber:r}=e;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}function Up(e,t=eh.P){return n=()=>function(e=0,t,n){let r=-1;return(0,Mp.k)(t)?r=Number(t)<1?1:Number(t):(0,He.K)(t)&&(n=t),(0,He.K)(n)||(n=eh.P),new We.y(t=>{const i=(0,Mp.k)(e)?e:+e-n.now();return n.schedule(Vp,i,{index:0,period:r,subscriber:t})})}(e,t),function(e){return e.lift(new Lp(n))};var n}function qp(){return e=>e.lift(new jp)}class jp{call(e,t){return t.subscribe(new Zp(e))}}class Zp extends Ge.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}class Bp{constructor(e=!1,t,n=!0){this._multiple=e,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new je.xQ,t&&t.length&&(e?t.forEach(e=>this._markSelected(e)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}let Hp=(()=>{class e{constructor(e,t,n){this._ngZone=e,this._platform=t,this._scrolled=new je.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new We.y(t=>{this._globalSubscription||this._addGlobalListener();const n=e>0?this._scrolled.pipe(Up(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,qe.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){const n=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(wt(e=>!e||n.indexOf(e)>-1))}getAncestorScrollContainers(e){const t=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,e)&&t.push(r)}),t}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,t){let n=yh(t),r=e.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ep(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.R0b),r.LFG(bh),r.LFG(o,8))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(r.R0b),r.LFG(bh),r.LFG(o,8))},token:e,providedIn:"root"}),e})(),zp=(()=>{class e{constructor(e,t,n){this._platform=e,this._change=new je.xQ,this._changeListener=e=>{this._change.next(e)},this._document=n,t.runOutsideAngular(()=>{if(e.isBrowser){const e=this._getWindow();e.addEventListener("resize",this._changeListener),e.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:t,height:n}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+n,right:e.left+t,height:n,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,t=this._getWindow(),n=e.documentElement,r=n.getBoundingClientRect();return{top:-r.top||e.body.scrollTop||t.scrollY||n.scrollTop||0,left:-r.left||e.body.scrollLeft||t.scrollX||n.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Up(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(bh),r.LFG(r.R0b),r.LFG(o,8))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(bh),r.LFG(r.R0b),r.LFG(o,8))},token:e,providedIn:"root"}),e})(),Gp=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})(),$p=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ed,wh,Gp],ed,Gp]}),e})();class Kp{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Yp extends Kp{constructor(e,t,n,r){super(),this.component=e,this.viewContainerRef=t,this.injector=n,this.componentFactoryResolver=r}}class Wp extends Kp{constructor(e,t,n){super(),this.templateRef=e,this.viewContainerRef=t,this.context=n}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Qp extends Kp{constructor(e){super(),this.element=e instanceof r.SBq?e.nativeElement:e}}class Jp extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Yp?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Wp?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Qp?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,n,r,i){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=e=>{const t=e.element,n=this._document.createComment("dom-portal");t.parentNode.insertBefore(n,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(t,n)})},this._document=i}attachComponentPortal(e){const t=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let n;return e.viewContainerRef?(n=e.viewContainerRef.createComponent(t,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=t.create(e.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=e,n}attachTemplatePortal(e){let t=e.viewContainerRef,n=t.createEmbeddedView(e.templateRef,e.context);return n.rootNodes.forEach(e=>this.outletElement.appendChild(e)),n.detectChanges(),this.setDisposeFn(()=>{let e=t.indexOf(n);-1!==e&&t.remove(e)}),this._attachedPortal=e,n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Xp=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();class ef{constructor(e,t){this.predicate=e,this.inclusive=t}call(e,t){return t.subscribe(new tf(e,this.predicate,this.inclusive))}}class tf extends Ge.L{constructor(e,t,n){super(e),this.predicate=t,this.inclusive=n,this.index=0}_next(e){const t=this.destination;let n;try{n=this.predicate(e,this.index++)}catch(r){return void t.error(r)}this.nextOrComplete(e,n)}nextOrComplete(e,t){const n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())}}const nf=xh();class rf{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=gh(-this._previousScrollPosition.left),e.style.top=gh(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,t=e.style,n=this._document.body.style,r=t.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),nf&&(t.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),nf&&(t.scrollBehavior=r,n.scrollBehavior=i)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width}}class sf{constructor(e,t,n,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class of{enable(){}disable(){}attach(){}}function af(e,t){return t.some(t=>e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right)}function lf(e,t){return t.some(t=>e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right)}class cf{constructor(e,t,n,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:t,height:n}=this._viewportRuler.getViewportSize();af(e,[{width:t,height:n,bottom:n,right:t,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let uf=(()=>{class e{constructor(e,t,n,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this.noop=()=>new of,this.close=e=>new sf(this._scrollDispatcher,this._ngZone,this._viewportRuler,e),this.block=()=>new rf(this._viewportRuler,this._document),this.reposition=e=>new cf(this._scrollDispatcher,this._viewportRuler,this._ngZone,e),this._document=r}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Hp),r.LFG(zp),r.LFG(r.R0b),r.LFG(o))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(Hp),r.LFG(zp),r.LFG(r.R0b),r.LFG(o))},token:e,providedIn:"root"}),e})();class hf{constructor(e){if(this.scrollStrategy=new of,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const n of t)void 0!==e[n]&&(this[n]=e[n])}}}class df{constructor(e,t,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class pf{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let ff=(()=>{class e{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),0===this._attachedOverlays.length&&this.detach()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(o))},token:e,providedIn:"root"}),e})(),mf=(()=>{class e extends ff{constructor(e){super(e),this._keydownListener=e=>{const t=this._attachedOverlays;for(let n=t.length-1;n>-1;n--)if(t[n]._keydownEvents.observers.length>0){t[n]._keydownEvents.next(e);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(o))},token:e,providedIn:"root"}),e})(),gf=(()=>{class e extends ff{constructor(e,t){super(e),this._platform=t,this._cursorStyleIsSet=!1,this._pointerDownListener=e=>{this._pointerDownEventTarget=Ah(e)},this._clickListener=e=>{const t=Ah(e),n="click"===e.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:t;this._pointerDownEventTarget=null;const r=this._attachedOverlays.slice();for(let i=r.length-1;i>-1;i--){const s=r[i];if(!(s._outsidePointerEvents.observers.length<1)&&s.hasAttached()){if(s.overlayElement.contains(t)||s.overlayElement.contains(n))break;s._outsidePointerEvents.next(e)}}}}add(e){if(super.add(e),!this._isAttached){const e=this._document.body;e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=e.style.cursor,e.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o),r.LFG(bh))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(o),r.LFG(bh))},token:e,providedIn:"root"}),e})(),yf=(()=>{class e{constructor(e,t){this._platform=t,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Oh()){const t=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const t=this._document.createElement("div");t.classList.add(e),Oh()?t.setAttribute("platform","test"):this._platform.isBrowser||t.setAttribute("platform","server"),this._document.body.appendChild(t),this._containerElement=t}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(o),r.LFG(bh))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(o),r.LFG(bh))},token:e,providedIn:"root"}),e})();class _f{constructor(e,t,n,r,i,s,o,a,l){this._portalOutlet=e,this._host=t,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=l,this._backdropElement=null,this._backdropClick=new je.xQ,this._attachments=new je.xQ,this._detachments=new je.xQ,this._locationChanges=Bt.w.EMPTY,this._backdropClickHandler=e=>this._backdropClick.next(e),this._keydownEvents=new je.xQ,this._outsidePointerEvents=new je.xQ,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ft(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=gh(this._config.width),e.height=gh(this._config.height),e.minWidth=gh(this._config.minWidth),e.minHeight=gh(this._config.minHeight),e.maxWidth=gh(this._config.maxWidth),e.maxHeight=gh(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(e,t,n){const r=e.classList;mh(t).forEach(e=>{e&&(n?r.add(e):r.remove(e))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(uh((0,Gi.T)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.parentNode&&e.parentNode.removeChild(e),this._backdropElement===e&&(this._backdropElement=null))}}const vf="cdk-overlay-connected-position-bounding-box",bf=/([A-Za-z%]+)$/;class wf{constructor(e,t,n,r,i){this._viewportRuler=t,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new je.xQ,this._resizeSubscription=Bt.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(vf),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(e,s),a=this._getOverlayPoint(o,t,s),l=this._getOverlayFit(a,t,n,s);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(l,a,n)?r.push({position:s,origin:o,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<l.visibleArea)&&(i={overlayFit:l,overlayPoint:a,originPoint:o,position:s,overlayRect:t})}if(r.length){let e=null,t=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>t&&(t=r,e=n)}return this._isPushed=!1,void this._applyPosition(e.position,e.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Sf(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(vf),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let n,r;if("center"==t.originX)n=e.left+e.width/2;else{const r=this._isRtl()?e.right:e.left,i=this._isRtl()?e.left:e.right;n="start"==t.originX?r:i}return r="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:n,y:r}}_getOverlayPoint(e,t,n){let r,i;return r="center"==n.overlayX?-t.width/2:"start"===n.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,i="center"==n.overlayY?-t.height/2:"top"==n.overlayY?0:-t.height,{x:e.x+r,y:e.y+i}}_getOverlayFit(e,t,n,r){const i=Cf(t);let{x:s,y:o}=e,a=this._getOffset(r,"x"),l=this._getOffset(r,"y");a&&(s+=a),l&&(o+=l);let c=0-o,u=o+i.height-n.height,h=this._subtractOverflows(i.width,0-s,s+i.width-n.width),d=this._subtractOverflows(i.height,c,u),p=h*d;return{visibleArea:p,isCompletelyWithinViewport:i.width*i.height===p,fitsInViewportVertically:d===i.height,fitsInViewportHorizontally:h==i.width}}_canFitWithFlexibleDimensions(e,t,n){if(this._hasFlexibleDimensions){const r=n.bottom-t.y,i=n.right-t.x,s=Ef(this._overlayRef.getConfig().minHeight),o=Ef(this._overlayRef.getConfig().minWidth),a=e.fitsInViewportHorizontally||null!=o&&o<=i;return(e.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(e,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=Cf(t),i=this._viewportRect,s=Math.max(e.x+r.width-i.width,0),o=Math.max(e.y+r.height-i.height,0),a=Math.max(i.top-n.top-e.y,0),l=Math.max(i.left-n.left-e.x,0);let c=0,u=0;return c=r.width<=i.width?l||-s:e.x<this._viewportMargin?i.left-n.left-e.x:0,u=r.height<=i.height?a||-o:e.y<this._viewportMargin?i.top-n.top-e.y:0,this._previousPushAmount={x:c,y:u},{x:e.x+c,y:e.y+u}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const t=this._getScrollVisibility(),n=new pf(e,t);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=e.overlayY;n="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let i=0;i<t.length;i++)t[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(e,t){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,l,c;if("top"===t.overlayY)s=e.y,i=n.height-s+this._viewportMargin;else if("bottom"===t.overlayY)o=n.height-e.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const t=Math.min(n.bottom-e.y+n.top,e.y),r=this._lastBoundingBoxSize.height;i=2*t,s=e.y-t,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-r/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)c=n.width-e.x+this._viewportMargin,a=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)l=e.x,a=n.right-e.x;else{const t=Math.min(n.right-e.x+n.left,e.x),r=this._lastBoundingBoxSize.width;a=2*t,l=e.x-t,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(l=e.x-r/2)}return{top:s,left:l,bottom:o,right:c,width:a,height:i}}_setBoundingBoxStyles(e,t){const n=this._calculateBoundingBoxRect(e,t);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const e=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=gh(n.height),r.top=gh(n.top),r.bottom=gh(n.bottom),r.width=gh(n.width),r.left=gh(n.left),r.right=gh(n.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",e&&(r.maxHeight=gh(e)),i&&(r.maxWidth=gh(i))}this._lastBoundingBoxSize=n,Sf(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Sf(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Sf(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();Sf(n,this._getExactOverlayY(t,e,r)),Sf(n,this._getExactOverlayX(t,e,r))}else n.position="static";let o="",a=this._getOffset(t,"x"),l=this._getOffset(t,"y");a&&(o+=`translateX(${a}px) `),l&&(o+=`translateY(${l}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=gh(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=gh(s.maxWidth):i&&(n.maxWidth="")),Sf(this._pane.style,n)}_getExactOverlayY(e,t,n){let r={top:"",bottom:""},i=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=gh(i.y),r}_getExactOverlayX(e,t,n){let r,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=gh(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this._scrollables.map(e=>e.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:lf(e,n),isOriginOutsideView:af(e,n),isOverlayClipped:lf(t,n),isOverlayOutsideView:af(t,n)}}_subtractOverflows(e,...t){return t.reduce((e,t)=>e-Math.max(t,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&mh(e).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof r.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+t,height:n,width:t}}}function Sf(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Ef(e){if("number"!=typeof e&&null!=e){const[t,n]=e.split(bf);return n&&"px"!==n?null:parseFloat(t)}return e||null}function Cf(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}class Tf{constructor(e,t,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new wf(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,t),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(e){this._positionStrategy.withScrollableContainers(e)}withFallbackPosition(e,t,n,r){const i=new df(e,t,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}withOffsetX(e){return this._positionStrategy.withDefaultOffsetX(e),this}withOffsetY(e){return this._positionStrategy.withDefaultOffsetY(e),this}withLockedPosition(e){return this._positionStrategy.withLockedPosition(e),this}withPositions(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(e){return this._positionStrategy.setOrigin(e),this}}const If="cdk-global-overlay-wrapper";class kf{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(If),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);e.position=this._cssPosition,e.marginLeft=a?"0":this._leftOffset,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,a?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove(If),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let xf=(()=>{class e{constructor(e,t,n,r){this._viewportRuler=e,this._document=t,this._platform=n,this._overlayContainer=r}global(){return new kf}connectedTo(e,t,n){return new Tf(t,n,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new wf(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(zp),r.LFG(o),r.LFG(bh),r.LFG(yf))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(zp),r.LFG(o),r.LFG(bh),r.LFG(yf))},token:e,providedIn:"root"}),e})(),Af=0,Of=(()=>{class e{constructor(e,t,n,r,i,s,o,a,l,c,u){this.scrollStrategies=e,this._overlayContainer=t,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=l,this._location=c,this._outsideClickDispatcher=u}create(e){const t=this._createHostElement(),n=this._createPaneElement(t),r=this._createPortalOutlet(n),i=new hf(e);return i.direction=i.direction||this._directionality.value,new _f(r,t,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const t=this._document.createElement("div");return t.id="cdk-overlay-"+Af++,t.classList.add("cdk-overlay-pane"),e.appendChild(t),t}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(r.z2F)),new Jp(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(uf),r.LFG(yf),r.LFG(r._Vd),r.LFG(xf),r.LFG(mf),r.LFG(r.zs3),r.LFG(r.R0b),r.LFG(o),r.LFG(Xh),r.LFG(w),r.LFG(gf))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const Rf=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Df=new r.OlP("cdk-connected-overlay-scroll-strategy");let Nf=(()=>{class e{constructor(e){this.elementRef=e}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq))},e.\u0275dir=r.lG2({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),e})(),Pf=(()=>{class e{constructor(e,t,n,i,s){this._overlay=e,this._dir=s,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Bt.w.EMPTY,this._attachSubscription=Bt.w.EMPTY,this._detachSubscription=Bt.w.EMPTY,this._positionSubscription=Bt.w.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new r.vpe,this.positionChange=new r.vpe,this.attach=new r.vpe,this.detach=new r.vpe,this.overlayKeydown=new r.vpe,this.overlayOutsideClick=new r.vpe,this._templatePortal=new Wp(t,n),this._scrollStrategyFactory=i,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=ph(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=ph(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=ph(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=ph(e)}get push(){return this._push}set push(e){this._push=ph(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=Rf);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(e=>{this.overlayKeydown.next(e),27!==e.keyCode||this.disableClose||Xu(e)||(e.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(e=>{this.overlayOutsideClick.next(e)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),t=new hf({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(t.width=this.width),(this.height||0===this.height)&&(t.height=this.height),(this.minWidth||0===this.minWidth)&&(t.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(t.minHeight=this.minHeight),this.backdropClass&&(t.backdropClass=this.backdropClass),this.panelClass&&(t.panelClass=this.panelClass),t}_updatePositionStrategy(e){const t=this.positions.map(e=>({originX:e.originX,originY:e.originY,overlayX:e.overlayX,overlayY:e.overlayY,offsetX:e.offsetX||this.offsetX,offsetY:e.offsetY||this.offsetY,panelClass:e.panelClass||void 0}));return e.setOrigin(this.origin.elementRef).withPositions(t).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(e),e}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(e,t=!1){return n=>n.lift(new ef(e,t))}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Of),r.Y36(r.Rgc),r.Y36(r.s_b),r.Y36(Df),r.Y36(Xh,8))},e.\u0275dir=r.lG2({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[r.TTD]}),e})();const Lf={provide:Df,deps:[Of],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let Ff=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[Of,Lf],imports:[[ed,Xp,$p],$p]}),e})();const Mf=["trigger"],Vf=["panel"];function Uf(e,t){if(1&e&&(r.TgZ(0,"span",8),r._uU(1),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.Oqu(e.placeholder)}}function qf(e,t){if(1&e&&(r.TgZ(0,"span",12),r._uU(1),r.qZA()),2&e){const e=r.oxw(2);r.xp6(1),r.Oqu(e.triggerValue)}}function jf(e,t){1&e&&r.Hsn(0,0,["*ngSwitchCase","true"])}function Zf(e,t){if(1&e&&(r.TgZ(0,"span",9),r.YNc(1,qf,2,1,"span",10),r.YNc(2,jf,1,0,"ng-content",11),r.qZA()),2&e){const e=r.oxw();r.Q6J("ngSwitch",!!e.customTrigger),r.xp6(2),r.Q6J("ngSwitchCase",!0)}}function Bf(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",13),r.TgZ(1,"div",14,15),r.NdJ("@transformPanel.done",function(t){return r.CHM(e),r.oxw()._panelDoneAnimatingStream.next(t.toState)})("keydown",function(t){return r.CHM(e),r.oxw()._handleKeydown(t)}),r.Hsn(3,1),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("@transformPanelWrap",void 0),r.xp6(1),r.Gre("mat-select-panel ",e._getPanelTheme(),""),r.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),r.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),r.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const Hf=[[["mat-select-trigger"]],"*"],zf=["mat-select-trigger","*"],Gf={transformPanelWrap:dl("transformPanelWrap",[yl("* => void",vl("@transformPanel",[_l()],{optional:!0}))]),transformPanel:dl("transformPanel",[gl("void",ml({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),gl("showing",ml({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),gl("showing-multiple",ml({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),yl("void => *",pl("120ms cubic-bezier(0, 0, 0.2, 1)")),yl("* => void",pl("100ms 25ms linear",ml({opacity:0})))])};let $f=0;const Kf=256,Yf=new r.OlP("mat-select-scroll-strategy"),Wf=new r.OlP("MAT_SELECT_CONFIG"),Qf={provide:Yf,deps:[Of],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};class Jf{constructor(e,t){this.source=e,this.value=t}}const Xf=hd(dd(cd(pd(class{constructor(e,t,n,r,i){this._elementRef=e,this._defaultErrorStateMatcher=t,this._parentForm=n,this._parentFormGroup=r,this.ngControl=i}})))),em=new r.OlP("MatSelectTrigger");let tm=(()=>{class e extends Xf{constructor(e,t,n,i,s,o,a,l,c,u,h,d,p,f){var m,g,y;super(s,i,a,l,u),this._viewportRuler=e,this._changeDetectorRef=t,this._ngZone=n,this._dir=o,this._parentFormField=c,this._liveAnnouncer=p,this._defaultOptions=f,this._panelOpen=!1,this._compareWith=(e,t)=>e===t,this._uid="mat-select-"+$f++,this._triggerAriaLabelledBy=null,this._destroy=new je.xQ,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+$f++,this._panelDoneAnimatingStream=new je.xQ,this._overlayPanelClass=(null===(m=this._defaultOptions)||void 0===m?void 0:m.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(y=null===(g=this._defaultOptions)||void 0===g?void 0:g.disableOptionCentering)&&void 0!==y&&y,this.ariaLabel="",this.optionSelectionChanges=ot(()=>{const e=this.options;return e?e.changes.pipe(yt(e),ut(()=>(0,Gi.T)(...e.map(e=>e.onSelectionChange)))):this._ngZone.onStable.pipe(ft(1),ut(()=>this.optionSelectionChanges))}),this.openedChange=new r.vpe,this._openedStream=this.openedChange.pipe(wt(e=>e),(0,lt.U)(()=>{})),this._closedStream=this.openedChange.pipe(wt(e=>!e),(0,lt.U)(()=>{})),this.selectionChange=new r.vpe,this.valueChange=new r.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==f?void 0:f.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=f.typeaheadDebounceInterval),this._scrollStrategyFactory=d,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required}set required(e){this._required=ph(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=ph(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=ph(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=fh(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Bp(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(ah(),uh(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(uh(this._destroy)).subscribe(e=>{e.added.forEach(e=>e.select()),e.removed.forEach(e=>e.deselect())}),this.options.changes.pipe(yt(null),uh(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby();if(e!==this._triggerAriaLabelledBy){const t=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?t.setAttribute("aria-labelledby",e):t.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this.value=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var e,t;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(t=this._selectionModel)||void 0===t?void 0:t.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(e=>e.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const t=e.keyCode,n=40===t||38===t||37===t||39===t,r=13===t||32===t,i=this._keyManager;if(!i.isTyping()&&r&&!Xu(e)||(this.multiple||e.altKey)&&n)e.preventDefault(),this.open();else if(!this.multiple){const t=this.selected;i.onKeydown(e);const n=this.selected;n&&t!==n&&this._liveAnnouncer.announce(n.viewValue,1e4)}}_handleOpenKeydown(e){const t=this._keyManager,n=e.keyCode,r=40===n||38===n,i=t.isTyping();if(r&&e.altKey)e.preventDefault(),this.close();else if(i||13!==n&&32!==n||!t.activeItem||Xu(e))if(!i&&this._multiple&&65===n&&e.ctrlKey){e.preventDefault();const t=this.options.some(e=>!e.disabled&&!e.selected);this.options.forEach(e=>{e.disabled||(t?e.select():e.deselect())})}else{const n=t.activeItemIndex;t.onKeydown(e),this._multiple&&r&&e.shiftKey&&t.activeItem&&t.activeItemIndex!==n&&t.activeItem._selectViaInteraction()}else e.preventDefault(),t.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(ft(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(e=>e.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(e=>this._selectValue(e)),this._sortValues();else{const t=this._selectValue(e);t?this._keyManager.updateActiveItem(t):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(e){const t=this.options.find(t=>{if(this._selectionModel.isSelected(t))return!1;try{return null!=t.value&&this._compareWith(t.value,e)}catch(n){return!1}});return t&&this._selectionModel.select(t),t}_initKeyManager(){this._keyManager=new Lh(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(uh(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(uh(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Gi.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(uh(e)).subscribe(e=>{this._onSelect(e.source,e.isUserInput),e.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Gi.T)(...this.options.map(e=>e._stateChanges)).pipe(uh(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,t){const n=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(n!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),t&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),t&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),n!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((t,n)=>this.sortComparator?this.sortComparator(t,n,e):e.indexOf(t)-e.indexOf(n)),this.stateChanges.next()}}_propagateChanges(e){let t=null;t=this.multiple?this.selected.map(e=>e.value):this.selected?this.selected.value:e,this._value=t,this.valueChange.emit(t),this._onChange(t),this.selectionChange.emit(this._getChangeEvent(t)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const t=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const t=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let n=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(zp),r.Y36(r.sBO),r.Y36(r.R0b),r.Y36(fd),r.Y36(r.SBq),r.Y36(Xh,8),r.Y36(qa,8),r.Y36(Ka,8),r.Y36(Op,8),r.Y36(ca,10),r.$8M("tabindex"),r.Y36(Yf),r.Y36(Hh),r.Y36(Wf,8))},e.\u0275dir=r.lG2({type:e,viewQuery:function(e,t){if(1&e&&(r.Gf(Mf,5),r.Gf(Vf,5),r.Gf(Pf,5)),2&e){let e;r.iGM(e=r.CRH())&&(t.trigger=e.first),r.iGM(e=r.CRH())&&(t.panel=e.first),r.iGM(e=r.CRH())&&(t._overlayDir=e.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[r.qOj,r.TTD]}),e})(),nm=(()=>{class e extends tm{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,t,n){const r=this._getItemHeight();return Math.min(Math.max(0,r*e-t+r/2),n)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(uh(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(ft(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const t=Ld(e,this.options,this.optionGroups),n=this._getItemHeight();var r,i,s;this.panel.nativeElement.scrollTop=0===e&&1===t?0:(i=n,(r=(e+t)*n)<(s=this.panel.nativeElement.scrollTop)?r:r+i>s+256?Math.max(0,r-256+i):s)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new Jf(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),t=this._viewportRuler.getViewportSize(),n=this._isRtl(),r=this.multiple?56:32;let i;if(this.multiple)i=40;else if(this.disableOptionCentering)i=16;else{let e=this._selectionModel.selected[0]||this.options.first;i=e&&e.group?32:16}n||(i*=-1);const s=0-(e.left+i-(n?r:0)),o=e.right+i-t.width+(n?0:r);s>0?i+=s+8:o>0&&(i-=o+8),this._overlayDir.offsetX=Math.round(i),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,t,n){const r=this._getItemHeight(),i=(r-this._triggerRect.height)/2,s=Math.floor(Kf/r);let o;return this.disableOptionCentering?0:(o=0===this._scrollTop?e*r:this._scrollTop===n?(e-(this._getItemCount()-s))*r+(r-(this._getItemCount()*r-Kf)%r):t-r/2,Math.round(-1*o-i))}_checkOverlayWithinViewport(e){const t=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),r=this._triggerRect.top-8,i=n.height-this._triggerRect.bottom-8,s=Math.abs(this._offsetY),o=Math.min(this._getItemCount()*t,Kf)-s-this._triggerRect.height;o>i?this._adjustPanelUp(o,i):s>r?this._adjustPanelDown(s,r,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,t){const n=Math.round(e-t);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,t,n){const r=Math.round(e-t);if(this._scrollTop+=r,this._offsetY+=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),t=this._getItemCount(),n=Math.min(t*e,Kf),r=t*e-n;let i;i=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),i+=Ld(i,this.options,this.optionGroups);const s=n/2;this._scrollTop=this._calculateOverlayScroll(i,s,r),this._offsetY=this._calculateOverlayOffsetY(i,s,r),this._checkOverlayWithinViewport(r)}_getOriginBasedOnOption(){const e=this._getItemHeight(),t=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-t+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275cmp=r.Xpm({type:e,selectors:[["mat-select"]],contentQueries:function(e,t,n){if(1&e&&(r.Suo(n,em,5),r.Suo(n,Pd,5),r.Suo(n,Od,5)),2&e){let e;r.iGM(e=r.CRH())&&(t.customTrigger=e.first),r.iGM(e=r.CRH())&&(t.options=e),r.iGM(e=r.CRH())&&(t.optionGroups=e)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,t){1&e&&r.NdJ("keydown",function(e){return t._handleKeydown(e)})("focus",function(){return t._onFocus()})("blur",function(){return t._onBlur()}),2&e&&(r.uIk("id",t.id)("tabindex",t.tabIndex)("aria-controls",t.panelOpen?t.id+"-panel":null)("aria-expanded",t.panelOpen)("aria-label",t.ariaLabel||null)("aria-required",t.required.toString())("aria-disabled",t.disabled.toString())("aria-invalid",t.errorState)("aria-describedby",t._ariaDescribedby||null)("aria-activedescendant",t._getAriaActiveDescendant()),r.ekj("mat-select-disabled",t.disabled)("mat-select-invalid",t.errorState)("mat-select-required",t.required)("mat-select-empty",t.empty)("mat-select-multiple",t.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[r._Bn([{provide:wp,useExisting:e},{provide:Id,useExisting:e}]),r.qOj],ngContentSelectors:zf,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,t){if(1&e&&(r.F$t(Hf),r.TgZ(0,"div",0,1),r.NdJ("click",function(){return t.toggle()}),r.TgZ(3,"div",2),r.YNc(4,Uf,2,1,"span",3),r.YNc(5,Zf,3,2,"span",4),r.qZA(),r.TgZ(6,"div",5),r._UZ(7,"div",6),r.qZA(),r.qZA(),r.YNc(8,Bf,4,14,"ng-template",7),r.NdJ("backdropClick",function(){return t.close()})("attach",function(){return t._onAttached()})("detach",function(){return t.close()})),2&e){const e=r.MAs(1);r.uIk("aria-owns",t.panelOpen?t.id+"-panel":null),r.xp6(3),r.Q6J("ngSwitch",t.empty),r.uIk("id",t._valueId),r.xp6(1),r.Q6J("ngSwitchCase",!0),r.xp6(1),r.Q6J("ngSwitchCase",!1),r.xp6(3),r.Q6J("cdkConnectedOverlayPanelClass",t._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",t._scrollStrategy)("cdkConnectedOverlayOrigin",e)("cdkConnectedOverlayOpen",t.panelOpen)("cdkConnectedOverlayPositions",t._positions)("cdkConnectedOverlayMinWidth",null==t._triggerRect?null:t._triggerRect.width)("cdkConnectedOverlayOffsetY",t._offsetY)}},directives:[Nf,H,z,Pf,G,F],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[Gf.transformPanelWrap,Gf.transformPanel]},changeDetection:0}),e})(),rm=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[Qf],imports:[[ee,Ff,Fd,ld],Gp,Dp,Fd,ld]}),e})();const im=["mat-button",""],sm=["*"],om=".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n",am=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],lm=ud(cd(hd(class{constructor(e){this._elementRef=e}})));let cm=(()=>{class e extends lm{constructor(e,t,n){super(e),this._focusMonitor=t,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of am)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,t){e?this._focusMonitor.focusVia(this._getHostElement(),e,t):this._getHostElement().focus(t)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(e=>this._getHostElement().hasAttribute(e))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36($h),r.Y36(Ku,8))},e.\u0275cmp=r.Xpm({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,t){if(1&e&&r.Gf(Sd,5),2&e){let e;r.iGM(e=r.CRH())&&(t.ripple=e.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,t){2&e&&(r.uIk("disabled",t.disabled||null),r.ekj("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-button-disabled",t.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.qOj],attrs:im,ngContentSelectors:sm,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,t){1&e&&(r.F$t(),r.TgZ(0,"span",0),r.Hsn(1),r.qZA(),r._UZ(2,"span",1),r._UZ(3,"span",2)),2&e&&(r.xp6(2),r.ekj("mat-button-ripple-round",t.isRoundButton||t.isIconButton),r.Q6J("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",t.isIconButton)("matRippleTrigger",t._getHostElement()))},directives:[Sd],styles:[om],encapsulation:2,changeDetection:0}),e})(),um=(()=>{class e extends cm{constructor(e,t,n){super(t,e,n)}_haltDisabledEvents(e){this.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}}return e.\u0275fac=function(t){return new(t||e)(r.Y36($h),r.Y36(r.SBq),r.Y36(Ku,8))},e.\u0275cmp=r.Xpm({type:e,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(e,t){1&e&&r.NdJ("click",function(e){return t._haltDisabledEvents(e)}),2&e&&(r.uIk("tabindex",t.disabled?-1:t.tabIndex||0)("disabled",t.disabled||null)("aria-disabled",t.disabled.toString()),r.ekj("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-button-disabled",t.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[r.qOj],attrs:im,ngContentSelectors:sm,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,t){1&e&&(r.F$t(),r.TgZ(0,"span",0),r.Hsn(1),r.qZA(),r._UZ(2,"span",1),r._UZ(3,"span",2)),2&e&&(r.xp6(2),r.ekj("mat-button-ripple-round",t.isRoundButton||t.isIconButton),r.Q6J("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",t.isIconButton)("matRippleTrigger",t._getHostElement()))},directives:[Sd],styles:[om],encapsulation:2,changeDetection:0}),e})(),hm=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[Ed,ld],ld]}),e})();function dm(e,t){if(1&e&&(r.TgZ(0,"mat-option",15),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.Q6J("value",e.state_id),r.xp6(1),r.hij(" ",e.state_name," ")}}function pm(e,t){if(1&e&&(r.TgZ(0,"mat-option",15),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.Q6J("value",e.district_id),r.xp6(1),r.hij(" ",e.district_name," ")}}function fm(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"mat-form-field",5),r.TgZ(1,"mat-label"),r._uU(2,"Districts"),r.qZA(),r.TgZ(3,"mat-select",16),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().selectedDistricts=t})("selectionChange",function(t){return r.CHM(e),r.oxw().getDistrictCode(t)}),r.YNc(4,pm,2,2,"mat-option",7),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(3),r.Q6J("ngModel",e.selectedDistricts),r.xp6(1),r.Q6J("ngForOf",e.districts)}}function mm(e,t){if(1&e&&(r.TgZ(0,"mat-card",17),r.TgZ(1,"mat-card-title"),r._uU(2,"State Total Vaccination Statistics"),r.qZA(),r.TgZ(3,"mat-card-subtitle"),r._uU(4,"Total Vaccination Doses"),r.qZA(),r.TgZ(5,"mat-card-content"),r._uU(6),r.ALo(7,"number"),r.qZA(),r.TgZ(8,"mat-card-subtitle"),r._uU(9,"Dose 1"),r.qZA(),r.TgZ(10,"mat-card-content"),r._uU(11),r.ALo(12,"number"),r.qZA(),r.TgZ(13,"mat-card-subtitle"),r._uU(14,"Dose 2"),r.qZA(),r.TgZ(15,"mat-card-content"),r._uU(16),r.ALo(17,"number"),r.qZA(),r.TgZ(18,"mat-card-subtitle"),r._uU(19,"Todays vaccination Count"),r.qZA(),r.TgZ(20,"mat-card-content"),r._uU(21),r.ALo(22,"number"),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.xp6(6),r.hij(" ",r.lcZ(7,4,e.statevacinatedData.total)," "),r.xp6(5),r.hij(" ",r.lcZ(12,6,e.statevacinatedData.tot_dose_1)," "),r.xp6(5),r.hij(" ",r.lcZ(17,8,e.statevacinatedData.tot_dose_2)," "),r.xp6(5),r.hij(" ",r.lcZ(22,10,e.statevacinatedData.today)," ")}}function gm(e,t){if(1&e&&(r.TgZ(0,"mat-card",17),r.TgZ(1,"mat-card-title"),r._uU(2,"District Total Vaccination Statistics"),r.qZA(),r.TgZ(3,"mat-card-subtitle"),r._uU(4,"Total Vaccination Doses"),r.qZA(),r.TgZ(5,"mat-card-content"),r._uU(6),r.ALo(7,"number"),r.qZA(),r.TgZ(8,"mat-card-subtitle"),r._uU(9,"Dose 1"),r.qZA(),r.TgZ(10,"mat-card-content"),r._uU(11),r.ALo(12,"number"),r.qZA(),r.TgZ(13,"mat-card-subtitle"),r._uU(14,"Dose 2"),r.qZA(),r.TgZ(15,"mat-card-content"),r._uU(16),r.ALo(17,"number"),r.qZA(),r.TgZ(18,"mat-card-subtitle"),r._uU(19,"Todays vaccination Count"),r.qZA(),r.TgZ(20,"mat-card-content"),r._uU(21),r.ALo(22,"number"),r.qZA(),r.qZA()),2&e){const e=r.oxw(2);r.xp6(6),r.hij(" ",r.lcZ(7,4,e.vaccinatedData.total)," "),r.xp6(5),r.hij(" ",r.lcZ(12,6,e.vaccinatedData.tot_dose_1)," "),r.xp6(5),r.hij(" ",r.lcZ(17,8,e.vaccinatedData.tot_dose_2)," "),r.xp6(5),r.hij(" ",r.lcZ(22,10,e.vaccinatedData.today)," ")}}function ym(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,gm,23,12,"mat-card",12),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",e.statevacinatedData)}}function _m(e,t){1&e&&(r.TgZ(0,"div",18),r.TgZ(1,"div",19),r.TgZ(2,"span",20),r._uU(3,"Loading..."),r.qZA(),r.qZA(),r.qZA())}let vm=(()=>{class e{constructor(e,t){this.indiaCovidService=e,this.currentDatee=t,this.districtcode="",this.flag=!1,this.showloader=!1,this.currentDatee.setDate(),this.formatDate=this.currentDatee.getDate()}ngOnInit(){this.indiaCovidService.getDailyVaccinationDetails().subscribe(e=>{this.todaysTitle="Vaccination Count",this.todaysSubTitle="Vaccinations Administered Today",this.vaccinationCount=e.count}),this.indiaCovidService.getStateWiseVaccinatedDetails("","",this.formatDate).subscribe(e=>{let t=e.topBlock.vaccination;this.covaxin=t.covaxin,this.covisheild=t.covishield,this.sputnik=t.sputnik}),this.indiaCovidService.getStates().subscribe({next:e=>{this.states=e.states}})}getState(e){this.statecode=e.value,this.indiaCovidService.getStateWiseVaccinatedDetails(this.statecode,"",this.formatDate).subscribe(e=>{this.statevacinatedData=e.topBlock.vaccination})}getDistrict(){this.indiaCovidService.getDistricts(this.statecode).subscribe({next:e=>{this.districts=e.districts}})}getDistrictCode(e){this.districtcode=e.value,this.flag=!0,this.showloader=!0,this.indiaCovidService.getStateWiseVaccinatedDetails(this.statecode,this.districtcode,this.formatDate).subscribe(e=>{this.vaccinatedData=e.topBlock.vaccination,this.showloader=!1})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Wd),r.Y36(Qd))},e.\u0275cmp=r.Xpm({type:e,selectors:[["ci-home"]],decls:24,vars:18,consts:[[2,"padding-top","50px"],[1,"flexbox"],[3,"title","subTitle","data"],[2,"padding-top","10px"],[2,"display","grid"],["appearance","fill"],["name","food",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["appearance","fill",4,"ngIf"],[1,"center"],["mat-raised-button","","color","primary",3,"click"],[1,"details"],["class","example-card",4,"ngIf"],[4,"ngIf"],["class","text-center",4,"ngIf"],[3,"value"],["name","dist",3,"ngModel","ngModelChange","selectionChange"],[1,"example-card"],[1,"text-center"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r._UZ(2,"ci-card-component",2),r._UZ(3,"ci-card-component",2),r._UZ(4,"ci-card-component",2),r._UZ(5,"ci-card-component",2),r.qZA(),r.TgZ(6,"div",3),r.TgZ(7,"form"),r.TgZ(8,"div",4),r.TgZ(9,"mat-form-field",5),r.TgZ(10,"mat-label"),r._uU(11,"Select State"),r.qZA(),r.TgZ(12,"mat-select",6),r.NdJ("ngModelChange",function(e){return t.selectedValue=e})("selectionChange",function(e){return t.getState(e)}),r.YNc(13,dm,2,2,"mat-option",7),r.qZA(),r.qZA(),r.qZA(),r.TgZ(14,"div",4),r.YNc(15,fm,5,2,"mat-form-field",8),r.qZA(),r.qZA(),r.TgZ(16,"div",9),r.TgZ(17,"button",10),r.NdJ("click",function(){return t.getDistrict()}),r._uU(18,"Proceed"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(19,"div",11),r.TgZ(20,"div"),r.YNc(21,mm,23,12,"mat-card",12),r.qZA(),r.YNc(22,ym,2,1,"div",13),r.qZA(),r.YNc(23,_m,4,0,"div",14),r.qZA()),2&e&&(r.xp6(2),r.Q6J("title",t.todaysTitle)("subTitle",t.todaysSubTitle)("data",t.vaccinationCount),r.xp6(1),r.Q6J("title","CoviSheild")("subTitle","Total CoviSheild doses Administered")("data",t.covisheild),r.xp6(1),r.Q6J("title","Covaxin")("subTitle","Total Covaxin doses Administered")("data",t.covaxin),r.xp6(1),r.Q6J("title","Sputnik")("subTitle","Total Sputnik doses Administered")("data",t.sputnik),r.xp6(7),r.Q6J("ngModel",t.selectedValue),r.xp6(1),r.Q6J("ngForOf",t.states),r.xp6(2),r.Q6J("ngIf",t.districts),r.xp6(6),r.Q6J("ngIf",t.statevacinatedData),r.xp6(1),r.Q6J("ngIf",t.flag),r.xp6(1),r.Q6J("ngIf",t.showloader))},directives:[Jd,Ha,da,qa,Rp,Ep,nm,ha,Ba,V,q,cm,Pd,Zd,qd,jd,Ud],pipes:[X],styles:[".example-card[_ngcontent-%COMP%]{max-width:250px}.flexbox[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.center[_ngcontent-%COMP%]{display:flex;justify-content:center}.details[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;padding-top:50px}"]}),e})(),bm=(()=>{class e{constructor(e,t){this.el=e,this.rendere=t,console.log(e),e.nativeElement.style.color="red"}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.Qsj))},e.\u0275dir=r.lG2({type:e,selectors:[["","ciError",""]]}),e})(),wm=(()=>{class e{constructor(e,t,n){this.otpService=e,this.route=t,this.state=n,this.mobilenumber=0,this.a="",this.id="",this.phone="",this.name="",this.errorMessage=""}ngOnInit(){console.log(this.phone)}onSubmit(){console.log(this.phone),this.otpService.getOTP(this.phone,this.name).subscribe(e=>{this.txnId=e,this.a=this.txnId.txnId,localStorage.setItem("txn",this.a),this.state.changeId(this.a),this.route.navigate(["/otp"])},e=>{500==e.status&&(console.log("Error"),this.errorMessage="Enter a valid  mobile number")})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Kd),r.Y36(Ei),r.Y36($d))},e.\u0275cmp=r.Xpm({type:e,selectors:[["ci-login"]],decls:19,vars:2,consts:[[1,"row","pt-5"],[1,"col-md-6","mx-auto"],[1,"card","rounded-0"],[1,"card-header"],[1,"mb-0","text-center"],[1,"card-body","text-center"],[1,"form",3,"ngSubmit"],[1,"form-group"],["for",""],["type","text","name","no","id","inputNo","placeholder","Mobile Number","required","","autofocus","",1,"form-control",3,"ngModel","ngModelChange"],["ciError",""],[1,"row"],[1,"text-center"],["type","submit",1,"btn","btn-success"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"h6",4),r._uU(5,"Get OTP"),r.qZA(),r.qZA(),r.TgZ(6,"div",5),r.TgZ(7,"form",6),r.NdJ("ngSubmit",function(){return t.onSubmit()}),r.TgZ(8,"div",7),r.TgZ(9,"label",8),r._uU(10,"Phone Number"),r.qZA(),r.TgZ(11,"input",9),r.NdJ("ngModelChange",function(e){return t.phone=e}),r.qZA(),r.TgZ(12,"p",10),r._uU(13),r.qZA(),r.qZA(),r.TgZ(14,"div",11),r._uU(15,"\xa0"),r.qZA(),r.TgZ(16,"div",12),r.TgZ(17,"button",13),r._uU(18,"Get OTP"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(11),r.Q6J("ngModel",t.phone),r.xp6(2),r.Oqu(t.errorMessage))},directives:[Ha,da,qa,qo,ol,ha,Ba,bm],styles:["form[_ngcontent-%COMP%]{width:50%;display:inline-block}"]}),e})(),Sm=(()=>{class e{constructor(e,t){this.getOtpService=e,this.router=t,this.errorMessage=""}ngOnInit(){}onSubmit(){this.getOtpService.login(this.username,this.password)?this.router.navigate(["home"]):this.errorMessage="Enter valid credentials"}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Kd),r.Y36(Ei))},e.\u0275cmp=r.Xpm({type:e,selectors:[["ci-loginapp"]],decls:22,vars:3,consts:[[1,"row","pt-5"],[1,"col-md-6","mx-auto"],[1,"card","rounded-0"],[1,"card-header"],[1,"mb-0","text-center"],[1,"card-body","text-center"],[1,"form",3,"ngSubmit"],[1,"form-group"],["for",""],["type","text","name","username","id","username","placeholder","Username","required","","autofocus","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","password","id","password","placeholder","Password","required","",1,"form-control",3,"ngModel","ngModelChange"],["ciError",""],[1,"row"],[1,"text-center"],["type","submit",1,"btn","btn-success"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"h6",4),r._uU(5,"Admin Login"),r.qZA(),r.qZA(),r.TgZ(6,"div",5),r.TgZ(7,"form",6),r.NdJ("ngSubmit",function(){return t.onSubmit()}),r.TgZ(8,"div",7),r.TgZ(9,"label",8),r._uU(10,"Username"),r.qZA(),r.TgZ(11,"input",9),r.NdJ("ngModelChange",function(e){return t.username=e}),r.qZA(),r.TgZ(12,"label",8),r._uU(13,"Password"),r.qZA(),r.TgZ(14,"input",10),r.NdJ("ngModelChange",function(e){return t.password=e}),r.qZA(),r.TgZ(15,"p",11),r._uU(16),r.qZA(),r.qZA(),r.TgZ(17,"div",12),r._uU(18,"\xa0"),r.qZA(),r.TgZ(19,"div",13),r.TgZ(20,"button",14),r._uU(21,"Login"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(11),r.Q6J("ngModel",t.username),r.xp6(3),r.Q6J("ngModel",t.password),r.xp6(2),r.Oqu(t.errorMessage))},directives:[Ha,da,qa,qo,ol,ha,Ba,bm],styles:[""]}),e})();var Em=n(6854);let Cm=(()=>{class e{constructor(e,t,n){this.stateService=e,this.otpService=t,this.router=n,this.result="",this.otp="",this.errorMessage=""}ngOnInit(){console.log("From the OTP compoenet"),this.stateService.id.subscribe(e=>{this.result=e}),console.log(this.result)}onSubmit(){console.log(this.otp),this.hash256otp=(0,Em.sha256)(this.otp),this.otpService.confirmOTP(this.result,this.hash256otp).subscribe(e=>{this.ret=e,console.log("--------------"),console.log(e),this.token=this.ret.token,console.log(this.token),this.stateService.changeToken(this.token),this.router.navigate(["/certificate"])},e=>{console.log(e.status),this.errorMessage="Enter valid OTP"})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36($d),r.Y36(Kd),r.Y36(Ei))},e.\u0275cmp=r.Xpm({type:e,selectors:[["ci-otp"]],decls:19,vars:2,consts:[[1,"row","pt-5"],[1,"col-md-6","mx-auto"],[1,"card","rounded-0"],[1,"card-header"],[1,"mb-0","text-center"],[1,"card-body","text-center"],[1,"form",3,"ngSubmit"],[1,"form-group"],["for",""],["type","text","name","otp","placeholder","OTP","required","","autofocus","",1,"form-control",3,"ngModel","ngModelChange"],["ciError",""],[1,"row"],[1,"text-center"],["type","submit",1,"btn","btn-success"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"h6",4),r._uU(5,"Enter OTP sent to your phone"),r.qZA(),r.qZA(),r.TgZ(6,"div",5),r.TgZ(7,"form",6),r.NdJ("ngSubmit",function(){return t.onSubmit()}),r.TgZ(8,"div",7),r.TgZ(9,"label",8),r._uU(10,"OTP"),r.qZA(),r.TgZ(11,"input",9),r.NdJ("ngModelChange",function(e){return t.otp=e}),r.qZA(),r.TgZ(12,"p",10),r._uU(13),r.qZA(),r.qZA(),r.TgZ(14,"div",11),r._uU(15,"\xa0"),r.qZA(),r.TgZ(16,"div",12),r.TgZ(17,"button",13),r._uU(18,"Proceed"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(11),r.Q6J("ngModel",t.otp),r.xp6(2),r.Oqu(t.errorMessage))},directives:[Ha,da,qa,qo,ol,ha,Ba,bm],styles:[""]}),e})();class Tm{setDate(){this.date=new Date,console.log(this.date),this.mm=this.date.getMonth()+1,this.dd=this.date.getDate(),this.yy=this.date.getFullYear(),this.formatDate=this.dd+"-"+this.mm+"-"+this.yy}getDate(){return this.formatDate}}function Im(e,t){1&e&&(r.TgZ(0,"div",11),r.TgZ(1,"div",18),r.TgZ(2,"span",19),r._uU(3,"Loading..."),r.qZA(),r.qZA(),r.qZA())}function km(e,t){if(1&e&&(r.TgZ(0,"tr"),r.TgZ(1,"th"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r._uU(6),r.qZA(),r.TgZ(7,"td"),r._uU(8),r.qZA(),r.TgZ(9,"td"),r._uU(10),r.qZA(),r.TgZ(11,"td"),r._uU(12),r.qZA(),r.TgZ(13,"td"),r._uU(14),r.qZA(),r.TgZ(15,"td"),r._uU(16),r.qZA(),r.TgZ(17,"td"),r._uU(18),r.qZA(),r.qZA()),2&e){const e=t.$implicit;r.xp6(2),r.Oqu(e.center_id),r.xp6(2),r.Oqu(e.name),r.xp6(2),r.Oqu(e.address),r.xp6(2),r.Oqu(e.fee_type),r.xp6(2),r.Oqu(e.pincode),r.xp6(2),r.Oqu(e.vaccine),r.xp6(2),r.Oqu(e.available_capacity),r.xp6(2),r.Oqu(e.available_capacity_dose1),r.xp6(2),r.Oqu(e.available_capacity_dose2)}}function xm(e,t){if(1&e&&(r.TgZ(0,"div",14),r.YNc(1,Im,4,0,"div",15),r.TgZ(2,"table",16),r.TgZ(3,"thead"),r.TgZ(4,"tr"),r.TgZ(5,"th"),r._uU(6,"Center ID"),r.qZA(),r.TgZ(7,"th"),r._uU(8,"Center Name"),r.qZA(),r.TgZ(9,"th"),r._uU(10,"Address"),r.qZA(),r.TgZ(11,"th"),r._uU(12,"Type"),r.qZA(),r.TgZ(13,"th"),r._uU(14,"Pincode"),r.qZA(),r.TgZ(15,"th"),r._uU(16,"Vaccine Name"),r.qZA(),r.TgZ(17,"th"),r._uU(18,"Total Quantity"),r.qZA(),r.TgZ(19,"th"),r._uU(20,"Dose 1 Quantity"),r.qZA(),r.TgZ(21,"th"),r._uU(22,"Dose 2 Quantity"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(23,"tbody"),r.YNc(24,km,19,9,"tr",17),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",e.showLoader),r.xp6(23),r.Q6J("ngForOf",e.vaccineDetails)}}let Am=(()=>{class e{constructor(e,t){this.indiaService=e,this.dateService=t,this.date="",this.flag=!1,this.showtableLogic=!1,this.showLoader=!1}ngOnInit(){}onSubmit(){this.dateService.setDate(),this.date=this.dateService.getDate(),this.flag=!0,this.showtableLogic=!0,this.showLoader=!0,this.indiaService.getByPincode(this.pin,this.date).subscribe({next:e=>{this.vaccineDetails=e.sessions,this.showLoader=!1}})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Wd),r.Y36(Tm))},e.\u0275cmp=r.Xpm({type:e,selectors:[["ci-pincode-search"]],decls:18,vars:2,consts:[[1,"row","pt-5"],[1,"col-md-6","mx-auto"],[1,"card","rounded-0"],[1,"card-header"],[1,"mb-0","text-center"],[1,"card-body","text-center"],[1,"form",3,"ngSubmit"],[1,"form-group"],["for",""],["type","text","name","pin","id","pin","placeholder","PinCode","required","","autofocus","",1,"form-control",3,"ngModel","ngModelChange"],[1,"row"],[1,"text-center"],["type","submit",1,"btn","btn-success"],["class","card",4,"ngIf"],[1,"card"],["class","text-center",4,"ngIf"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"h6",4),r._uU(5,"Fetch Center by Pincode"),r.qZA(),r.qZA(),r.TgZ(6,"div",5),r.TgZ(7,"form",6),r.NdJ("ngSubmit",function(){return t.onSubmit()}),r.TgZ(8,"div",7),r.TgZ(9,"label",8),r._uU(10,"Pincode"),r.qZA(),r.TgZ(11,"input",9),r.NdJ("ngModelChange",function(e){return t.pin=e}),r.qZA(),r.qZA(),r.TgZ(12,"div",10),r._uU(13,"\xa0"),r.qZA(),r.TgZ(14,"div",11),r.TgZ(15,"button",12),r._uU(16,"Search"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(17,xm,25,2,"div",13)),2&e&&(r.xp6(11),r.Q6J("ngModel",t.pin),r.xp6(6),r.Q6J("ngIf",t.vaccineDetails))},directives:[Ha,da,qa,qo,ol,ha,Ba,q,V],styles:[""]}),e})();const Om=kh({passive:!0});let Rm=(()=>{class e{constructor(e,t){this._platform=e,this._ngZone=t,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return st.E;const t=yh(e),n=this._monitoredElements.get(t);if(n)return n.subject;const r=new je.xQ,i="cdk-text-field-autofilled",s=e=>{"cdk-text-field-autofill-start"!==e.animationName||t.classList.contains(i)?"cdk-text-field-autofill-end"===e.animationName&&t.classList.contains(i)&&(t.classList.remove(i),this._ngZone.run(()=>r.next({target:e.target,isAutofilled:!1}))):(t.classList.add(i),this._ngZone.run(()=>r.next({target:e.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{t.addEventListener("animationstart",s,Om),t.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(t,{subject:r,unlisten:()=>{t.removeEventListener("animationstart",s,Om)}}),r}stopMonitoring(e){const t=yh(e),n=this._monitoredElements.get(t);n&&(n.unlisten(),n.subject.complete(),t.classList.remove("cdk-text-field-autofill-monitored"),t.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(t))}ngOnDestroy(){this._monitoredElements.forEach((e,t)=>this.stopMonitoring(t))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(bh),r.LFG(r.R0b))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(bh),r.LFG(r.R0b))},token:e,providedIn:"root"}),e})(),Dm=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[wh]]}),e})();const Nm=new r.OlP("MAT_INPUT_VALUE_ACCESSOR"),Pm=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Lm=0;const Fm=pd(class{constructor(e,t,n,r){this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=n,this.ngControl=r}});let Mm=(()=>{class e extends Fm{constructor(e,t,n,r,i,s,o,a,l,c){super(s,r,i,n),this._elementRef=e,this._platform=t,this._autofillMonitor=a,this._formField=c,this._uid="mat-input-"+Lm++,this.focused=!1,this.stateChanges=new je.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>Eh().has(e));const u=this._elementRef.nativeElement,h=u.nodeName.toLowerCase();this._inputValueAccessor=o||u,this._previousNativeValue=this.value,this.id=this.id,t.IOS&&l.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",e=>{const t=e.target;t.value||0!==t.selectionStart||0!==t.selectionEnd||(t.setSelectionRange(1,1),t.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isInFormField=!!c,this._isNativeSelect&&(this.controlType=u.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=ph(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=ph(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Eh().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=ph(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,t;const n=(null===(t=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===t?void 0:t.call(e))?null:this.placeholder;if(n!==this._previousPlaceholder){const e=this._elementRef.nativeElement;this._previousPlaceholder=n,n?e.setAttribute("placeholder",n):e.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){Pm.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,t=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&t&&t.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(bh),r.Y36(ca,10),r.Y36(qa,8),r.Y36(Ka,8),r.Y36(fd),r.Y36(Nm,10),r.Y36(Rm),r.Y36(r.R0b),r.Y36(Op,8))},e.\u0275dir=r.lG2({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(e,t){1&e&&r.NdJ("focus",function(){return t._focusChanged(!0)})("blur",function(){return t._focusChanged(!1)})("input",function(){return t._onInput()}),2&e&&(r.Ikx("disabled",t.disabled)("required",t.required),r.uIk("id",t.id)("data-placeholder",t.placeholder)("readonly",t.readonly&&!t._isNativeSelect||null)("aria-invalid",t.empty&&t.required?null:t.errorState)("aria-required",t.required),r.ekj("mat-input-server",t._isServer)("mat-native-select-inline",t._isInlineSelect()))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[r._Bn([{provide:wp,useExisting:e}]),r.qOj,r.TTD]}),e})(),Vm=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[fd],imports:[[Dm,Dp,ld],Dm,Dp]}),e})(),Um=(()=>{class e{constructor(e,t){this.afAuth=e,this.userService=t,this.form=new Fa({username:new La(""),password:new La("")}),this.emailFormControl=new La("",[Go.required,Go.email])}ngOnInit(){}submit(){console.log(this.form.value.username)}signIn(){const e=new Us.Z.auth.GoogleAuthProvider;this.afAuth.signInWithPopup(e),this.userService.getCurrentUser()}signout(){this.afAuth.signOut()}}return e.\u0275fac=function(t){return new(t||e)(r.Y36($s),r.Y36(Ys))},e.\u0275cmp=r.Xpm({type:e,selectors:[["ci-signup"]],decls:17,vars:1,consts:[[3,"formGroup","ngSubmit"],[2,"width","100px"],["type","text","matInput","","placeholder","email","formControlName","username"],["type","password","matInput","","placeholder","password","formControlName","password"],[1,"button"],["type","submit","mat-button",""],["type","submit","mat-button","",3,"click"]],template:function(e,t){1&e&&(r.TgZ(0,"mat-card"),r.TgZ(1,"mat-card-title"),r._uU(2,"SignUp"),r.qZA(),r.TgZ(3,"mat-card-content"),r.TgZ(4,"form",0),r.NdJ("ngSubmit",function(){return t.submit()}),r.TgZ(5,"p"),r.TgZ(6,"mat-form-field",1),r._UZ(7,"input",2),r.qZA(),r.qZA(),r.TgZ(8,"p"),r.TgZ(9,"mat-form-field",1),r._UZ(10,"input",3),r.qZA(),r.qZA(),r.TgZ(11,"div",4),r.TgZ(12,"button",5),r._uU(13,"SignUp"),r.qZA(),r.qZA(),r.TgZ(14,"div",4),r.TgZ(15,"button",6),r.NdJ("click",function(){return t.signIn()}),r._uU(16,"SignUp Using Google"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(4),r.Q6J("formGroup",t.form))},directives:[Zd,qd,Ud,Ha,da,Ka,Rp,Mm,qo,ha,Wa,cm],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;margin:100px 0}.mat-form-field[_ngcontent-%COMP%]{width:100%;min-width:300px}mat-card-content[_ngcontent-%COMP%], mat-card-title[_ngcontent-%COMP%]{display:flex;justify-content:center}.error[_ngcontent-%COMP%]{padding:16px;width:300px;color:#fff;background-color:red}.button[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]}),e})();function qm(e,t){if(1&e&&(r.TgZ(0,"h1",1),r._uU(1),r.qZA()),2&e){const e=t.ngIf;r.xp6(1),r.hij(" Welcome ",e,"")}}let jm=(()=>{class e{constructor(e){this.userService=e}ngOnInit(){this.user=JSON.parse(localStorage.getItem("user")),this.username$=this.userService.getUserName(),console.log(this.user.photoURL)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Ys))},e.\u0275cmp=r.Xpm({type:e,selectors:[["ci-user-home"]],decls:4,vars:4,consts:[["class","center",4,"ngIf"],[1,"center"],[3,"src"]],template:function(e,t){1&e&&(r.YNc(0,qm,2,1,"h1",0),r.ALo(1,"async"),r.TgZ(2,"div",1),r._UZ(3,"img",2),r.qZA()),2&e&&(r.Q6J("ngIf",r.lcZ(1,2,t.username$)),r.xp6(3),r.s9C("src",t.user.photoURL,r.LSH))},directives:[q],pipes:[J],styles:[".center[_ngcontent-%COMP%]{margin-top:10px;display:flex;justify-content:center}"]}),e})();function Zm(e,t){if(1&e&&(r.TgZ(0,"option",9),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.Q6J("value",e.state_id),r.xp6(1),r.Oqu(e.state_name)}}function Bm(e,t){if(1&e&&(r.TgZ(0,"option",9),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.Q6J("value",e.district_id),r.xp6(1),r.hij("",e.district_name," ")}}function Hm(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"label"),r._uU(2,"Select your District"),r.qZA(),r.TgZ(3,"select",2),r.NdJ("change",function(t){return r.CHM(e),r.oxw().getDistrictCode(t)}),r.TgZ(4,"option",10),r._uU(5,"District"),r.qZA(),r.YNc(6,Bm,2,2,"option",4),r.qZA(),r._UZ(7,"br"),r.qZA()}if(2&e){const e=r.oxw();r.xp6(6),r.Q6J("ngForOf",e.districts)}}function zm(e,t){1&e&&(r.TgZ(0,"div",6),r.TgZ(1,"div",15),r.TgZ(2,"span",16),r._uU(3,"Loading..."),r.qZA(),r.qZA(),r.qZA())}function Gm(e,t){if(1&e&&(r.TgZ(0,"tr"),r.TgZ(1,"th"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r._uU(6),r.qZA(),r.TgZ(7,"td"),r._uU(8),r.qZA(),r.TgZ(9,"td"),r._uU(10),r.qZA(),r.TgZ(11,"td"),r._uU(12),r.qZA(),r.TgZ(13,"td"),r._uU(14),r.qZA(),r.TgZ(15,"td"),r._uU(16),r.qZA(),r.TgZ(17,"td"),r._uU(18),r.qZA(),r.qZA()),2&e){const e=t.$implicit;r.xp6(2),r.Oqu(e.center_id),r.xp6(2),r.Oqu(e.name),r.xp6(2),r.Oqu(e.address),r.xp6(2),r.Oqu(e.fee_type),r.xp6(2),r.Oqu(e.pincode),r.xp6(2),r.Oqu(e.vaccine),r.xp6(2),r.Oqu(e.available_capacity),r.xp6(2),r.Oqu(e.available_capacity_dose1),r.xp6(2),r.Oqu(e.available_capacity_dose2)}}function $m(e,t){if(1&e&&(r.TgZ(0,"div",11),r.YNc(1,zm,4,0,"div",12),r.TgZ(2,"table",13),r.TgZ(3,"thead"),r.TgZ(4,"tr"),r.TgZ(5,"th"),r._uU(6,"Center ID"),r.qZA(),r.TgZ(7,"th"),r._uU(8,"Center Name"),r.qZA(),r.TgZ(9,"th"),r._uU(10,"Address"),r.qZA(),r.TgZ(11,"th"),r._uU(12,"Type"),r.qZA(),r.TgZ(13,"th"),r._uU(14,"Pincode"),r.qZA(),r.TgZ(15,"th"),r._uU(16,"Vaccine Name"),r.qZA(),r.TgZ(17,"th"),r._uU(18,"Total Quantity"),r.qZA(),r.TgZ(19,"th"),r._uU(20,"Dose 1 Quantity"),r.qZA(),r.TgZ(21,"th"),r._uU(22,"Dose 2 Quantity"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(23,"tbody"),r.YNc(24,Gm,19,9,"tr",14),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",e.showLoader),r.xp6(23),r.Q6J("ngForOf",e.vaccineDetails)}}const Km=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"bookk",component:(()=>{class e{constructor(e,t){this.indiaCovidService=e,this.currentDatee=t,this.logic=!1,this.showtableLogic=!1,this.showLoader=!1}ngOnInit(){this.indiaCovidService.getStates().subscribe({next:e=>{this.states=e.states}})}getDistrict(){this.indiaCovidService.getDistricts(this.statecode).subscribe({next:e=>{this.districts=e.districts,this.logic=!0}})}getState(e){this.statecode=e.target.value}getDistrictCode(e){this.districtcode=e.target.value,this.currentDatee.setDate(),this.formatDate=this.currentDatee.getDate(),this.showtableLogic=!0,this.showLoader=!0,this.indiaCovidService.getVaccineDetails(this.districtcode,this.formatDate).subscribe({next:e=>{this.vaccineDetails=e.sessions,this.showLoader=!1}})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Wd),r.Y36(Tm))},e.\u0275cmp=r.Xpm({type:e,selectors:[["ci-vaccine-details"]],decls:17,vars:3,consts:[[1,"card-header"],[1,"form-group"],[1,"form-control",3,"change"],["disabled",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"text-center"],["type","button",1,"btn","btn-success",3,"click"],["class","card",4,"ngIf"],[3,"value"],["disabled","","selected",""],[1,"card"],["class","text-center",4,"ngIf"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r._uU(1,"Vaccine Availability"),r.qZA(),r._UZ(2,"br"),r.TgZ(3,"div",1),r.TgZ(4,"label"),r._uU(5,"Select your State"),r.qZA(),r.TgZ(6,"select",2),r.NdJ("change",function(e){return t.getState(e)}),r.TgZ(7,"option",3),r._uU(8,"State"),r.qZA(),r.YNc(9,Zm,2,2,"option",4),r.qZA(),r._UZ(10,"br"),r.YNc(11,Hm,8,1,"div",5),r.TgZ(12,"div",6),r.TgZ(13,"button",7),r.NdJ("click",function(){return t.getDistrict()}),r._uU(14,"Proceed"),r.qZA(),r.qZA(),r._UZ(15,"br"),r.qZA(),r.YNc(16,$m,25,2,"div",8)),2&e&&(r.xp6(9),r.Q6J("ngForOf",t.states),r.xp6(2),r.Q6J("ngIf",t.logic),r.xp6(5),r.Q6J("ngIf",t.showtableLogic))},directives:[el,il,V,q],styles:[""]}),e})()},{path:"home",component:vm},{path:"world",component:Gd,canActivate:[Ws]},{path:"login",component:wm},{path:"otp",component:Cm},{path:"certificate",component:Yd},{path:"pin",component:Am},{path:"admin",component:Sm},{path:"signup",component:Um},{path:"userhome",component:jm,canActivate:[Ws]},{path:"access-denied",component:Qs}];let Ym=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[Fi.forRoot(Km)],Fi]}),e})();const Wm=["*",[["mat-toolbar-row"]]],Qm=["*","mat-toolbar-row"],Jm=ud(class{constructor(e){this._elementRef=e}});let Xm=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),e})(),eg=(()=>{class e extends Jm{constructor(e,t,n){super(e),this._platform=t,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(bh),r.Y36(o))},e.\u0275cmp=r.Xpm({type:e,selectors:[["mat-toolbar"]],contentQueries:function(e,t,n){if(1&e&&r.Suo(n,Xm,5),2&e){let e;r.iGM(e=r.CRH())&&(t._toolbarRows=e)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,t){2&e&&r.ekj("mat-toolbar-multiple-rows",t._toolbarRows.length>0)("mat-toolbar-single-row",0===t._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[r.qOj],ngContentSelectors:Qm,decls:2,vars:0,template:function(e,t){1&e&&(r.F$t(Wm),r.Hsn(0),r.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),e})(),tg=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ld],ld]}),e})();var ng=n(205),rg=n(8819);const ig=["*"];function sg(e){return Error(`Unable to find icon with the name "${e}"`)}function og(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function ag(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}class lg{constructor(e,t,n){this.url=e,this.svgText=t,this.options=n}}let cg=(()=>{class e{constructor(e,t,n,r){this._httpClient=e,this._sanitizer=t,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(e,t,n){return this.addSvgIconInNamespace("",e,t,n)}addSvgIconLiteral(e,t,n){return this.addSvgIconLiteralInNamespace("",e,t,n)}addSvgIconInNamespace(e,t,n,r){return this._addSvgIconConfig(e,t,new lg(n,null,r))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,t,n,i){const s=this._sanitizer.sanitize(r.q3G.HTML,n);if(!s)throw ag(n);return this._addSvgIconConfig(e,t,new lg("",s,i))}addSvgIconSet(e,t){return this.addSvgIconSetInNamespace("",e,t)}addSvgIconSetLiteral(e,t){return this.addSvgIconSetLiteralInNamespace("",e,t)}addSvgIconSetInNamespace(e,t,n){return this._addSvgIconSetConfig(e,new lg(t,null,n))}addSvgIconSetLiteralInNamespace(e,t,n){const i=this._sanitizer.sanitize(r.q3G.HTML,t);if(!i)throw ag(t);return this._addSvgIconSetConfig(e,new lg("",i,n))}registerFontClassAlias(e,t=e){return this._fontCssClassesByAlias.set(e,t),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const t=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,e);if(!t)throw og(e);const n=this._cachedIconsByUrl.get(t);return n?(0,qe.of)(ug(n)):this._loadSvgIconFromConfig(new lg(e,null)).pipe((0,jt.b)(e=>this._cachedIconsByUrl.set(t,e)),(0,lt.U)(e=>ug(e)))}getNamedSvgIcon(e,t=""){const n=hg(t,e);let r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(t,e),r)return this._svgIconConfigs.set(n,r),this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(t);return i?this._getSvgFromIconSetConfigs(e,i):(0,ng._)(sg(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,qe.of)(ug(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,lt.U)(e=>ug(e)))}_getSvgFromIconSetConfigs(e,t){const n=this._extractIconWithNameFromAnySet(e,t);return n?(0,qe.of)(n):No(t.filter(e=>!e.svgText).map(e=>this._loadSvgIconSetFromConfig(e).pipe(Ct(t=>{const n=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,e.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${t.message}`)),(0,qe.of)(null)})))).pipe((0,lt.U)(()=>{const n=this._extractIconWithNameFromAnySet(e,t);if(!n)throw sg(e);return n}))}_extractIconWithNameFromAnySet(e,t){for(let n=t.length-1;n>=0;n--){const r=t[n];if(r.svgText&&r.svgText.indexOf(e)>-1){const t=this._svgElementFromConfig(r),n=this._extractSvgIconFromSet(t,e,r.options);if(n)return n}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,jt.b)(t=>e.svgText=t),(0,lt.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,qe.of)(null):this._fetchIcon(e).pipe((0,jt.b)(t=>e.svgText=t))}_extractSvgIconFromSet(e,t,n){const r=e.querySelector(`[id="${t}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(i),this._setSvgAttributes(s,n)}_svgElementFromString(e){const t=this._document.createElement("DIV");t.innerHTML=e;const n=t.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(e){const t=this._svgElementFromString("<svg></svg>"),n=e.attributes;for(let r=0;r<n.length;r++){const{name:e,value:i}=n[r];"id"!==e&&t.setAttribute(e,i)}for(let r=0;r<e.childNodes.length;r++)e.childNodes[r].nodeType===this._document.ELEMENT_NODE&&t.appendChild(e.childNodes[r].cloneNode(!0));return t}_setSvgAttributes(e,t){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),t&&t.viewBox&&e.setAttribute("viewBox",t.viewBox),e}_fetchIcon(e){var t;const{url:n,options:i}=e,s=null!==(t=null==i?void 0:i.withCredentials)&&void 0!==t&&t;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,n);if(!o)throw og(n);const a=this._inProgressUrlFetches.get(o);if(a)return a;const l=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(Ht(()=>this._inProgressUrlFetches.delete(o)),(0,rg.B)());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(e,t,n){return this._svgIconConfigs.set(hg(e,t),n),this}_addSvgIconSetConfig(e,t){const n=this._iconSetConfigs.get(e);return n?n.push(t):this._iconSetConfigs.set(e,[t]),this}_svgElementFromConfig(e){if(!e.svgElement){const t=this._svgElementFromString(e.svgText);this._setSvgAttributes(t,e.options),e.svgElement=t}return e.svgElement}_getIconConfigFromResolvers(e,t){for(let r=0;r<this._resolvers.length;r++){const i=this._resolvers[r](t,e);if(i)return(n=i).url&&n.options?new lg(i.url,null,i.options):new lg(i,null)}var n}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(yo,8),r.LFG(Ne),r.LFG(o,8),r.LFG(r.qLn))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(yo,8),r.LFG(Ne),r.LFG(o,8),r.LFG(r.qLn))},token:e,providedIn:"root"}),e})();function ug(e){return e.cloneNode(!0)}function hg(e,t){return e+":"+t}const dg=ud(class{constructor(e){this._elementRef=e}}),pg=new r.OlP("mat-icon-location",{providedIn:"root",factory:function(){const e=(0,r.f3M)(o),t=e?e.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),fg=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],mg=fg.map(e=>`[${e}]`).join(", "),gg=/^url\(['"]?#(.*?)['"]?\)$/;let yg=(()=>{class e extends dg{constructor(e,t,n,r,i){super(e),this._iconRegistry=t,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=Bt.w.EMPTY,n||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=ph(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const t=this._cleanupFontValue(e);t!==this._fontSet&&(this._fontSet=t,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const t=this._cleanupFontValue(e);t!==this._fontIcon&&(this._fontIcon=t,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const t=e.split(":");switch(t.length){case 1:return["",t[0]];case 2:return t;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const e=this._location.getPathname();e!==this._previousPath&&(this._previousPath=e,this._prependPathToReferences(e))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const t=e.querySelectorAll("style");for(let r=0;r<t.length;r++)t[r].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let t=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();t--;){const n=e.childNodes[t];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||e.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,t=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();t!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),t&&e.classList.add(t),this._previousFontSetClass=t),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const t=this._elementsWithExternalReferences;t&&t.forEach((t,n)=>{t.forEach(t=>{n.setAttribute(t.name,`url('${e}#${t.value}')`)})})}_cacheChildrenWithExternalReferences(e){const t=e.querySelectorAll(mg),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<t.length;r++)fg.forEach(e=>{const i=t[r],s=i.getAttribute(e),o=s?s.match(gg):null;if(o){let t=n.get(i);t||(t=[],n.set(i,t)),t.push({name:e,value:o[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[t,n]=this._splitIconName(e);t&&(this._svgNamespace=t),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,t).pipe(ft(1)).subscribe(e=>this._setSvgElement(e),e=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${t}:${n}! ${e.message}`))})}}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(cg),r.$8M("aria-hidden"),r.Y36(pg),r.Y36(r.qLn))},e.\u0275cmp=r.Xpm({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,t){2&e&&(r.uIk("data-mat-icon-type",t._usingFontIcon()?"font":"svg")("data-mat-icon-name",t._svgName||t.fontIcon)("data-mat-icon-namespace",t._svgNamespace||t.fontSet),r.ekj("mat-icon-inline",t.inline)("mat-icon-no-color","primary"!==t.color&&"accent"!==t.color&&"warn"!==t.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.qOj],ngContentSelectors:ig,decls:1,vars:0,template:function(e,t){1&e&&(r.F$t(),r.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),e})(),_g=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ld],ld]}),e})();function vg(e,t){1&e&&(r.TgZ(0,"a",10),r._uU(1,"Sign Up"),r.qZA())}function bg(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"a",11),r.NdJ("click",function(){return r.CHM(e),r.oxw().signOut()}),r.TgZ(1,"mat-icon"),r._uU(2,"exit_to_app"),r.qZA(),r._uU(3," Sign Out "),r.qZA()}}function wg(e,t){if(1&e&&(r.TgZ(0,"div"),r._UZ(1,"img",12),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.s9C("src",e.user.photoURL,r.LSH)}}let Sg=(()=>{class e{constructor(e,t){this.getOtpService=e,this.userService=t,this.welcome="",this.flag=!1}ngOnInit(){this.userService.getCurrentUser(),this.loginStatus$=this.userService.getIsLoggerIn(),this.username$=this.userService.getUserName(),this.user=JSON.parse(localStorage.getItem("user")),console.log(this.user)}signOut(){console.log("reads"),this.userService.signOut()}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Kd),r.Y36(Ys))},e.\u0275cmp=r.Xpm({type:e,selectors:[["ci-header"]],decls:22,vars:9,consts:[["color","primary"],[1,"spacer"],["mat-button","","routerLink","/home"],["mat-button","","routerLink","/bookk"],["mat-button","","routerLink","/world"],["mat-button","","routerLink","/pin"],["mat-button","","routerLink","/login"],["mat-raised-button","","routerLink","/signup",4,"ngIf"],["mat-raised-button","","routerLink","/signup",3,"click",4,"ngIf"],[4,"ngIf"],["mat-raised-button","","routerLink","/signup"],["mat-raised-button","","routerLink","/signup",3,"click"],[3,"src"]],template:function(e,t){1&e&&(r.TgZ(0,"mat-toolbar",0),r.TgZ(1,"span"),r.TgZ(2,"mat-icon"),r._uU(3,"eco"),r.qZA(),r._uU(4,"Cowin Stat "),r.qZA(),r._UZ(5,"div",1),r.TgZ(6,"a",2),r._uU(7,"Home"),r.qZA(),r.TgZ(8,"a",3),r._uU(9,"Book"),r.qZA(),r.TgZ(10,"a",4),r._uU(11,"Cases"),r.qZA(),r.TgZ(12,"a",5),r._uU(13,"Pincode Search"),r.qZA(),r.TgZ(14,"a",6),r._uU(15,"Download"),r.qZA(),r.YNc(16,vg,2,0,"a",7),r.ALo(17,"async"),r.YNc(18,bg,4,0,"a",8),r.ALo(19,"async"),r.YNc(20,wg,2,1,"div",9),r.ALo(21,"async"),r.qZA()),2&e&&(r.xp6(16),r.Q6J("ngIf",!r.lcZ(17,3,t.loginStatus$)),r.xp6(2),r.Q6J("ngIf",r.lcZ(19,5,t.loginStatus$)),r.xp6(2),r.Q6J("ngIf",r.lcZ(21,7,t.username$)))},directives:[eg,yg,um,Ci,q],pipes:[J],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}img[_ngcontent-%COMP%]{border-radius:100px;height:53px}"]}),e})(),Eg=(()=>{class e{constructor(){this.title="covidinfo"}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["ci-root"]],decls:4,vars:0,consts:[[1,"grid"],[1,"container"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r._UZ(1,"ci-header"),r.TgZ(2,"div",1),r._UZ(3,"router-outlet"),r.qZA(),r.qZA())},directives:[Sg,Ii],styles:[".grid[_ngcontent-%COMP%]{display:grid}"]}),e})(),Cg=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[ee,ld],ld]}),e})();n(3259);var Tg,Ig=n(156),kg="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},xg={},Ag=Ag||{},Og=kg||self;function Rg(){}function Dg(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ng(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Pg="closure_uid_"+(1e9*Math.random()>>>0),Lg=0;function Fg(e,t,n){return e.call.apply(e.bind,arguments)}function Mg(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Vg(e,t,n){return(Vg=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Fg:Mg).apply(null,arguments)}function Ug(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function qg(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function jg(){this.s=this.s,this.o=this.o}var Zg={};jg.prototype.s=!1,jg.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Pg)&&e[Pg]||(e[Pg]=++Lg)}(this);delete Zg[e]}},jg.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Bg=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Hg=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"==typeof e?e.split(""):e;for(let s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function zg(e){return Array.prototype.concat.apply([],arguments)}function Gg(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function $g(e){return/^[\s\xa0]*$/.test(e)}var Kg,Yg=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Wg(e,t){return-1!=e.indexOf(t)}function Qg(e,t){return e<t?-1:e>t?1:0}e:{var Jg=Og.navigator;if(Jg){var Xg=Jg.userAgent;if(Xg){Kg=Xg;break e}}Kg=""}function ey(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function ty(e){const t={};for(const n in e)t[n]=e[n];return t}var ny="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ry(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<ny.length;t++)n=ny[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function iy(e){return iy[" "](e),e}iy[" "]=Rg;var sy,oy,ay=Wg(Kg,"Opera"),ly=Wg(Kg,"Trident")||Wg(Kg,"MSIE"),cy=Wg(Kg,"Edge"),uy=cy||ly,hy=Wg(Kg,"Gecko")&&!(Wg(Kg.toLowerCase(),"webkit")&&!Wg(Kg,"Edge"))&&!(Wg(Kg,"Trident")||Wg(Kg,"MSIE"))&&!Wg(Kg,"Edge"),dy=Wg(Kg.toLowerCase(),"webkit")&&!Wg(Kg,"Edge");function py(){var e=Og.document;return e?e.documentMode:void 0}e:{var fy="",my=(oy=Kg,hy?/rv:([^\);]+)(\)|;)/.exec(oy):cy?/Edge\/([\d\.]+)/.exec(oy):ly?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(oy):dy?/WebKit\/(\S+)/.exec(oy):ay?/(?:Version)[ \/]?(\S+)/.exec(oy):void 0);if(my&&(fy=my?my[1]:""),ly){var gy=py();if(null!=gy&&gy>parseFloat(fy)){sy=String(gy);break e}}sy=fy}var yy={};var _y=Og.document&&ly&&(py()||parseInt(sy,10))||void 0,vy=function(){if(!Og.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Og.addEventListener("test",Rg,t),Og.removeEventListener("test",Rg,t)}catch(n){}return e}();function by(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function wy(e,t){if(by.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(hy){e:{try{iy(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Sy[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&wy.Z.h.call(this)}}by.prototype.h=function(){this.defaultPrevented=!0},qg(wy,by);var Sy={2:"touch",3:"pen",4:"mouse"};wy.prototype.h=function(){wy.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ey="closure_listenable_"+(1e6*Math.random()|0),Cy=0;function Ty(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Cy,this.ca=this.fa=!1}function Iy(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function ky(e){this.src=e,this.g={},this.h=0}function xy(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Bg(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Iy(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ay(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}ky.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Ay(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Ty(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var Oy="closure_lm_"+(1e6*Math.random()|0),Ry={};function Dy(e,t,n,r,i){if(r&&r.once)return Py(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Dy(e,t[s],n,r,i);return null}return n=jy(n),e&&e[Ey]?e.N(t,n,Ng(r)?!!r.capture:!!r,i):Ny(e,t,n,!1,r,i)}function Ny(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Ng(i)?!!i.capture:!!i,a=Uy(e);if(a||(e[Oy]=a=new ky(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){var e=Vy;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)vy||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(My(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Py(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Py(e,t[s],n,r,i);return null}return n=jy(n),e&&e[Ey]?e.O(t,n,Ng(r)?!!r.capture:!!r,i):Ny(e,t,n,!0,r,i)}function Ly(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Ly(e,t[s],n,r,i);else r=Ng(r)?!!r.capture:!!r,n=jy(n),e&&e[Ey]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=Ay(s=e.g[t],n,r,i))&&(Iy(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--))):e&&(e=Uy(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ay(t,n,r,i)),(n=-1<e?t[e]:null)&&Fy(n))}function Fy(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Ey])xy(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(My(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Uy(t))?(xy(n,e),0==n.h&&(n.src=null,t[Oy]=null)):Iy(e)}}}function My(e){return e in Ry?Ry[e]:Ry[e]="on"+e}function Vy(e,t){if(e.ca)e=!0;else{t=new wy(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Fy(e),e=n.call(r,t)}return e}function Uy(e){return(e=e[Oy])instanceof ky?e:null}var qy="__closure_events_fn_"+(1e9*Math.random()>>>0);function jy(e){return"function"==typeof e?e:(e[qy]||(e[qy]=function(t){return e.handleEvent(t)}),e[qy])}function Zy(){jg.call(this),this.i=new ky(this),this.P=this,this.I=null}function By(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new by(t,e);else if(t instanceof by)t.target=t.target||e;else{var i=t;ry(t=new by(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Hy(o,r,!0,t)&&i}if(i=Hy(o=t.g=e,r,!0,t)&&i,i=Hy(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Hy(o=t.g=n[s],r,!1,t)&&i}function Hy(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&xy(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}qg(Zy,jg),Zy.prototype[Ey]=!0,Zy.prototype.removeEventListener=function(e,t,n,r){Ly(this,e,t,n,r)},Zy.prototype.M=function(){if(Zy.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Iy(n[r]);delete t.g[e],t.h--}}this.I=null},Zy.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Zy.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var zy=Og.JSON.stringify;function Gy(){var e=Xy;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var $y,Ky=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Yy,e=>e.reset());class Yy{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Wy(e){Og.setTimeout(()=>{throw e},0)}function Qy(e,t){$y||function(){var e=Og.Promise.resolve(void 0);$y=function(){e.then(e_)}}(),Jy||($y(),Jy=!0),Xy.add(e,t)}var Jy=!1,Xy=new class{constructor(){this.h=this.g=null}add(e,t){const n=Ky.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function e_(){for(var e;e=Gy();){try{e.h.call(e.g)}catch(n){Wy(n)}var t=Ky;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Jy=!1}function t_(e,t){Zy.call(this),this.h=e||1,this.g=t||Og,this.j=Vg(this.kb,this),this.l=Date.now()}function n_(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function r_(e,t,n){if("function"==typeof e)n&&(e=Vg(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Vg(e.handleEvent,e)}return 2147483647<Number(t)?-1:Og.setTimeout(e,t||0)}function i_(e){e.g=r_(()=>{e.g=null,e.i&&(e.i=!1,i_(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}qg(t_,Zy),(Tg=t_.prototype).da=!1,Tg.S=null,Tg.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),By(this,"tick"),this.da&&(n_(this),this.start()))}},Tg.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Tg.M=function(){t_.Z.M.call(this),n_(this),delete this.g};class s_ extends jg{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:i_(this)}M(){super.M(),this.g&&(Og.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function o_(e){jg.call(this),this.h=e,this.g={}}qg(o_,jg);var a_=[];function l_(e,t,n,r){Array.isArray(n)||(n&&(a_[0]=n.toString()),n=a_);for(var i=0;i<n.length;i++){var s=Dy(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function c_(e){ey(e.g,function(e,t){this.g.hasOwnProperty(t)&&Fy(e)},e),e.g={}}function u_(){this.g=!0}function h_(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return zy(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}o_.prototype.M=function(){o_.Z.M.call(this),c_(this)},o_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},u_.prototype.Aa=function(){this.g=!1},u_.prototype.info=function(){};var d_={},p_=null;function f_(){return p_=p_||new Zy}function m_(e){by.call(this,d_.Ma,e)}function g_(e){const t=f_();By(t,new m_(t,e))}function y_(e,t){by.call(this,d_.STAT_EVENT,e),this.stat=t}function __(e){const t=f_();By(t,new y_(t,e))}function v_(e,t){by.call(this,d_.Na,e),this.size=t}function b_(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Og.setTimeout(function(){e()},t)}d_.Ma="serverreachability",qg(m_,by),d_.STAT_EVENT="statevent",qg(y_,by),d_.Na="timingevent",qg(v_,by);var w_={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},S_={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function E_(){}function C_(){}E_.prototype.h=null;var T_,I_={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function k_(){by.call(this,"d")}function x_(){by.call(this,"c")}function A_(){}function O_(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new o_(this),this.P=D_,this.W=new t_(e=uy?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new R_}function R_(){this.i=null,this.g="",this.h=!1}qg(k_,by),qg(x_,by),qg(A_,E_),A_.prototype.g=function(){return new XMLHttpRequest},A_.prototype.i=function(){return{}},T_=new A_;var D_=45e3,N_={},P_={};function L_(e,t,n){e.K=1,e.v=iv(J_(t)),e.s=n,e.U=!0,F_(e,null)}function F_(e,t){e.F=Date.now(),q_(e),e.A=J_(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),yv(n.h,"t",r),e.C=0,n=e.l.H,e.h=new R_,e.g=yb(e.l,n?t:null,!e.s),0<e.O&&(e.L=new s_(Vg(e.Ia,e,e.g),e.O)),l_(e.V,e.g,"readystatechange",e.gb),t=e.H?ty(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),g_(1),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.X,e.s)}function M_(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function V_(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=U_(e,n),r==P_){4==t&&(e.o=4,__(14),i=!1),h_(e.j,e.m,null,"[Incomplete Response]");break}if(r==N_){e.o=4,__(15),h_(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}h_(e.j,e.m,r,null),z_(e,r)}M_(e)&&r!=P_&&r!=N_&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,__(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),cb(t),t.L=!0,__(11))):(h_(e.j,e.m,n,"[Invalid Chunked Response]"),H_(e),B_(e))}function U_(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?P_:(n=Number(t.substring(n,r)),isNaN(n)?N_:(r+=1)+n>t.length?P_:(t=t.substr(r,n),e.C=r+n,t))}function q_(e){e.Y=Date.now()+e.P,j_(e,e.P)}function j_(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=b_(Vg(e.eb,e),t)}function Z_(e){e.B&&(Og.clearTimeout(e.B),e.B=null)}function B_(e){0==e.l.G||e.I||db(e.l,e)}function H_(e){Z_(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,n_(e.W),c_(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function z_(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Ev(n.i,e)))if(n.I=e.N,!e.J&&Ev(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;hb(n),eb(n)}lb(n),__(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=b_(Vg(n.ab,n),6e3));if(1>=Sv(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else fb(n,11)}else if((e.J||n.g==e)&&hb(n),!$g(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const t=c[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=c[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const u=c[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;!s.g&&(Wg(e,"spdy")||Wg(e,"quic")||Wg(e,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(Cv(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,rv(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=e;if((r=n).oa=gb(r,r.H?r.la:null,r.W),o.J){Tv(r.i,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(Z_(a),q_(a)),r.g=o}else ab(r);0<n.l.length&&rb(n)}else"stop"!=c[0]&&"close"!=c[0]||fb(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?fb(n,7):Xv(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}g_(4)}catch(c){}}function G_(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Dg(e)||"string"==typeof e)Hg(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Dg(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(Dg(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function $_(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof $_)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function K_(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Y_(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Y_(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Y_(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Tg=O_.prototype).setTimeout=function(e){this.P=e},Tg.gb=function(e){e=e.target;const t=this.L;t&&3==Kv(e)?t.l():this.Ia(e)},Tg.Ia=function(e){try{if(e==this.g)e:{const u=Kv(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>u)&&(3!=u||uy||this.g&&(this.h.h||this.g.ga()||Yv(this.g)))){this.I||4!=u||7==t||g_(8==t||0>=h?3:2),Z_(this);var n=this.g.ba();this.N=n;t:if(M_(this)){var r=Yv(this.g);e="";var i=r.length,s=4==Kv(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){H_(this),B_(this);var o="";break t}this.h.i=new Og.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,u,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$g(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,__(12),H_(this),B_(this);break e}h_(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,z_(this,n)}this.U?(V_(this,u,o),uy&&this.i&&3==u&&(l_(this.V,this.W,"tick",this.fb),this.W.start())):(h_(this.j,this.m,o,null),z_(this,o)),4==u&&H_(this),this.i&&!this.I&&(4==u?db(this.l,this):(this.i=!1,q_(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,__(12)):(this.o=0,__(13)),H_(this),B_(this)}}}catch(u){}},Tg.fb=function(){if(this.g){var e=Kv(this.g),t=this.g.ga();this.C<t.length&&(Z_(this),V_(this,e,t),this.i&&4!=e&&q_(this))}},Tg.cancel=function(){this.I=!0,H_(this)},Tg.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(g_(3),__(17)),H_(this),this.o=2,B_(this)):j_(this,this.Y-e)},(Tg=$_.prototype).R=function(){K_(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Tg.T=function(){return K_(this),this.g.concat()},Tg.get=function(e,t){return Y_(this.h,e)?this.h[e]:t},Tg.set=function(e,t){Y_(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Tg.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var W_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Q_(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Q_){this.g=void 0!==t?t:e.g,X_(this,e.j),this.s=e.s,ev(this,e.i),tv(this,e.m),this.l=e.l,t=e.h;var n=new pv;n.i=t.i,t.g&&(n.g=new $_(t.g),n.h=t.h),nv(this,n),this.o=e.o}else e&&(n=String(e).match(W_))?(this.g=!!t,X_(this,n[1]||"",!0),this.s=sv(n[2]||""),ev(this,n[3]||"",!0),tv(this,n[4]),this.l=sv(n[5]||"",!0),nv(this,n[6]||"",!0),this.o=sv(n[7]||"")):(this.g=!!t,this.h=new pv(null,this.g))}function J_(e){return new Q_(e)}function X_(e,t,n){e.j=n?sv(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ev(e,t,n){e.i=n?sv(t,!0):t}function tv(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function nv(e,t,n){t instanceof pv?(e.h=t,function(e,t){t&&!e.j&&(fv(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(mv(this,t),yv(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=ov(t,hv)),e.h=new pv(t,e.g))}function rv(e,t,n){e.h.set(t,n)}function iv(e){return rv(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function sv(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ov(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,av),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function av(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Q_.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ov(t,lv,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ov(t,lv,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(ov(n,"/"==n.charAt(0)?uv:cv,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ov(n,dv)),e.join("")};var lv=/[#\/\?@]/g,cv=/[#\?:]/g,uv=/[#\?]/g,hv=/[#\?@]/g,dv=/#/g;function pv(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function fv(e){e.g||(e.g=new $_,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function mv(e,t){fv(e),t=_v(e,t),Y_(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Y_((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&K_(e)))}function gv(e,t){return fv(e),t=_v(e,t),Y_(e.g.h,t)}function yv(e,t,n){mv(e,t),0<n.length&&(e.i=null,e.g.set(_v(e,t),Gg(n)),e.h+=n.length)}function _v(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function vv(e){this.l=e||bv,e=Og.PerformanceNavigationTiming?0<(e=Og.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(Og.g&&Og.g.Ea&&Og.g.Ea()&&Og.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Tg=pv.prototype).add=function(e,t){fv(this),this.i=null,e=_v(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Tg.forEach=function(e,t){fv(this),this.g.forEach(function(n,r){Hg(n,function(n){e.call(t,n,r,this)},this)},this)},Tg.T=function(){fv(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},Tg.R=function(e){fv(this);var t=[];if("string"==typeof e)gv(this,e)&&(t=zg(t,this.g.get(_v(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=zg(t,e[n])}return t},Tg.set=function(e,t){return fv(this),this.i=null,gv(this,e=_v(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Tg.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Tg.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.i=e.join("&")};var bv=10;function wv(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Sv(e){return e.h?1:e.g?e.g.size:0}function Ev(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Cv(e,t){e.g?e.g.add(t):e.h=t}function Tv(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Iv(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return Gg(e.i)}function kv(){}function xv(){this.g=new kv}function Av(e,t,n){const r=n||"";try{G_(e,function(e,n){let i=e;Ng(e)&&(i=zy(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ov(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Rv(e){this.l=e.$b||null,this.j=e.ib||!1}function Dv(e,t){Zy.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Nv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vv.prototype.cancel=function(){if(this.i=Iv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},kv.prototype.stringify=function(e){return Og.JSON.stringify(e,void 0)},kv.prototype.parse=function(e){return Og.JSON.parse(e,void 0)},qg(Rv,E_),Rv.prototype.g=function(){return new Dv(this.l,this.j)},Rv.prototype.i=function(e){return function(){return e}}({}),qg(Dv,Zy);var Nv=0;function Pv(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Lv(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Fv(e)}function Fv(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Tg=Dv.prototype).open=function(e,t){if(this.readyState!=Nv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Fv(this)},Tg.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Og).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Tg.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Lv(this)),this.readyState=Nv},Tg.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Fv(this)),this.g&&(this.readyState=3,Fv(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Og.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Pv(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Tg.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Lv(this):Fv(this),3==this.readyState&&Pv(this)}},Tg.Ua=function(e){this.g&&(this.response=this.responseText=e,Lv(this))},Tg.Ta=function(e){this.g&&(this.response=e,Lv(this))},Tg.ha=function(){this.g&&Lv(this)},Tg.setRequestHeader=function(e,t){this.v.append(e,t)},Tg.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Tg.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Dv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Mv=Og.JSON.parse;function Vv(e){Zy.call(this),this.headers=new $_,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Uv,this.K=this.L=!1}qg(Vv,Zy);var Uv="",qv=/^https?$/i,jv=["POST","PUT"];function Zv(e){return"content-type"==e.toLowerCase()}function Bv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Hv(e),Gv(e)}function Hv(e){e.D||(e.D=!0,By(e,"complete"),By(e,"error"))}function zv(e){if(e.h&&void 0!==Ag&&(!e.C[1]||4!=Kv(e)||2!=e.ba()))if(e.v&&4==Kv(e))r_(e.Fa,0,e);else if(By(e,"readystatechange"),4==Kv(e)){e.h=!1;try{const l=e.ba();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===l){var i=String(e.H).match(W_)[1]||null;if(!i&&Og.self&&Og.self.location){var s=Og.self.location.protocol;i=s.substr(0,s.length-1)}r=!qv.test(i?i.toLowerCase():"")}n=r}if(n)By(e,"complete"),By(e,"success");else{e.m=6;try{var o=2<Kv(e)?e.g.statusText:""}catch(a){o=""}e.j=o+" ["+e.ba()+"]",Hv(e)}}finally{Gv(e)}}}function Gv(e,t){if(e.g){$v(e);const r=e.g,i=e.C[0]?Rg:null;e.g=null,e.C=null,t||By(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function $v(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Og.clearTimeout(e.A),e.A=null)}function Kv(e){return e.g?e.g.readyState:0}function Yv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Uv:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Wv(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return ey(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):rv(e,t,n))}function Qv(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Jv(e){this.za=0,this.l=[],this.h=new u_,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Qv("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Qv("baseRetryDelayMs",5e3,e),this.$a=Qv("retryDelaySeedMs",1e4,e),this.Ya=Qv("forwardChannelMaxRetries",2,e),this.ra=Qv("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new vv(e&&e.concurrentRequestLimit),this.Ca=new xv,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Xv(e){if(tb(e),3==e.G){var t=e.V++,n=J_(e.F);rv(n,"SID",e.J),rv(n,"RID",t),rv(n,"TYPE","terminate"),sb(e,n),(t=new O_(e,e.h,t,void 0)).K=2,t.v=iv(J_(n)),n=!1,Og.navigator&&Og.navigator.sendBeacon&&(n=Og.navigator.sendBeacon(t.v.toString(),"")),!n&&Og.Image&&((new Image).src=t.v,n=!0),n||(t.g=yb(t.l,null),t.g.ea(t.v)),t.F=Date.now(),q_(t)}mb(e)}function eb(e){e.g&&(cb(e),e.g.cancel(),e.g=null)}function tb(e){eb(e),e.u&&(Og.clearTimeout(e.u),e.u=null),hb(e),e.i.cancel(),e.m&&("number"==typeof e.m&&Og.clearTimeout(e.m),e.m=null)}function nb(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&rb(e)}function rb(e){wv(e.i)||e.m||(e.m=!0,Qy(e.Ha,e),e.C=0)}function ib(e,t){var n;n=t?t.m:e.V++;const r=J_(e.F);rv(r,"SID",e.J),rv(r,"RID",n),rv(r,"AID",e.U),sb(e,r),e.o&&e.s&&Wv(r,e.o,e.s),n=new O_(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=ob(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Cv(e.i,n),L_(n,r,t)}function sb(e,t){e.j&&G_({},function(e,n){rv(t,n,e)})}function ob(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Vg(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].h;const l=i[a].g;if(n-=t,0>n)t=Math.max(0,i[a].h-100),o=!1;else try{Av(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(o){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function ab(e){e.g||e.u||(e.Y=1,Qy(e.Ga,e),e.A=0)}function lb(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=b_(Vg(e.Ga,e),pb(e,e.A)),e.A++,0))}function cb(e){null!=e.B&&(Og.clearTimeout(e.B),e.B=null)}function ub(e){e.g=new O_(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=J_(e.oa);rv(t,"RID","rpc"),rv(t,"SID",e.J),rv(t,"CI",e.N?"0":"1"),rv(t,"AID",e.U),sb(e,t),rv(t,"TYPE","xmlhttp"),e.o&&e.s&&Wv(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=iv(J_(t)),n.s=null,n.U=!0,F_(n,e)}function hb(e){null!=e.v&&(Og.clearTimeout(e.v),e.v=null)}function db(e,t){var n=null;if(e.g==t){hb(e),cb(e),e.g=null;var r=2}else{if(!Ev(e.i,t))return;n=t.D,Tv(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;By(r=f_(),new v_(r,n,t,i)),rb(e)}else ab(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Sv(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=b_(Vg(e.Ha,e,t),pb(e,e.C)),e.C++,0)))}(e,t)||2==r&&lb(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:fb(e,5);break;case 4:fb(e,10);break;case 3:fb(e,6);break;default:fb(e,2)}}function pb(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function fb(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Vg(e.jb,e);n||(n=new Q_("//www.google.com/images/cleardot.gif"),Og.location&&"http"==Og.location.protocol||X_(n,"https"),iv(n)),function(e,t){const n=new u_;if(Og.Image){const r=new Image;r.onload=Ug(Ov,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ug(Ov,n,r,"TestLoadImage: error",!1,t),r.onabort=Ug(Ov,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ug(Ov,n,r,"TestLoadImage: timeout",!1,t),Og.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else __(2);e.G=0,e.j&&e.j.va(t),mb(e),tb(e)}function mb(e){e.G=0,e.I=-1,e.j&&(0==Iv(e.i).length&&0==e.l.length||(e.i.i.length=0,Gg(e.l),e.l.length=0),e.j.ua())}function gb(e,t,n){let r=function(e){return e instanceof Q_?J_(e):new Q_(e,void 0)}(n);if(""!=r.i)t&&ev(r,t+"."+r.i),tv(r,r.m);else{const e=Og.location;r=function(e,t,n,r){var i=new Q_(null,void 0);return e&&X_(i,e),t&&ev(i,t),n&&tv(i,n),r&&(i.l=r),i}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&ey(e.aa,function(e,t){rv(r,t,e)}),n=e.sa,(t=e.D)&&n&&rv(r,t,n),rv(r,"VER",e.ma),sb(e,r),r}function yb(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Vv(n&&e.Ba&&!e.qa?new Rv({ib:!0}):e.qa)).L=e.H,t}function _b(){}function vb(){if(ly&&!(10<=Number(_y)))throw Error("Environmental error: no available transport.")}function bb(e,t){Zy.call(this),this.g=new Jv(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!$g(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!$g(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new Eb(this)}function wb(e){k_.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Sb(){x_.call(this),this.status=1}function Eb(e){this.g=e}(Tg=Vv.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():T_.g(),this.C=function(e){return e.h||(e.h=e.i())}(this.u?this.u:T_),this.g.onreadystatechange=Vg(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Bv(this,s)}e=n||"";const i=new $_(this.headers);r&&G_(r,function(e,t){i.set(t,e)}),r=function(e){e:{var t=Zv;const n=e.length,r="string"==typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=Og.FormData&&e instanceof Og.FormData,!(0<=Bg(jv,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{$v(this),0<this.B&&((this.K=function(e){return ly&&function(){return e=yy,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let e=0;const t=Yg(String(sy)).split("."),n=Yg("9").split("."),r=Math.max(t.length,n.length);for(let o=0;0==e&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=Qg(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||Qg(0==i[2].length,0==s[2].length)||Qg(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e}();var e}()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vg(this.pa,this)):this.A=r_(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Bv(this,s)}},Tg.pa=function(){void 0!==Ag&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,By(this,"timeout"),this.abort(8))},Tg.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,By(this,"complete"),By(this,"abort"),Gv(this))},Tg.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Gv(this,!0)),Vv.Z.M.call(this)},Tg.Fa=function(){this.s||(this.F||this.v||this.l?zv(this):this.cb())},Tg.cb=function(){zv(this)},Tg.ba=function(){try{return 2<Kv(this)?this.g.status:-1}catch(oy){return-1}},Tg.ga=function(){try{return this.g?this.g.responseText:""}catch(oy){return""}},Tg.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Mv(t)}},Tg.Da=function(){return this.m},Tg.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Tg=Jv.prototype).ma=8,Tg.G=1,Tg.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Tg.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new O_(this,this.h,e,void 0);let s=this.s;if(this.P&&(s?(s=ty(s),ry(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=ob(this,i,t),rv(n=J_(this.F),"RID",e),rv(n,"CVER",22),this.D&&rv(n,"X-HTTP-Session-Id",this.D),sb(this,n),this.o&&s&&Wv(n,this.o,s),Cv(this.i,i),this.Ra&&rv(n,"TYPE","init"),this.ja?(rv(n,"$req",t),rv(n,"SID","null"),i.$=!0,L_(i,n,null)):L_(i,n,t),this.G=2}}else 3==this.G&&(e?ib(this,e):0==this.l.length||wv(this.i)||ib(this))},Tg.Ga=function(){if(this.u=null,ub(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=b_(Vg(this.bb,this),e)}},Tg.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,__(10),eb(this),ub(this))},Tg.ab=function(){null!=this.v&&(this.v=null,eb(this),lb(this),__(19))},Tg.jb=function(e){e?(this.h.info("Successfully pinged google.com"),__(2)):(this.h.info("Failed to ping google.com"),__(1))},(Tg=_b.prototype).xa=function(){},Tg.wa=function(){},Tg.va=function(){},Tg.ua=function(){},Tg.Oa=function(){},vb.prototype.g=function(e,t){return new bb(e,t)},qg(bb,Zy),bb.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Qy(Vg(e.hb,e,t))),__(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=gb(e,null,e.W),rb(e)},bb.prototype.close=function(){Xv(this.g)},bb.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,nb(this.g,t)}else this.v?((t={}).__data__=zy(e),nb(this.g,t)):nb(this.g,e)},bb.prototype.M=function(){this.g.j=null,delete this.j,Xv(this.g),delete this.g,bb.Z.M.call(this)},qg(wb,k_),qg(Sb,x_),qg(Eb,_b),Eb.prototype.xa=function(){By(this.g,"a")},Eb.prototype.wa=function(e){By(this.g,new wb(e))},Eb.prototype.va=function(e){By(this.g,new Sb(e))},Eb.prototype.ua=function(){By(this.g,"b")},vb.prototype.createWebChannel=vb.prototype.g,bb.prototype.send=bb.prototype.u,bb.prototype.open=bb.prototype.m,bb.prototype.close=bb.prototype.close,w_.NO_ERROR=0,w_.TIMEOUT=8,w_.HTTP_ERROR=6,S_.COMPLETE="complete",C_.EventType=I_,I_.OPEN="a",I_.CLOSE="b",I_.ERROR="c",I_.MESSAGE="d",Zy.prototype.listen=Zy.prototype.N,Vv.prototype.listenOnce=Vv.prototype.O,Vv.prototype.getLastError=Vv.prototype.La,Vv.prototype.getLastErrorCode=Vv.prototype.Da,Vv.prototype.getStatus=Vv.prototype.ba,Vv.prototype.getResponseJson=Vv.prototype.Qa,Vv.prototype.getResponseText=Vv.prototype.ga,Vv.prototype.send=Vv.prototype.ea;var Cb=xg.createWebChannelTransport=function(){return new vb},Tb=xg.getStatEventTarget=function(){return f_()},Ib=xg.ErrorCode=w_,kb=xg.EventType=S_,xb=xg.Event=d_,Ab=xg.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ob=xg.FetchXmlHttpFactory=Rv,Rb=xg.WebChannel=C_,Db=xg.XhrIo=Vv;const Nb="@firebase/firestore";class Pb{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pb.UNAUTHENTICATED=new Pb(null),Pb.GOOGLE_CREDENTIALS=new Pb("google-credentials-uid"),Pb.FIRST_PARTY=new Pb("first-party-uid"),Pb.MOCK_USER=new Pb("mock-user");let Lb="9.6.11";const Fb=new os.Yd("@firebase/firestore");function Mb(){return Fb.logLevel}function Vb(e,...t){if(Fb.logLevel<=os.in.DEBUG){const n=t.map(jb);Fb.debug(`Firestore (${Lb}): ${e}`,...n)}}function Ub(e,...t){if(Fb.logLevel<=os.in.ERROR){const n=t.map(jb);Fb.error(`Firestore (${Lb}): ${e}`,...n)}}function qb(e,...t){if(Fb.logLevel<=os.in.WARN){const n=t.map(jb);Fb.warn(`Firestore (${Lb}): ${e}`,...n)}}function jb(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function Zb(e="Unexpected state"){const t=`FIRESTORE (${Lb}) INTERNAL ASSERTION FAILED: `+e;throw Ub(t),new Error(t)}function Bb(e,t){e||Zb()}function Hb(e,t){return e}const zb={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Gb extends ss.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $b{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Kb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Pb.UNAUTHENTICATED))}shutdown(){}}class Wb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Qb{constructor(e){this.t=e,this.currentUser=Pb.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var n=this;let r=this.i;const i=e=>this.i!==r?(r=this.i,t(e)):Promise.resolve();let s=new $b;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new $b,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const t=s;e.enqueueRetryable((0,zi.Z)(function*(){yield t.promise,yield i(n.currentUser)}))},a=e=>{Vb("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Vb("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new $b)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Vb("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Bb("string"==typeof t.accessToken),new Kb(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Bb(null===e||"string"==typeof e),new Pb(e)}}class Jb{constructor(e,t,n){this.type="FirstParty",this.user=Pb.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class Xb{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Jb(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Pb.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ew{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tw{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const n=e=>{null!=e.error&&Vb("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.p;return this.p=e.token,Vb("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Vb("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.g.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.g.getImmediate({optional:!0});e?r(e):Vb("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Bb("string"==typeof e.token),this.p=e.token,new ew(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class nw{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.I(e),this.T=e=>t.writeSequenceNumber(e))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function rw(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}nw.A=-1;class iw{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=rw(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function sw(e,t){return e<t?-1:e>t?1:0}function ow(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function aw(e){return e+"\0"}class lw{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Gb(zb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Gb(zb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Gb(zb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Gb(zb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return lw.fromMillis(Date.now())}static fromDate(e){return lw.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new lw(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?sw(this.nanoseconds,e.nanoseconds):sw(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class cw{constructor(e){this.timestamp=e}static fromTimestamp(e){return new cw(e)}static min(){return new cw(new lw(0,0))}static max(){return new cw(new lw(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function uw(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function hw(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function dw(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class pw{constructor(e,t,n){void 0===t?t=0:t>e.length&&Zb(),void 0===n?n=e.length-t:n>e.length-t&&Zb(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===pw.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof pw?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class fw extends pw{construct(e,t,n){return new fw(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Gb(zb.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new fw(t)}static emptyPath(){return new fw([])}}const mw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gw extends pw{construct(e,t,n){return new gw(e,t,n)}static isValidIdentifier(e){return mw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gw.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gw(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Gb(zb.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Gb(zb.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Gb(zb.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Gb(zb.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gw(t)}static emptyPath(){return new gw([])}}class yw{constructor(e){this.fields=e,e.sort(gw.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ow(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class _w{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new _w(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new _w(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sw(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_w.EMPTY_BYTE_STRING=new _w("");const vw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bw(e){if(Bb(!!e),"string"==typeof e){let t=0;const n=vw.exec(e);if(Bb(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ww(e.seconds),nanos:ww(e.nanos)}}function ww(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Sw(e){return"string"==typeof e?_w.fromBase64String(e):_w.fromUint8Array(e)}function Ew(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Cw(e){const t=e.mapValue.fields.__previous_value__;return Ew(t)?Cw(t):t}function Tw(e){const t=bw(e.mapValue.fields.__local_write_time__.timestampValue);return new lw(t.seconds,t.nanos)}class Iw{constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class kw{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new kw("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof kw&&e.projectId===this.projectId&&e.database===this.database}}function xw(e){return null==e}function Aw(e){return 0===e&&1/e==-1/0}function Ow(e){return"number"==typeof e&&Number.isInteger(e)&&!Aw(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class Rw{constructor(e){this.path=e}static fromPath(e){return new Rw(fw.fromString(e))}static fromName(e){return new Rw(fw.fromString(e).popFirst(5))}static empty(){return new Rw(fw.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fw.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return fw.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Rw(new fw(e.slice()))}}const Dw={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Nw={nullValue:"NULL_VALUE"};function Pw(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ew(e)?4:Kw(e)?9:10:Zb()}function Lw(e,t){if(e===t)return!0;const n=Pw(e);if(n!==Pw(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Tw(e).isEqual(Tw(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=bw(e.timestampValue),r=bw(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Sw(e.bytesValue).isEqual(Sw(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ww(e.geoPointValue.latitude)===ww(t.geoPointValue.latitude)&&ww(e.geoPointValue.longitude)===ww(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ww(e.integerValue)===ww(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ww(e.doubleValue),r=ww(t.doubleValue);return n===r?Aw(n)===Aw(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ow(e.arrayValue.values||[],t.arrayValue.values||[],Lw);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(uw(n)!==uw(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Lw(n[i],r[i])))return!1;return!0}(e,t);default:return Zb()}}function Fw(e,t){return void 0!==(e.values||[]).find(e=>Lw(e,t))}function Mw(e,t){if(e===t)return 0;const n=Pw(e),r=Pw(t);if(n!==r)return sw(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return sw(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ww(e.integerValue||e.doubleValue),r=ww(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Vw(e.timestampValue,t.timestampValue);case 4:return Vw(Tw(e),Tw(t));case 5:return sw(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Sw(e),r=Sw(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=sw(n[i],r[i]);if(0!==e)return e}return sw(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=sw(ww(e.latitude),ww(t.latitude));return 0!==n?n:sw(ww(e.longitude),ww(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Mw(n[i],r[i]);if(e)return e}return sw(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=sw(r[o],s[o]);if(0!==e)return e;const t=Mw(n[r[o]],i[s[o]]);if(0!==t)return t}return sw(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Zb()}}function Vw(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return sw(e,t);const n=bw(e),r=bw(t),i=sw(n.seconds,r.seconds);return 0!==i?i:sw(n.nanos,r.nanos)}function Uw(e){return qw(e)}function qw(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=bw(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Sw(e.bytesValue).toBase64():"referenceValue"in e?Rw.fromName(e.referenceValue).toString():"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=qw(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${qw(e.fields[i])}`;return n+"}"}(e.mapValue):Zb();var t}function jw(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Zw(e){return!!e&&"integerValue"in e}function Bw(e){return!!e&&"arrayValue"in e}function Hw(e){return!!e&&"nullValue"in e}function zw(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Gw(e){return!!e&&"mapValue"in e}function $w(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return hw(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=$w(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=$w(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Kw(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Yw(e){return"nullValue"in e?Nw:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?jw(kw.empty(),Rw.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Zb()}function Ww(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?jw(kw.empty(),Rw.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Dw:Zb()}function Qw(e,t){return void 0===e?t:void 0===t||Mw(e,t)>0?e:t}function Jw(e,t){return void 0===e?t:void 0===t||Mw(e,t)<0?e:t}class Xw{constructor(e){this.value=e}static empty(){return new Xw({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Gw(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$w(t)}setAll(e){let t=gw.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=$w(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Gw(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Lw(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Gw(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){hw(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Xw($w(this.value))}}function eS(e){const t=[];return hw(e.fields,(e,n)=>{const r=new gw([e]);if(Gw(n)){const e=eS(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new yw(t)}class tS{constructor(e,t,n,r,i,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.data=i,this.documentState=s}static newInvalidDocument(e){return new tS(e,0,cw.min(),cw.min(),Xw.empty(),0)}static newFoundDocument(e,t,n){return new tS(e,1,t,cw.min(),n,0)}static newNoDocument(e,t){return new tS(e,2,t,cw.min(),Xw.empty(),0)}static newUnknownDocument(e,t){return new tS(e,3,t,cw.min(),Xw.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xw.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xw.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof tS&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tS(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nS{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function rS(e){return e.fields.find(e=>2===e.kind)}function iS(e){return e.fields.filter(e=>2!==e.kind)}nS.UNKNOWN_ID=-1;class sS{constructor(e,t){this.fieldPath=e,this.kind=t}}class oS{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new oS(0,cS.min())}}function aS(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=cw.fromTimestamp(1e9===r?new lw(n+1,0):new lw(n,r));return new cS(i,Rw.empty(),t)}function lS(e){return new cS(e.readTime,e.key,-1)}class cS{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new cS(cw.min(),Rw.empty(),-1)}static max(){return new cS(cw.max(),Rw.empty(),-1)}}function uS(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Rw.comparator(e.documentKey,t.documentKey),0!==n?n:sw(e.largestBatchId,t.largestBatchId))}class hS{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.P=null}}function dS(e,t=null,n=[],r=[],i=null,s=null,o=null){return new hS(e,t,n,r,i,s,o)}function pS(e){const t=Hb(e);if(null===t.P){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>{return(t=e).field.canonicalString()+t.op.toString()+Uw(t.value);var t}).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),xw(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Uw(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Uw(e)).join(",")),t.P=e}return t.P}function fS(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!OS(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if((n=e.filters[i]).op!==(r=t.filters[i]).op||!n.field.isEqual(r.field)||!Lw(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!DS(e.startAt,t.startAt)&&DS(e.endAt,t.endAt)}function mS(e){return Rw.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function gS(e,t){return e.filters.filter(e=>e instanceof vS&&e.field.isEqual(t))}function yS(e,t,n){let r,i=!0;for(const s of gS(e,t)){let e,t=!0;switch(s.op){case"<":case"<=":e=Yw(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=Nw}Qw(r,e)===e&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Qw(r,e)===e&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function _S(e,t,n){let r,i=!0;for(const s of gS(e,t)){let e,t=!0;switch(s.op){case">=":case">":e=Ww(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=Dw}Jw(r,e)===e&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Jw(r,e)===e&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class vS extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,n):new bS(e,t,n):"array-contains"===t?new CS(e,n):"in"===t?new TS(e,n):"not-in"===t?new IS(e,n):"array-contains-any"===t?new kS(e,n):new vS(e,t,n)}static V(e,t,n){return"in"===t?new wS(e,n):new SS(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Mw(t,this.value)):null!==t&&Pw(this.value)===Pw(t)&&this.v(Mw(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Zb()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class bS extends vS{constructor(e,t,n){super(e,t,n),this.key=Rw.fromName(n.referenceValue)}matches(e){const t=Rw.comparator(e.key,this.key);return this.v(t)}}class wS extends vS{constructor(e,t){super(e,"in",t),this.keys=ES(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class SS extends vS{constructor(e,t){super(e,"not-in",t),this.keys=ES(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ES(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Rw.fromName(e.referenceValue))}class CS extends vS{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Bw(t)&&Fw(t.arrayValue,this.value)}}class TS extends vS{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Fw(this.value.arrayValue,t)}}class IS extends vS{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Fw(this.value.arrayValue,t)}}class kS extends vS{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Bw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Fw(this.value.arrayValue,e))}}class xS{constructor(e,t){this.position=e,this.inclusive=t}}class AS{constructor(e,t="asc"){this.field=e,this.dir=t}}function OS(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function RS(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Rw.comparator(Rw.fromName(o.referenceValue),n.key):Mw(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function DS(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Lw(e.position[n],t.position[n]))return!1;return!0}class NS{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.D=null,this.C=null}}function PS(e,t,n,r,i,s,o,a){return new NS(e,t,n,r,i,s,o,a)}function LS(e){return new NS(e)}function FS(e){return!xw(e.limit)&&"F"===e.limitType}function MS(e){return!xw(e.limit)&&"L"===e.limitType}function VS(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function US(e){for(const t of e.filters)if(t.S())return t.field;return null}function qS(e){return null!==e.collectionGroup}function jS(e){const t=Hb(e);if(null===t.D){t.D=[];const e=US(t),n=VS(t);if(null!==e&&null===n)e.isKeyField()||t.D.push(new AS(e)),t.D.push(new AS(gw.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.D.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new AS(gw.keyField(),e))}}}return t.D}function ZS(e){const t=Hb(e);if(!t.C)if("F"===t.limitType)t.C=dS(t.path,t.collectionGroup,jS(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of jS(t))e.push(new AS(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new xS(t.endAt.position,!t.endAt.inclusive):null,r=t.startAt?new xS(t.startAt.position,!t.startAt.inclusive):null;t.C=dS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.C}function BS(e,t,n){return new NS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function HS(e,t){return fS(ZS(e),ZS(t))&&e.limitType===t.limitType}function zS(e){return`${pS(ZS(e))}|lt:${e.limitType}`}function GS(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>{return`${(t=e).field.canonicalString()} ${t.op} ${Uw(t.value)}`;var t}).join(", ")}]`),xw(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Uw(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Uw(e)).join(",")),`Target(${t})`}(ZS(e))}; limitType=${e.limitType})`}function $S(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Rw.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=RS(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,jS(e),t)||e.endAt&&!function(e,t,n){const r=RS(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,jS(e),t))}(e,t)}function KS(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function YS(e){return(t,n)=>{let r=!1;for(const i of jS(e)){const e=WS(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function WS(e,t,n){const r=e.field.isKeyField()?Rw.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Mw(r,i):Zb()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Zb()}}function QS(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Aw(t)?"-0":t}}function JS(e){return{integerValue:""+e}}function XS(e,t){return Ow(t)?JS(t):QS(e,t)}class eE{constructor(){this._=void 0}}function tE(e,t,n){return e instanceof iE?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof sE?oE(e,t):e instanceof aE?lE(e,t):function(e,t){const n=rE(e,t),r=uE(n)+uE(e.k);return Zw(n)&&Zw(e.k)?JS(r):QS(e.M,r)}(e,t)}function nE(e,t,n){return e instanceof sE?oE(e,t):e instanceof aE?lE(e,t):n}function rE(e,t){return e instanceof cE?Zw(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class iE extends eE{}class sE extends eE{constructor(e){super(),this.elements=e}}function oE(e,t){const n=hE(t);for(const r of e.elements)n.some(e=>Lw(e,r))||n.push(r);return{arrayValue:{values:n}}}class aE extends eE{constructor(e){super(),this.elements=e}}function lE(e,t){let n=hE(t);for(const r of e.elements)n=n.filter(e=>!Lw(e,r));return{arrayValue:{values:n}}}class cE extends eE{constructor(e,t){super(),this.M=e,this.k=t}}function uE(e){return ww(e.integerValue||e.doubleValue)}function hE(e){return Bw(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class dE{constructor(e,t){this.field=e,this.transform=t}}class pE{constructor(e,t){this.version=e,this.transformResults=t}}class fE{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fE}static exists(e){return new fE(void 0,e)}static updateTime(e){return new fE(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mE(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class gE{}function yE(e,t,n){e instanceof SE?function(e,t,n){const r=e.value.clone(),i=TE(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof EE?function(e,t,n){if(!mE(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=TE(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(CE(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function _E(e,t,n){e instanceof SE?function(e,t,n){if(!mE(e.precondition,t))return;const r=e.value.clone(),i=IE(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(wE(t),r).setHasLocalMutations()}(e,t,n):e instanceof EE?function(e,t,n){if(!mE(e.precondition,t))return;const r=IE(e.fieldTransforms,n,t),i=t.data;i.setAll(CE(e)),i.setAll(r),t.convertToFoundDocument(wE(t),i).setHasLocalMutations()}(e,t,n):function(e,t){mE(e.precondition,t)&&t.convertToNoDocument(cw.min())}(e,t)}function vE(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=rE(r.transform,e||null);null!=i&&(null==n&&(n=Xw.empty()),n.set(r.field,i))}return n||null}function bE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ow(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof sE&&t instanceof sE||e instanceof aE&&t instanceof aE?ow(e.elements,t.elements,Lw):e instanceof cE&&t instanceof cE?Lw(e.k,t.k):e instanceof iE&&t instanceof iE}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function wE(e){return e.isFoundDocument()?e.version:cw.min()}class SE extends gE{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class EE extends gE{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function CE(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function TE(e,t,n){const r=new Map;Bb(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,nE(o,a,n[i]))}return r}function IE(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,tE(e,s,t))}return r}class kE extends gE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class xE extends gE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class AE{constructor(e){this.count=e}}var OE,RE;function DE(e){switch(e){default:return Zb();case zb.CANCELLED:case zb.UNKNOWN:case zb.DEADLINE_EXCEEDED:case zb.RESOURCE_EXHAUSTED:case zb.INTERNAL:case zb.UNAVAILABLE:case zb.UNAUTHENTICATED:return!1;case zb.INVALID_ARGUMENT:case zb.NOT_FOUND:case zb.ALREADY_EXISTS:case zb.PERMISSION_DENIED:case zb.FAILED_PRECONDITION:case zb.ABORTED:case zb.OUT_OF_RANGE:case zb.UNIMPLEMENTED:case zb.DATA_LOSS:return!0}}function NE(e){if(void 0===e)return Ub("GRPC error has no .code"),zb.UNKNOWN;switch(e){case OE.OK:return zb.OK;case OE.CANCELLED:return zb.CANCELLED;case OE.UNKNOWN:return zb.UNKNOWN;case OE.DEADLINE_EXCEEDED:return zb.DEADLINE_EXCEEDED;case OE.RESOURCE_EXHAUSTED:return zb.RESOURCE_EXHAUSTED;case OE.INTERNAL:return zb.INTERNAL;case OE.UNAVAILABLE:return zb.UNAVAILABLE;case OE.UNAUTHENTICATED:return zb.UNAUTHENTICATED;case OE.INVALID_ARGUMENT:return zb.INVALID_ARGUMENT;case OE.NOT_FOUND:return zb.NOT_FOUND;case OE.ALREADY_EXISTS:return zb.ALREADY_EXISTS;case OE.PERMISSION_DENIED:return zb.PERMISSION_DENIED;case OE.FAILED_PRECONDITION:return zb.FAILED_PRECONDITION;case OE.ABORTED:return zb.ABORTED;case OE.OUT_OF_RANGE:return zb.OUT_OF_RANGE;case OE.UNIMPLEMENTED:return zb.UNIMPLEMENTED;case OE.DATA_LOSS:return zb.DATA_LOSS;default:return Zb()}}(RE=OE||(OE={}))[RE.OK=0]="OK",RE[RE.CANCELLED=1]="CANCELLED",RE[RE.UNKNOWN=2]="UNKNOWN",RE[RE.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",RE[RE.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",RE[RE.NOT_FOUND=5]="NOT_FOUND",RE[RE.ALREADY_EXISTS=6]="ALREADY_EXISTS",RE[RE.PERMISSION_DENIED=7]="PERMISSION_DENIED",RE[RE.UNAUTHENTICATED=16]="UNAUTHENTICATED",RE[RE.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",RE[RE.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",RE[RE.ABORTED=10]="ABORTED",RE[RE.OUT_OF_RANGE=11]="OUT_OF_RANGE",RE[RE.UNIMPLEMENTED=12]="UNIMPLEMENTED",RE[RE.INTERNAL=13]="INTERNAL",RE[RE.UNAVAILABLE=14]="UNAVAILABLE",RE[RE.DATA_LOSS=15]="DATA_LOSS";class PE{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){hw(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return dw(this.inner)}size(){return this.innerSize}}class LE{constructor(e,t){this.comparator=e,this.root=t||ME.EMPTY}insert(e,t){return new LE(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ME.BLACK,null,null))}remove(e){return new LE(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ME.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new FE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new FE(this.root,e,this.comparator,!1)}getReverseIterator(){return new FE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new FE(this.root,e,this.comparator,!0)}}class FE{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ME{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ME.RED,this.left=null!=r?r:ME.EMPTY,this.right=null!=i?i:ME.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ME(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ME.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ME.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ME.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ME.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Zb();if(this.right.isRed())throw Zb();const e=this.left.check();if(e!==this.right.check())throw Zb();return e+(this.isRed()?0:1)}}ME.EMPTY=null,ME.RED=!0,ME.BLACK=!1,ME.EMPTY=new class{constructor(){this.size=0}get key(){throw Zb()}get value(){throw Zb()}get color(){throw Zb()}get left(){throw Zb()}get right(){throw Zb()}copy(e,t,n,r,i){return this}insert(e,t,n){return new ME(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class VE{constructor(e){this.comparator=e,this.data=new LE(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new UE(this.data.getIterator())}getIteratorFrom(e){return new UE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof VE))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new VE(this.comparator);return t.data=e,t}}class UE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function qE(e){return e.hasNext()?e.getNext():void 0}const jE=new LE(Rw.comparator);function ZE(){return jE}const BE=new LE(Rw.comparator);function HE(){return BE}function zE(){return new PE(e=>e.toString(),(e,t)=>e.isEqual(t))}const GE=new LE(Rw.comparator),$E=new VE(Rw.comparator);function KE(...e){let t=$E;for(const n of e)t=t.add(n);return t}const YE=new VE(sw);function WE(){return YE}class QE{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,JE.createSynthesizedTargetChangeForCurrentChange(e,t)),new QE(cw.min(),n,WE(),ZE(),KE())}}class JE{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new JE(_w.EMPTY_BYTE_STRING,t,KE(),KE(),KE())}}class XE{constructor(e,t,n,r){this.O=e,this.removedTargetIds=t,this.key=n,this.F=r}}class eC{constructor(e,t){this.targetId=e,this.$=t}}class tC{constructor(e,t,n=_w.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class nC{constructor(){this.B=0,this.L=sC(),this.U=_w.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=KE(),t=KE(),n=KE();return this.L.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Zb()}}),new JE(this.U,this.q,e,t,n)}J(){this.K=!1,this.L=sC()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class rC{constructor(e){this.nt=e,this.st=new Map,this.it=ZE(),this.rt=iC(),this.ot=new VE(sw)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const n=this.lt(t);switch(e.state){case 0:this.ft(t)&&n.W(e.resumeToken);break;case 1:n.tt(),n.G||n.J(),n.W(e.resumeToken);break;case 2:n.tt(),n.G||this.removeTarget(t);break;case 3:this.ft(t)&&(n.et(),n.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),n.W(e.resumeToken));break;default:Zb()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((e,n)=>{this.ft(n)&&t(n)})}_t(e){const t=e.targetId,n=e.$.count,r=this.wt(t);if(r){const e=r.target;if(mS(e))if(0===n){const n=new Rw(e.path);this.ct(t,n,tS.newNoDocument(n,cw.min()))}else Bb(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((n,r)=>{const i=this.wt(r);if(i){if(n.current&&mS(i.target)){const t=new Rw(i.target.path);null!==this.it.get(t)||this.It(r,t)||this.ct(r,t,tS.newNoDocument(t,e))}n.j&&(t.set(r,n.H()),n.J())}});let n=KE();this.rt.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.wt(e);return!t||2===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.it.forEach((t,n)=>n.setReadTime(e));const r=new QE(e,t,this.ot,this.it,n);return this.it=ZE(),this.rt=iC(),this.ot=new VE(sw),r}at(e,t){if(!this.ft(e))return;const n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,n){if(!this.ft(e))return;const r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new nC,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new VE(sw),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Vb("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new nC),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function iC(){return new LE(Rw.comparator)}function sC(){return new LE(Rw.comparator)}const oC={asc:"ASCENDING",desc:"DESCENDING"},aC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class lC{constructor(e,t){this.databaseId=e,this.N=t}}function cC(e,t){return e.N?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function uC(e,t){return e.N?t.toBase64():t.toUint8Array()}function hC(e,t){return cC(e,t.toTimestamp())}function dC(e){return Bb(!!e),cw.fromTimestamp(function(e){const t=bw(e);return new lw(t.seconds,t.nanos)}(e))}function pC(e,t){return function(e){return new fw(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function fC(e){const t=fw.fromString(e);return Bb(FC(t)),t}function mC(e,t){return pC(e.databaseId,t.path)}function gC(e,t){const n=fC(t);if(n.get(1)!==e.databaseId.projectId)throw new Gb(zb.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Gb(zb.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Rw(bC(n))}function yC(e,t){return pC(e.databaseId,t)}function _C(e){const t=fC(e);return 4===t.length?fw.emptyPath():bC(t)}function vC(e){return new fw(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function bC(e){return Bb(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function wC(e,t,n){return{name:mC(e,t),fields:n.value.mapValue.fields}}function SC(e,t,n){const r=gC(e,t.name),i=dC(t.updateTime),s=new Xw({mapValue:{fields:t.fields}}),o=tS.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function EC(e,t){let n;if(t instanceof SE)n={update:wC(e,t.key,t.value)};else if(t instanceof kE)n={delete:mC(e,t.key)};else if(t instanceof EE)n={update:wC(e,t.key,t.data),updateMask:LC(t.fieldMask)};else{if(!(t instanceof xE))return Zb();n={verify:mC(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof iE)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof sE)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof aE)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof cE)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Zb()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:hC(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Zb()}(e,t.precondition)),n}function CC(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?fE.updateTime(dC(e.updateTime)):void 0!==e.exists?fE.exists(e.exists):fE.none()}(t.currentDocument):fE.none(),r=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;"setToServerValue"in t?(Bb("REQUEST_TIME"===t.setToServerValue),n=new iE):"appendMissingElements"in t?n=new sE(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new aE(t.removeAllFromArray.values||[]):"increment"in t?n=new cE(e,t.increment):Zb();const r=gw.fromServerFormat(t.fieldPath);return new dE(r,n)}(e,t)):[];if(t.update){const i=gC(e,t.update.name),s=new Xw({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){return new yw((e.fieldPaths||[]).map(e=>gw.fromServerFormat(e)))}(t.updateMask);return new EE(i,s,e,n,r)}return new SE(i,s,n,r)}if(t.delete){const r=gC(e,t.delete);return new kE(r,n)}if(t.verify){const r=gC(e,t.verify);return new xE(r,n)}return Zb()}function TC(e,t){return{documents:[yC(e,t.path)]}}function IC(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=yC(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=yC(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map(e=>function(e){if("=="===e.op){if(zw(e.value))return{unaryFilter:{field:RC(e.field),op:"IS_NAN"}};if(Hw(e.value))return{unaryFilter:{field:RC(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(zw(e.value))return{unaryFilter:{field:RC(e.field),op:"IS_NOT_NAN"}};if(Hw(e.value))return{unaryFilter:{field:RC(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:RC(e.field),op:OC(e.op),value:e.value}}}(e));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:RC(e.field),direction:AC(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(e,t){return e.N||xw(t)?t:{value:t}}(e,t.limit);var a;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function kC(e){let t=_C(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Bb(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=xC(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(e=>function(e){return new AS(DC(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,xw(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){return new xS(e.values||[],!!e.before)}(n.startAt));let c=null;return n.endAt&&(c=function(e){return new xS(e.values||[],!e.before)}(n.endAt)),PS(t,i,o,s,a,"F",l,c)}function xC(e){return e?void 0!==e.unaryFilter?[PC(e)]:void 0!==e.fieldFilter?[NC(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(e=>xC(e)).reduce((e,t)=>e.concat(t)):Zb():[]}function AC(e){return oC[e]}function OC(e){return aC[e]}function RC(e){return{fieldPath:e.canonicalString()}}function DC(e){return gw.fromServerFormat(e.fieldPath)}function NC(e){return vS.create(DC(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Zb()}}(e.fieldFilter.op),e.fieldFilter.value)}function PC(e){switch(e.unaryFilter.op){case"IS_NAN":const t=DC(e.unaryFilter.field);return vS.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=DC(e.unaryFilter.field);return vS.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=DC(e.unaryFilter.field);return vS.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=DC(e.unaryFilter.field);return vS.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Zb()}}function LC(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function FC(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function MC(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=UC(t)),t=VC(e.get(n),t);return UC(t)}function VC(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function UC(e){return e+"\x01\x01"}function qC(e){const t=e.length;if(Bb(t>=2),2===t)return Bb("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),fw.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&Zb(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:Zb()}s=t+2}return new fw(r)}const jC=["userId","batchId"];function ZC(e,t){return[e,MC(t)]}function BC(e,t,n){return[e,MC(t),n]}const HC={},zC=["prefixPath","collectionGroup","readTime","documentId"],GC=["prefixPath","collectionGroup","documentId"],$C=["collectionGroup","readTime","prefixPath","documentId"],KC=["canonicalId","targetId"],YC=["targetId","path"],WC=["path","targetId"],QC=["collectionId","parent"],JC=["indexId","uid"],XC=["uid","sequenceNumber"],eT=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],tT=["indexId","uid","orderedDocumentKey"],nT=["userId","collectionPath","documentId"],rT=["userId","collectionPath","largestBatchId"],iT=["userId","collectionGroup","largestBatchId"],sT=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],oT=[...sT,"documentOverlays"],aT=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],lT=[...aT,"indexConfiguration","indexState","indexEntries"],cT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class hT{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Zb(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new hT((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof hT?t:hT.resolve(t)}catch(e){return hT.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):hT.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):hT.reject(t)}static resolve(e){return new hT((t,n)=>{t(e)})}static reject(e){return new hT((t,n)=>{n(e)})}static waitFor(e){return new hT((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=hT.resolve(!1);for(const n of e)t=t.next(e=>e?hT.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}}class dT{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new $b,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new mT(e,t.error)):this.At.resolve()},this.transaction.onerror=t=>{const n=bT(t.target.error);this.At.reject(new mT(e,n))}}static open(e,t,n,r){try{return new dT(t,e.transaction(r,n))}catch(e){throw new mT(t,e)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Vb("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new yT(t)}}class pT{constructor(e,t,n){this.name=e,this.version=t,this.bt=n,12.2===pT.Vt((0,ss.z$)())&&Ub("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Vb("SimpleDb","Removing database:",e),_T(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,ss.hl)())return!1;if(pT.St())return!0;const e=(0,ss.z$)(),t=pT.Vt(e),n=0<t&&t<10,r=pT.Dt(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}Nt(e){var t=this;return(0,zi.Z)(function*(){return t.db||(Vb("SimpleDb","Opening database:",t.name),t.db=yield new Promise((n,r)=>{const i=indexedDB.open(t.name,t.version);i.onsuccess=e=>{n(e.target.result)},i.onblocked=()=>{r(new mT(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=t=>{const n=t.target.error;r("VersionError"===n.name?new Gb(zb.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===n.name?new Gb(zb.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n):new mT(e,n))},i.onupgradeneeded=e=>{Vb("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',e.oldVersion),t.bt.kt(e.target.result,i.transaction,e.oldVersion,t.version).next(()=>{Vb("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=e=>t.Mt(e)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,n,r){var i=this;return(0,zi.Z)(function*(){const s="readonly"===t;let o=0;for(;;){++o;try{i.db=yield i.Nt(e);const t=dT.open(i.db,e,s?"readonly":"readwrite",n),o=r(t).next(e=>(t.Pt(),e)).catch(e=>(t.abort(e),hT.reject(e))).toPromise();return o.catch(()=>{}),yield t.Rt,o}catch(e){const n="FirebaseError"!==e.name&&o<3;if(Vb("SimpleDb","Transaction failed with error:",e.message,"Retrying:",n),i.close(),!n)return Promise.reject(e)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class fT{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return _T(this.Ft.delete())}}class mT extends Gb{constructor(e,t){super(zb.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function gT(e){return"IndexedDbTransactionError"===e.name}class yT{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Vb("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Vb("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),_T(n)}add(e){return Vb("SimpleDb","ADD",this.store.name,e,e),_T(this.store.add(e))}get(e){return _T(this.store.get(e)).next(t=>(void 0===t&&(t=null),Vb("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Vb("SimpleDb","DELETE",this.store.name,e),_T(this.store.delete(e))}count(){return Vb("SimpleDb","COUNT",this.store.name),_T(this.store.count())}qt(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.Kt(e,(e,n)=>{t.push(n)}).next(()=>t)}{const e=this.store.getAll(n.range);return new hT((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}})}}Gt(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new hT((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}})}Qt(e,t){Vb("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.jt=!1;const r=this.cursor(n);return this.Kt(r,(e,t,n)=>n.delete())}Wt(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Kt(r,t)}zt(e){const t=this.cursor({});return new hT((n,r)=>{t.onerror=e=>{const t=bT(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}Kt(e,t){const n=[];return new hT((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new fT(i),o=t(i.primaryKey,i.value,s);if(o instanceof hT){const e=o.catch(e=>(s.done(),hT.reject(e)));n.push(e)}s.isDone?r():null===s.Lt?i.continue():i.continue(s.Lt)}}).next(()=>hT.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function _T(e){return new hT((t,n)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{const t=bT(e.target.error);n(t)}})}let vT=!1;function bT(e){const t=pT.Vt((0,ss.z$)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Gb("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vT||(vT=!0,setTimeout(()=>{throw e},0)),e}}return e}class wT extends uT{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function ST(e,t){const n=Hb(e);return pT.xt(n.Ht,t)}class ET{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&yE(t,e,n[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&_E(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&_E(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(cw.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),KE())}isEqual(e){return this.batchId===e.batchId&&ow(this.mutations,e.mutations,(e,t)=>bE(e,t))&&ow(this.baseMutations,e.baseMutations,(e,t)=>bE(e,t))}}class CT{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Bb(e.mutations.length===n.length);let r=GE;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new CT(e,t,n,r)}}class TT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class IT{constructor(e,t,n,r,i=cw.min(),s=cw.min(),o=_w.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(e){return new IT(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new IT(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new IT(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class kT{constructor(e){this.Jt=e}}function xT(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:AT(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:mC(e,t.key),fields:t.data.value.mapValue.fields,updateTime:cC(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:OT(t.version)};else{if(!t.isUnknownDocument())return Zb();r.unknownDocument={path:n.path.toArray(),version:OT(t.version)}}return r}function AT(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function OT(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function RT(e){const t=new lw(e.seconds,e.nanoseconds);return cw.fromTimestamp(t)}function DT(e,t){const n=(t.baseMutations||[]).map(t=>CC(e.Jt,t));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(e.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const r=t.mutations.map(t=>CC(e.Jt,t)),i=lw.fromMillis(t.localWriteTimeMs);return new ET(t.batchId,i,n,r)}function NT(e){const t=RT(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?RT(e.lastLimboFreeSnapshotVersion):cw.min();let r;var i;return void 0!==e.query.documents?(Bb(1===(i=e.query).documents.length),r=ZS(LS(_C(i.documents[0])))):r=function(e){return ZS(kC(e))}(e.query),new IT(r,e.targetId,0,e.lastListenSequenceNumber,t,n,_w.fromBase64String(e.resumeToken))}function PT(e,t){const n=OT(t.snapshotVersion),r=OT(t.lastLimboFreeSnapshotVersion);let i;i=mS(t.target)?TC(e.Jt,t.target):IC(e.Jt,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:pS(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function LT(e){const t=kC({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?BS(t,t.limit,"L"):t}function FT(e,t){return new TT(t.largestBatchId,CC(e.Jt,t.overlayMutation))}function MT(e,t){const n=t.path.lastSegment();return[e,MC(t.path.popLast()),n]}class VT{getBundleMetadata(e,t){return UT(e).get(t).next(e=>{if(e)return{id:(t=e).bundleId,createTime:RT(t.createTime),version:t.version};var t})}saveBundleMetadata(e,t){return UT(e).put({bundleId:(n=t).id,createTime:OT(dC(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return qT(e).get(t).next(e=>{if(e)return{name:(t=e).name,query:LT(t.bundledQuery),readTime:RT(t.readTime)};var t})}saveNamedQuery(e,t){return qT(e).put(function(e){return{name:e.name,readTime:OT(dC(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function UT(e){return ST(e,"bundles")}function qT(e){return ST(e,"namedQueries")}class jT{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new jT(e,t.uid||"")}getOverlay(e,t){return ZT(e).get(MT(this.userId,t)).next(e=>e?FT(this.M,e):null)}saveOverlays(e,t,n){const r=[];return n.forEach((n,i)=>{const s=new TT(t,i);r.push(this.Xt(e,s))}),hT.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach(e=>r.add(MC(e.getCollectionPath())));const i=[];return r.forEach(t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(ZT(e).Qt("collectionPathOverlayIndex",r))}),hT.waitFor(i)}getOverlaysForCollection(e,t,n){const r=zE(),i=MC(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return ZT(e).qt("collectionPathOverlayIndex",s).next(e=>{for(const t of e){const e=FT(this.M,t);r.set(e.getKey(),e)}return r})}getOverlaysForCollectionGroup(e,t,n,r){const i=zE();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ZT(e).Wt({index:"collectionGroupOverlayIndex",range:o},(e,t,n)=>{const o=FT(this.M,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()}).next(()=>i)}Xt(e,t){return ZT(e).put(function(e,t,n){const[r,i,s]=MT(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:EC(e.Jt,n.mutation)}}(this.M,this.userId,t))}}function ZT(e){return ST(e,"documentOverlays")}class BT{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(ww(e.integerValue));else if("doubleValue"in e){const n=ww(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),Aw(n)?t.se(0):t.se(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ne(t,20),"string"==typeof n?t.ie(n):(t.ie(`${n.seconds||""}`),t.se(n.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Sw(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ne(t,45),t.se(n.latitude||0),t.se(n.longitude||0)}else"mapValue"in e?Kw(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Zb()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const n=e.fields||{};this.ne(t,55);for(const r of Object.keys(n))this.re(r,t),this.te(n[r],t)}he(e,t){const n=e.values||[];this.ne(t,50);for(const r of n)this.te(r,t)}ae(e,t){this.ne(t,37),Rw.fromName(e).path.forEach(e=>{this.ne(t,60),this.le(e,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function HT(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function zT(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=HT(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}BT.fe=new BT;class GT{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this._e(n.value),n=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.ge(n.value),n=t.next();this.ye()}pe(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this._e(e);else if(e<2048)this._e(960|e>>>6),this._e(128|63&e);else if(t<"\ud800"||"\udbff"<t)this._e(480|e>>>12),this._e(128|63&e>>>6),this._e(128|63&e);else{const e=t.codePointAt(0);this._e(240|e>>>18),this._e(128|63&e>>>12),this._e(128|63&e>>>6),this._e(128|63&e)}}this.we()}Ie(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.ge(e);else if(e<2048)this.ge(960|e>>>6),this.ge(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.ge(480|e>>>12),this.ge(128|63&e>>>6),this.ge(128|63&e);else{const e=t.codePointAt(0);this.ge(240|e>>>18),this.ge(128|63&e>>>12),this.ge(128|63&e>>>6),this.ge(128|63&e)}}this.ye()}Te(e){const t=this.Ee(e),n=zT(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Re(e){const t=this.Ee(e),n=zT(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}_e(e){const t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class $T{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class KT{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class YT{constructor(){this.De=new GT,this.Ce=new $T(this.De),this.xe=new KT(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class WT{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new WT(this.indexId,this.documentKey,this.arrayValue,n)}}function QT(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=JT(e.arrayValue,t.arrayValue),0!==n?n:(n=JT(e.directionalValue,t.directionalValue),0!==n?n:Rw.comparator(e.documentKey,t.documentKey)))}function JT(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class XT{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const e=t;e.S()?this.Fe=e:this.Oe.push(e)}}$e(e){const t=rS(e);if(void 0!==t&&!this.Be(t))return!1;const n=iS(e);let r=0,i=0;for(;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){const e=n[r];if(!this.Le(this.Fe,e)||!this.Ue(this.Me[i++],e))return!1;++r}for(;r<n.length;++r){const e=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],e))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class eI{constructor(){this.qe=new tI}addToCollectionParentIndex(e,t){return this.qe.add(t),hT.resolve()}getCollectionParents(e,t){return hT.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return hT.resolve()}deleteFieldIndex(e,t){return hT.resolve()}getDocumentsMatchingTarget(e,t){return hT.resolve(null)}getFieldIndex(e,t){return hT.resolve(null)}getFieldIndexes(e,t){return hT.resolve([])}getNextCollectionGroupToUpdate(e){return hT.resolve(null)}updateCollectionGroup(e,t,n){return hT.resolve()}updateIndexEntries(e,t){return hT.resolve()}}class tI{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new VE(fw.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new VE(fw.comparator)).toArray()}}const nI=new Uint8Array(0);class rI{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new tI,this.Ge=new PE(e=>pS(e),(e,t)=>fS(e,t)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const i={collectionId:n,parent:MC(r)};return iI(e).put(i)}return hT.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[aw(t),""],!1,!0);return iI(e).qt(r).next(e=>{for(const r of e){if(r.collectionId!==t)break;n.push(qC(r.parent))}return n})}addFieldIndex(e,t){const n=oI(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map(e=>[e.fieldPath.canonicalString(),e.kind])}}(t);return delete r.indexId,n.add(r).next()}deleteFieldIndex(e,t){const n=oI(e),r=aI(e),i=sI(e);return n.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const n=sI(e);let r=!0;const i=new Map;return hT.forEach(this.Qe(t),t=>this.getFieldIndex(e,t).next(e=>{r&&(r=!!e),i.set(t,e)})).next(()=>{if(r){let e=KE();const r=[];return hT.forEach(i,(i,s)=>{var o;Vb("IndexedDbIndexManager",`Using index ${o=i,`id=${o.indexId}|cg=${o.collectionGroup}|f=${o.fields.map(e=>`${e.fieldPath}:${e.kind}`).join(",")}`} to execute ${pS(t)}`);const a=function(e,t){const n=rS(t);if(void 0===n)return null;for(const r of gS(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),l=function(e,t){const n=new Map;for(const r of iS(t))for(const t of gS(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of iS(t)){const t=0===i.kind?yS(e,i.fieldPath,e.startAt):_S(e,i.fieldPath,e.startAt);if(!t.value)return null;n.push(t.value),r&&(r=t.inclusive)}return new xS(n,r)}(s,i),u=function(e,t){const n=[];let r=!0;for(const i of iS(t)){const t=0===i.kind?_S(e,i.fieldPath,e.endAt):yS(e,i.fieldPath,e.endAt);if(!t.value)return null;n.push(t.value),r&&(r=t.inclusive)}return new xS(n,r)}(s,i),h=this.je(i,s,c),d=this.je(i,s,u),p=this.We(i,s,l),f=this.ze(i.indexId,a,h,!!c&&c.inclusive,d,!!u&&u.inclusive,p);return hT.forEach(f,i=>n.Gt(i,t.limit).next(t=>{t.forEach(t=>{const n=Rw.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))})}))}).next(()=>r)}return hT.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}ze(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.He(t[u/l]):nI,h=n?this.Je(e,a,n[u%l],r):this.Ye(e),d=i?this.Xe(e,a,i[u%l],s):this.Ye(e+1);c.push(...this.createRange(h,d,o.map(t=>this.Je(e,a,t,!0))))}return c}Je(e,t,n,r){const i=new WT(e,Rw.empty(),t,n);return r?i:i.ke()}Xe(e,t,n,r){const i=new WT(e,Rw.empty(),t,n);return r?i.ke():i}Ye(e){return new WT(e,Rw.empty(),nI,nI)}getFieldIndex(e,t){const n=new XT(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(e=>{const t=e.filter(e=>n.$e(e));return t.sort((e,t)=>t.fields.length-e.fields.length),t.length>0?t[0]:null})}Ze(e,t){const n=new YT;for(const r of iS(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Ne(r.kind);BT.fe.Zt(e,i)}return n.Se()}He(e){const t=new YT;return BT.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const n=new YT;return BT.fe.Zt(jw(this.databaseId,t),n.Ne(function(e){const t=iS(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Se()}We(e,t,n){if(null===n)return[];let r=[];r.push(new YT);let i=0;for(const s of iS(e)){const e=n[i++];for(const n of r)if(this.en(t,s.fieldPath)&&Bw(e))r=this.nn(r,s,e);else{const t=n.Ne(s.kind);BT.fe.Zt(e,t)}}return this.sn(r)}je(e,t,n){return null==n?null:this.We(e,t,n.position)}sn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Se();return t}nn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new YT;n.seed(e.Se()),BT.fe.Zt(s,n.Ne(t.kind)),i.push(n)}return i}en(e,t){return!!e.filters.find(e=>e instanceof vS&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op))}getFieldIndexes(e,t){const n=oI(e),r=aI(e);return(t?n.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.qt()).next(e=>{const t=[];return hT.forEach(e,e=>r.get([e.indexId,this.uid]).next(n=>{t.push(function(e,t){const n=t?new oS(t.sequenceNumber,new cS(RT(t.readTime),new Rw(qC(t.documentKey)),t.largestBatchId)):oS.empty(),r=e.fields.map(([e,t])=>new sS(gw.fromServerFormat(e),t));return new nS(e.indexId,e.collectionGroup,r,n)}(e,n))})).next(()=>t)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(e=>0===e.length?null:(e.sort((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:sw(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(e,t,n){const r=oI(e),i=aI(e);return this.rn(e).next(e=>r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(t=>hT.forEach(t,t=>i.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:OT(r.readTime),documentKey:MC(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,this.user,e,n)))))}updateIndexEntries(e,t){const n=new Map;return hT.forEach(t,(t,r)=>{const i=n.get(t.collectionGroup);return(i?hT.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next(i=>(n.set(t.collectionGroup,i),hT.forEach(i,n=>this.on(e,t,n).next(t=>{const i=this.un(r,n);return t.isEqual(i)?hT.resolve():this.an(e,r,n,t,i)}))))})}cn(e,t,n,r){return sI(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(n,t.key),documentKey:t.key.path.toArray()})}hn(e,t,n,r){return sI(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(n,t.key),t.key.path.toArray()])}on(e,t,n){const r=sI(e);let i=new VE(QT);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.tn(n,t)])},(e,r)=>{i=i.add(new WT(n.indexId,t,r.arrayValue,r.directionalValue))}).next(()=>i)}un(e,t){let n=new VE(QT);const r=this.Ze(t,e);if(null==r)return n;const i=rS(t);if(null!=i){const s=e.data.field(i.fieldPath);if(Bw(s))for(const i of s.arrayValue.values||[])n=n.add(new WT(t.indexId,e.key,this.He(i),r))}else n=n.add(new WT(t.indexId,e.key,nI,r));return n}an(e,t,n,r,i){Vb("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=qE(s),l=qE(o);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=qE(o)):t?(i(a),a=qE(s)):(a=qE(s),l=qE(o))}}(r,i,QT,r=>{s.push(this.cn(e,t,n,r))},r=>{s.push(this.hn(e,t,n,r))}),hT.waitFor(s)}rn(e){let t=1;return aI(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,n,r)=>{r.done(),t=n.sequenceNumber+1}).next(()=>t)}createRange(e,t,n){n=n.sort((e,t)=>QT(e,t)).filter((e,t,n)=>!t||0!==QT(e,n[t-1]));const r=[];r.push(e);for(const s of n){const n=QT(s,e),i=QT(s,t);if(0===n)r[0]=e.ke();else if(n>0&&i<0)r.push(s),r.push(s.ke());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2)i.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,nI,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,nI,[]]));return i}}function iI(e){return ST(e,"collectionParents")}function sI(e){return ST(e,"indexEntries")}function oI(e){return ST(e,"indexConfiguration")}function aI(e){return ST(e,"indexState")}const lI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class cI{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new cI(e,cI.DEFAULT_COLLECTION_PERCENTILE,cI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function uI(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Wt({range:o},(e,t,n)=>(a++,n.delete()));s.push(l.next(()=>{Bb(1===a)}));const c=[];for(const u of n.mutations){const e=BC(t,u.key.path,n.batchId);s.push(i.delete(e)),c.push(u.key)}return hT.waitFor(s).next(()=>c)}function hI(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Zb();t=e.noDocument}return JSON.stringify(t).length}cI.DEFAULT_COLLECTION_PERCENTILE=10,cI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cI.DEFAULT=new cI(41943040,cI.DEFAULT_COLLECTION_PERCENTILE,cI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cI.DISABLED=new cI(-1,0,0);class dI{constructor(e,t,n,r){this.userId=e,this.M=t,this.indexManager=n,this.referenceDelegate=r,this.ln={}}static Yt(e,t,n,r){Bb(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new dI(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fI(e).Wt({index:"userMutationsIndex",range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const i=mI(e),s=fI(e);return s.add({}).next(o=>{Bb("number"==typeof o);const a=new ET(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map(t=>EC(e.Jt,t)),i=n.mutations.map(t=>EC(e.Jt,t));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.M,this.userId,a),c=[];let u=new VE((e,t)=>sw(e.canonicalString(),t.canonicalString()));for(const e of r){const t=BC(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),c.push(s.put(l)),c.push(i.put(t,HC))}return u.forEach(t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.ln[o]=a.keys()}),hT.waitFor(c).next(()=>a)})}lookupMutationBatch(e,t){return fI(e).get(t).next(e=>e?(Bb(e.userId===this.userId),DT(this.M,e)):null)}fn(e,t){return this.ln[t]?hT.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.ln[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return fI(e).Wt({index:"userMutationsIndex",range:r},(e,t,r)=>{t.userId===this.userId&&(Bb(t.batchId>=n),i=DT(this.M,t)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return fI(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fI(e).qt("userMutationsIndex",t).next(e=>e.map(e=>DT(this.M,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=ZC(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return mI(e).Wt({range:r},(n,r,s)=>{const[o,a,l]=n,c=qC(a);if(o===this.userId&&t.path.isEqual(c))return fI(e).get(l).next(e=>{if(!e)throw Zb();Bb(e.userId===this.userId),i.push(DT(this.M,e))});s.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new VE(sw);const r=[];return t.forEach(t=>{const i=ZC(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=mI(e).Wt({range:s},(e,r,i)=>{const[s,o,a]=e,l=qC(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()});r.push(o)}),hT.waitFor(r).next(()=>this.dn(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=ZC(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new VE(sw);return mI(e).Wt({range:s},(e,t,i)=>{const[s,a,l]=e,c=qC(a);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(o=o.add(l)):i.done()}).next(()=>this.dn(e,o))}dn(e,t){const n=[],r=[];return t.forEach(t=>{r.push(fI(e).get(t).next(e=>{if(null===e)throw Zb();Bb(e.userId===this.userId),n.push(DT(this.M,e))}))}),hT.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return uI(e.Ht,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),hT.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return hT.resolve();const n=IDBKeyRange.lowerBound([this.userId]),r=[];return mI(e).Wt({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=qC(e[1]);r.push(t)}else n.done()}).next(()=>{Bb(0===r.length)})})}containsKey(e,t){return pI(e,this.userId,t)}wn(e){return gI(e).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function pI(e,t,n){const r=ZC(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return mI(e).Wt({range:s,jt:!0},(e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()}).next(()=>o)}function fI(e){return ST(e,"mutations")}function mI(e){return ST(e,"documentMutations")}function gI(e){return ST(e,"mutationQueues")}class yI{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new yI(0)}static yn(){return new yI(-1)}}class _I{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const n=new yI(t.highestTargetId);return t.highestTargetId=n.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(e=>cw.fromTimestamp(new lw(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.pn(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.In(e,r)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(n=>(n.targetCount+=1,this.En(t,n),this.In(e,n))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>vI(e).delete(t.targetId)).next(()=>this.pn(e)).next(t=>(Bb(t.targetCount>0),t.targetCount-=1,this.In(e,t)))}removeTargets(e,t,n){let r=0;const i=[];return vI(e).Wt((s,o)=>{const a=NT(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))}).next(()=>hT.waitFor(i)).next(()=>r)}forEachTarget(e,t){return vI(e).Wt((e,n)=>{const r=NT(n);t(r)})}pn(e){return bI(e).get("targetGlobalKey").next(e=>(Bb(null!==e),e))}In(e,t){return bI(e).put("targetGlobalKey",t)}Tn(e,t){return vI(e).put(PT(this.M,t))}En(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.pn(e).next(e=>e.targetCount)}getTargetData(e,t){const n=pS(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return vI(e).Wt({range:r,index:"queryTargetsIndex"},(e,n,r)=>{const s=NT(n);fS(t,s.target)&&(i=s,r.done())}).next(()=>i)}addMatchingKeys(e,t,n){const r=[],i=wI(e);return t.forEach(t=>{const s=MC(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))}),hT.waitFor(r)}removeMatchingKeys(e,t,n){const r=wI(e);return hT.forEach(t,t=>{const i=MC(t.path);return hT.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=wI(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=wI(e);let i=KE();return r.Wt({range:n,jt:!0},(e,t,n)=>{const r=qC(e[1]),s=new Rw(r);i=i.add(s)}).next(()=>i)}containsKey(e,t){const n=MC(t.path),r=IDBKeyRange.bound([n],[aw(n)],!1,!0);let i=0;return wI(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},([e,t],n,r)=>{0!==e&&(i++,r.done())}).next(()=>i>0)}Et(e,t){return vI(e).get(t).next(e=>e?NT(e):null)}}function vI(e){return ST(e,"targets")}function bI(e){return ST(e,"targetGlobal")}function wI(e){return ST(e,"targetDocuments")}function SI(e){return EI.apply(this,arguments)}function EI(){return(EI=(0,zi.Z)(function*(e){if(e.code!==zb.FAILED_PRECONDITION||e.message!==cT)throw e;Vb("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function CI([e,t],[n,r]){const i=sw(e,n);return 0===i?sw(t,r):i}class TI{constructor(e){this.An=e,this.buffer=new VE(CI),this.Rn=0}Pn(){return++this.Rn}bn(e){const t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();CI(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class II{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const n=this.Vn?3e5:6e4;Vb("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,zi.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(e){gT(e)?Vb("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):yield SI(e)}yield t.Sn(e)}))}}class kI{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return hT.resolve(nw.A);const n=new TI(t);return this.Dn.forEachTarget(e,e=>n.bn(e.sequenceNumber)).next(()=>this.Dn.xn(e,e=>n.bn(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Dn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Vb("LruGarbageCollector","Garbage collection skipped; disabled"),hT.resolve(lI)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Vb("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lI):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let n,r,i,s,o,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Vb("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Mb()<=os.in.DEBUG&&Vb("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${e} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-c}ms`),hT.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}class xI{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new kI(e,t)}(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}kn(e){let t=0;return this.xn(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(e,n)=>t(n))}addReference(e,t,n){return AI(e,n)}removeReference(e,t,n){return AI(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return AI(e,t)}On(e,t){return function(e,t){let n=!1;return gI(e).zt(r=>pI(e,r,t).next(e=>(e&&(n=!0),hT.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Mn(e,(s,o)=>{if(o<=t){const t=this.On(e,s).next(t=>{if(!t)return i++,n.getEntry(e,s).next(()=>(n.removeEntry(s,cw.min()),wI(e).delete([0,MC(s.path)])))});r.push(t)}}).next(()=>hT.waitFor(r)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return AI(e,t)}Mn(e,t){const n=wI(e);let r,i=nw.A;return n.Wt({index:"documentTargetsIndex"},([e,n],{path:s,sequenceNumber:o})=>{0===e?(i!==nw.A&&t(new Rw(qC(r)),i),i=o,r=s):i=nw.A}).next(()=>{i!==nw.A&&t(new Rw(qC(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function AI(e,t){return wI(e).put(function(e,t){return{targetId:0,path:MC(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class OI{constructor(){this.changes=new PE(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tS.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?hT.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class RI{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return PI(e).put(n)}removeEntry(e,t,n){return PI(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],AT(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Fn(e,n)))}getEntry(e,t){let n=tS.newInvalidDocument(t);return PI(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(LI(t))},(e,r)=>{n=this.$n(t,r)}).next(()=>n)}Bn(e,t){let n={size:0,document:tS.newInvalidDocument(t)};return PI(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(LI(t))},(e,r)=>{n={document:this.$n(t,r),size:hI(r)}}).next(()=>n)}getEntries(e,t){let n=ZE();return this.Ln(e,t,(e,t)=>{const r=this.$n(e,t);n=n.insert(e,r)}).next(()=>n)}Un(e,t){let n=ZE(),r=new LE(Rw.comparator);return this.Ln(e,t,(e,t)=>{const i=this.$n(e,t);n=n.insert(e,i),r=r.insert(e,hI(t))}).next(()=>({documents:n,qn:r}))}Ln(e,t,n){if(t.isEmpty())return hT.resolve();let r=new VE(MI);t.forEach(e=>r=r.add(e));const i=IDBKeyRange.bound(LI(r.first()),LI(r.last())),s=r.getIterator();let o=s.getNext();return PI(e).Wt({index:"documentKeyIndex",range:i},(e,t,r)=>{const i=Rw.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&MI(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.Ut(LI(o)):r.done()}).next(()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null})}getAllFromCollection(e,t,n){const r=[t.popLast().toArray(),t.lastSegment(),AT(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],i=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return PI(e).qt(IDBKeyRange.bound(r,i,!0)).next(e=>{let t=ZE();for(const n of e){const e=this.$n(Rw.fromSegments(n.prefixPath.concat(n.collectionGroup,n.documentId)),n);t=t.insert(e.key,e)}return t})}getAllFromCollectionGroup(e,t,n,r){let i=ZE();const s=FI(t,n),o=FI(t,cS.max());return PI(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},(e,t,n)=>{const s=this.$n(Rw.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()}).next(()=>i)}newChangeBuffer(e){return new DI(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return NI(e).get("remoteDocumentGlobalKey").next(e=>(Bb(!!e),e))}Fn(e,t){return NI(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const e=function(e,t){let n;if(t.document)n=SC(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Rw.fromSegments(t.noDocument.path),r=RT(t.noDocument.readTime);n=tS.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Zb();{const e=Rw.fromSegments(t.unknownDocument.path),r=RT(t.unknownDocument.version);n=tS.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new lw(e[0],e[1]);return cw.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!e.isNoDocument()||!e.version.isEqual(cw.min()))return e}return tS.newInvalidDocument(e)}}class DI extends OI{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new PE(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,r=new VE((e,t)=>sw(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,s)=>{const o=this.Gn.get(i);if(t.push(this.Kn.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=xT(this.Kn.M,s);r=r.add(i.path.popLast());const l=hI(a);n+=l-o.size,t.push(this.Kn.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=xT(this.Kn.M,s.convertToNoDocument(cw.min()));t.push(this.Kn.addEntry(e,i,n))}}),r.forEach(n=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,n))}),t.push(this.Kn.updateMetadata(e,n)),hT.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(e=>(this.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:e,qn:t})=>(t.forEach((t,n)=>{this.Gn.set(t,{size:n,readTime:e.get(t).readTime})}),e))}}function NI(e){return ST(e,"remoteDocumentGlobal")}function PI(e){return ST(e,"remoteDocumentsV14")}function LI(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function FI(e,t){const n=t.documentKey.path.toArray();return[e,AT(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function MI(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=sw(n[s],r[s]),i)return i;return i=sw(n.length,r.length),i||(i=sw(n[n.length-2],r[r.length-2]),i||sw(n[n.length-1],r[r.length-1]))}class VI{constructor(e){this.M=e}kt(e,t,n,r){const i=new dT("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jC,{unique:!0}),e.createObjectStore("documentMutations")}(e),UI(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=hT.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),UI(e)),s=s.next(()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:cw.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i))),n<4&&r>=4&&(0!==n&&(s=s.next(()=>function(e,t){return t.store("mutations").qt().next(n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jC,{unique:!0});const r=t.store("mutations"),i=n.map(e=>r.put(e));return hT.waitFor(i)})}(e,i))),s=s.next(()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),n<5&&r>=5&&(s=s.next(()=>this.Qn(i))),n<6&&r>=6&&(s=s.next(()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.jn(i)))),n<7&&r>=7&&(s=s.next(()=>this.Wn(i))),n<8&&r>=8&&(s=s.next(()=>this.zn(e,i))),n<9&&r>=9&&(s=s.next(()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)})),n<10&&r>=10&&(s=s.next(()=>this.Hn(i))),n<11&&r>=11&&(s=s.next(()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),n<12&&r>=12&&(s=s.next(()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:nT});t.createIndex("collectionPathOverlayIndex",rT,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",iT,{unique:!1})}(e)})),n<13&&r>=13&&(s=s.next(()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:zC});t.createIndex("documentKeyIndex",GC),t.createIndex("collectionGroupIndex",$C)}(e)).next(()=>this.Jn(e,i)).next(()=>e.deleteObjectStore("remoteDocuments"))),n<14&&r>=14&&(s=s.next(()=>{!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:JC}).createIndex("sequenceNumberIndex",XC,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:eT}).createIndex("documentKeyIndex",tT,{unique:!1})}(e)})),s}jn(e){let t=0;return e.store("remoteDocuments").Wt((e,n)=>{t+=hI(n)}).next(()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}Qn(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.qt().next(t=>hT.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.qt("userMutationsIndex",r).next(n=>hT.forEach(n,n=>{Bb(n.userId===t.userId);const r=DT(this.M,n);return uI(e,t.userId,r).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(e=>{const r=[];return n.Wt((n,i)=>{const s=new fw(n),o=function(e){return[0,MC(e)]}(s);r.push(t.get(o).next(n=>n?hT.resolve():(n=>t.put({targetId:0,path:MC(n),sequenceNumber:e.highestListenSequenceNumber}))(s)))}).next(()=>hT.waitFor(r))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:QC});const n=t.store("collectionParents"),r=new tI,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:MC(r)})}};return t.store("remoteDocuments").Wt({jt:!0},(e,t)=>{const n=new fw(e);return i(n.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([e,t,n],r)=>{const s=qC(t);return i(s.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((e,n)=>{const r=NT(n),i=PT(this.M,r);return t.put(i)})}Jn(e,t){const n=t.store("remoteDocuments"),r=[];return n.Wt((e,n)=>{const i=t.store("remoteDocumentsV14"),s=(o=n,o.document?new Rw(fw.fromString(o.document.name).popFirst(5)):o.noDocument?Rw.fromSegments(o.noDocument.path):o.unknownDocument?Rw.fromSegments(o.unknownDocument.path):Zb()).path.toArray();var o;const a={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))}).next(()=>hT.waitFor(r))}}function UI(e){e.createObjectStore("targetDocuments",{keyPath:YC}).createIndex("documentTargetsIndex",WC,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",KC,{unique:!0}),e.createObjectStore("targetGlobal")}const qI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class jI{constructor(e,t,n,r,i,s,o,a,l,c,u=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Yn=i,this.window=s,this.document=o,this.Xn=l,this.Zn=c,this.ts=u,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=e=>Promise.resolve(),!jI.vt())throw new Gb(zb.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xI(this,r),this.hs=t+"main",this.M=new kT(a),this.ls=new pT(this.hs,this.ts,new VI(this.M)),this.fs=new _I(this.referenceDelegate,this.M),this.ds=function(e){return new RI(e)}(this.M),this._s=new VT,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===c&&Ub("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Gb(zb.FAILED_PRECONDITION,qI);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new nw(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var n=(0,zi.Z)(function*(n){if(t.started)return e(n)});return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,zi.Z)(function*(t){null===t.newVersion&&(yield e())});return function(e){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,zi.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>BI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(e=>{e||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.Ps(e).next(()=>!0))).catch(e=>{if(gT(e))return Vb("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Vb("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return ZI(e).get("owner").next(e=>hT.resolve(this.bs(e)))}Vs(e){return BI(e).delete(this.clientId)}vs(){var e=this;return(0,zi.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const n=ST(t,"clientMetadata");return n.qt().next(t=>{const r=e.Ds(t,18e5),i=t.filter(e=>-1===r.indexOf(e));return hT.forEach(i,e=>n.delete(e.clientId)).next(()=>i)})}).catch(()=>[]);if(e.ws)for(const n of t)e.ws.removeItem(e.Cs(n.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?hT.resolve(!0):ZI(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Gb(zb.FAILED_PRECONDITION,qI);return!1}}return!(!this.networkEnabled||!this.inForeground)||BI(e).qt().next(e=>void 0===this.Ds(e,5e3).find(e=>{if(this.clientId!==e.clientId){const t=!this.inForeground&&e.inForeground,n=this.networkEnabled===e.networkEnabled;if(!this.networkEnabled&&e.networkEnabled||t&&n)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Vb("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var e=this;return(0,zi.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const n=new wT(t,nw.A);return e.Rs(n).next(()=>e.Vs(n))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(e=>this.Ss(e.updateTimeMs,t)&&!this.xs(e.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>BI(e).qt().next(e=>this.Ds(e,18e5).map(e=>e.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return dI.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new rI(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return jT.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,n){Vb("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=14===(s=this.ts)?lT:13===s?aT:12===s?oT:11===s?sT:void Zb();var s;let o;return this.ls.runTransaction(e,r,i,r=>(o=new wT(r,this.es?this.es.next():nw.A),"readwrite-primary"===t?this.Es(o).next(e=>!!e||this.As(o)).next(t=>{if(!t)throw Ub(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Gb(zb.FAILED_PRECONDITION,cT);return n(o)}).next(e=>this.Ps(o).next(()=>e)):this.$s(o).next(()=>n(o)))).then(e=>(o.raiseOnCommittedEvent(),e))}$s(e){return ZI(e).get("owner").next(e=>{if(null!==e&&this.Ss(e.leaseTimestampMs,5e3)&&!this.xs(e.ownerId)&&!this.bs(e)&&!(this.Zn||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Gb(zb.FAILED_PRECONDITION,qI)})}Ps(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ZI(e).put("owner",t)}static vt(){return pT.vt()}Rs(e){const t=ZI(e);return t.get("owner").next(e=>this.bs(e)?(Vb("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):hT.resolve())}Ss(e,t){const n=Date.now();return!(e<n-t||e>n&&(Ub(`Detected an update time that is in the future: ${e} > ${n}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,ss.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const n=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Vb("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return Ub("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(qg){Ub("Failed to set zombie client id.",qg)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(qg){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ZI(e){return ST(e,"owner")}function BI(e){return ST(e,"clientMetadata")}function HI(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class zI{constructor(e,t,n){this.ds=e,this.Bs=t,this.indexManager=n}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(n=>this.Us(e,t,n))}Us(e,t,n){return this.ds.getEntry(e,t).next(e=>{for(const t of n)t.applyToLocalView(e);return e})}qs(e,t){e.forEach((e,n)=>{for(const r of t)r.applyToLocalView(n)})}Ks(e,t){return this.ds.getEntries(e,t).next(t=>this.Gs(e,t).next(()=>t))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>this.qs(t,e))}Qs(e,t,n){return function(e){return Rw.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):qS(t)?this.Ws(e,t,n):this.zs(e,t,n)}js(e,t){return this.Ls(e,new Rw(t)).next(e=>{let t=HE();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}Ws(e,t,n){const r=t.collectionGroup;let i=HE();return this.indexManager.getCollectionParents(e,r).next(s=>hT.forEach(s,s=>{const o=function(e,t){return new NS(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.zs(e,o,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}zs(e,t,n){let r;return this.ds.getAllFromCollection(e,t.path,n).next(n=>(r=n,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(e=>{for(const t of e)for(const e of t.mutations){const n=e.key;let i=r.get(n);null==i&&(i=tS.newInvalidDocument(n),r=r.insert(n,i)),_E(e,i,t.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}).next(()=>(r.forEach((e,n)=>{$S(t,n)||(r=r.remove(e))}),r))}}class GI{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Hs=n,this.Js=r}static Ys(e,t){let n=KE(),r=KE();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new GI(e,t.fromCache,n,r)}}class $I{Xs(e){this.Zs=e}Qs(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(cw.min())?this.ti(e,t):this.Zs.Ks(e,r).next(i=>{const s=this.ei(t,i);return(FS(t)||MS(t))&&this.ni(t.limitType,s,r,n)?this.ti(e,t):(Mb()<=os.in.DEBUG&&Vb("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),GS(t)),this.Zs.Qs(e,t,aS(n,-1)).next(e=>(s.forEach(t=>{e=e.insert(t.key,t)}),e)))})}ei(e,t){let n=new VE(YS(e));return t.forEach((t,r)=>{$S(e,r)&&(n=n.add(r))}),n}ni(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ti(e,t){return Mb()<=os.in.DEBUG&&Vb("QueryEngine","Using full collection scan to execute query:",GS(t)),this.Zs.Qs(e,t,cS.min())}}class KI{constructor(e,t,n,r){this.persistence=e,this.si=t,this.M=r,this.ii=new LE(sw),this.ri=new PE(e=>pS(e),fS),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(n)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new zI(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ii))}}function YI(e,t,n,r){return new KI(e,t,n,r)}function WI(e,t){return QI.apply(this,arguments)}function QI(){return(QI=(0,zi.Z)(function*(e,t){const n=Hb(e);return yield n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.Bs.getAllMutationBatches(e).next(i=>(r=i,n.ai(t),n.Bs.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let o=KE();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.ci.Ks(e,o).next(e=>({hi:e,removedBatchIds:i,addedBatchIds:s}))})})})).apply(this,arguments)}function JI(e,t){const n=Hb(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=hT.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);Bb(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.Bs.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.Bs.performConsistencyCheck(e)).next(()=>n.ci.Ks(e,r))})}function XI(e){const t=Hb(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.fs.getLastRemoteSnapshotVersion(e))}function ek(e,t){const n=Hb(e),r=t.snapshotVersion;let i=n.ii;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.ui.newChangeBuffer({trackRemovals:!0});i=n.ii;const o=[];t.targetChanges.forEach((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.fs.removeMatchingKeys(e,s.removedDocuments,a).next(()=>n.fs.addMatchingKeys(e,s.addedDocuments,a)));let c=l.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(a)?c=c.withResumeToken(_w.EMPTY_BYTE_STRING,cw.min()).withLastLimboFreeSnapshotVersion(cw.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.fs.updateTargetData(e,c))});let a=ZE();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(tk(e,s,t.documentUpdates).next(e=>{a=e})),!r.isEqual(cw.min())){const t=n.fs.getLastRemoteSnapshotVersion(e).next(t=>n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return hT.waitFor(o).next(()=>s.apply(e)).next(()=>n.ci.Gs(e,a)).next(()=>a)}).then(e=>(n.ii=i,e))}function tk(e,t,n){let r=KE();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=ZE();return n.forEach((n,i)=>{const s=e.get(n);i.isNoDocument()&&i.version.isEqual(cw.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!s.isValidDocument()||i.version.compareTo(s.version)>0||0===i.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Vb("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",i.version)}),r})}function nk(e,t){const n=Hb(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)))}function rk(e,t){const n=Hb(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.fs.getTargetData(e,t).next(i=>i?(r=i,hT.resolve(r)):n.fs.allocateTargetId(e).next(i=>(r=new IT(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.ii.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ii=n.ii.insert(e.targetId,e),n.ri.set(t,e.targetId)),e})}function ik(e,t,n){return sk.apply(this,arguments)}function sk(){return(sk=(0,zi.Z)(function*(e,t,n){const r=Hb(e),i=r.ii.get(t),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!gT(e))throw e;Vb("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.ii=r.ii.remove(t),r.ri.delete(i.target)})).apply(this,arguments)}function ok(e,t,n){const r=Hb(e);let i=cw.min(),s=KE();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=Hb(e),i=r.ri.get(n);return void 0!==i?hT.resolve(r.ii.get(i)):r.fs.getTargetData(t,n)}(r,e,ZS(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.si.Qs(e,t,n?i:cw.min(),n?s:KE())).next(e=>(ck(r,KS(t),e),{documents:e,li:s})))}function ak(e,t){const n=Hb(e),r=Hb(n.fs),i=n.ii.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",e=>r.Et(e,t).next(e=>e?e.target:null))}function lk(e,t){const n=Hb(e),r=n.oi.get(t)||cw.min();return n.persistence.runTransaction("Get new document changes","readonly",e=>n.ui.getAllFromCollectionGroup(e,t,aS(r,-1),Number.MAX_SAFE_INTEGER)).then(e=>(ck(n,t,e),e))}function ck(e,t,n){let r=cw.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.oi.set(t,r)}function uk(){return(uk=(0,zi.Z)(function*(e,t,n,r){const i=Hb(e);let s=KE(),o=ZE();for(const c of n){const e=t.fi(c.metadata.name);c.document&&(s=s.add(e));const n=t.di(c);n.setReadTime(t._i(c.metadata.readTime)),o=o.insert(e,n)}const a=i.ui.newChangeBuffer({trackRemovals:!0}),l=yield rk(i,function(e){return ZS(LS(fw.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",e=>tk(e,a,o).next(t=>(a.apply(e),t)).next(t=>i.fs.removeMatchingKeysForTargetId(e,l.targetId).next(()=>i.fs.addMatchingKeys(e,s,l.targetId)).next(()=>i.ci.Gs(e,t)).next(()=>t)))})).apply(this,arguments)}function hk(e,t){return dk.apply(this,arguments)}function dk(){return(dk=(0,zi.Z)(function*(e,t,n=KE()){const r=yield rk(e,ZS(LT(t.bundledQuery))),i=Hb(e);return i.persistence.runTransaction("Save named query","readwrite",e=>{const s=dC(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i._s.saveNamedQuery(e,t);const o=r.withResumeToken(_w.EMPTY_BYTE_STRING,s);return i.ii=i.ii.insert(o.targetId,o),i.fs.updateTargetData(e,o).next(()=>i.fs.removeMatchingKeysForTargetId(e,r.targetId)).next(()=>i.fs.addMatchingKeys(e,n,r.targetId)).next(()=>i._s.saveNamedQuery(e,t))})})).apply(this,arguments)}class pk{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return hT.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var n;return this.wi.set(t.id,{id:(n=t).id,version:n.version,createTime:dC(n.createTime)}),hT.resolve()}getNamedQuery(e,t){return hT.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,function(e){return{name:e.name,query:LT(e.bundledQuery),readTime:dC(e.readTime)}}(t)),hT.resolve()}}class fk{constructor(){this.overlays=new LE(Rw.comparator),this.gi=new Map}getOverlay(e,t){return hT.resolve(this.overlays.get(t))}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.Xt(e,t,r)}),hT.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.gi.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.gi.delete(n)),hT.resolve()}getOverlaysForCollection(e,t,n){const r=zE(),i=t.length+1,s=new Rw(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return hT.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new LE((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=zE(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=zE(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return hT.resolve(o)}Xt(e,t,n){if(null===n)return;const r=this.overlays.get(n.key);if(null!==r){const e=this.gi.get(r.largestBatchId).delete(n.key);this.gi.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new TT(t,n));let i=this.gi.get(t);void 0===i&&(i=KE(),this.gi.set(t,i)),this.gi.set(t,i.add(n.key))}}class mk{constructor(){this.yi=new VE(gk.pi),this.Ii=new VE(gk.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const n=new gk(e,t);this.yi=this.yi.add(n),this.Ii=this.Ii.add(n)}Ei(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Ai(new gk(e,t))}Ri(e,t){e.forEach(e=>this.removeReference(e,t))}Pi(e){const t=new Rw(new fw([])),n=new gk(t,e),r=new gk(t,e+1),i=[];return this.Ii.forEachInRange([n,r],e=>{this.Ai(e),i.push(e.key)}),i}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new Rw(new fw([])),n=new gk(t,e),r=new gk(t,e+1);let i=KE();return this.Ii.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new gk(e,0),n=this.yi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class gk{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return Rw.comparator(e.key,t.key)||sw(e.vi,t.vi)}static Ti(e,t){return sw(e.vi,t.vi)||Rw.comparator(e.key,t.key)}}class yk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new VE(gk.pi)}checkEmpty(e){return hT.resolve(0===this.Bs.length)}addMutationBatch(e,t,n,r){const i=this.Si;this.Si++;const s=new ET(i,t,n,r);this.Bs.push(s);for(const o of r)this.Di=this.Di.add(new gk(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return hT.resolve(s)}lookupMutationBatch(e,t){return hT.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const n=this.xi(t+1),r=n<0?0:n;return hT.resolve(this.Bs.length>r?this.Bs[r]:null)}getHighestUnacknowledgedBatchId(){return hT.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return hT.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new gk(t,0),r=new gk(t,Number.POSITIVE_INFINITY),i=[];return this.Di.forEachInRange([n,r],e=>{const t=this.Ci(e.vi);i.push(t)}),hT.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new VE(sw);return t.forEach(e=>{const t=new gk(e,0),r=new gk(e,Number.POSITIVE_INFINITY);this.Di.forEachInRange([t,r],e=>{n=n.add(e.vi)})}),hT.resolve(this.Ni(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Rw.isDocumentKey(i)||(i=i.child(""));const s=new gk(new Rw(i),0);let o=new VE(sw);return this.Di.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.vi)),!0)},s),hT.resolve(this.Ni(o))}Ni(e){const t=[];return e.forEach(e=>{const n=this.Ci(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Bb(0===this.ki(t.batchId,"removed")),this.Bs.shift();let n=this.Di;return hT.forEach(t.mutations,r=>{const i=new gk(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Di=n})}_n(e){}containsKey(e,t){const n=new gk(t,0),r=this.Di.firstAfterOrEqual(n);return hT.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return hT.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class _k{constructor(e){this.Mi=e,this.docs=new LE(Rw.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Mi(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return hT.resolve(n?n.document.mutableCopy():tS.newInvalidDocument(t))}getEntries(e,t){let n=ZE();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():tS.newInvalidDocument(e))}),hT.resolve(n)}getAllFromCollection(e,t,n){let r=ZE();const i=new Rw(t.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i}}=s.getNext();if(!t.isPrefixOf(e.path))break;e.path.length>t.length+1||uS(lS(i),n)<=0||(r=r.insert(i.key,i.mutableCopy()))}return hT.resolve(r)}getAllFromCollectionGroup(e,t,n,r){Zb()}Oi(e,t){return hT.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new vk(this)}getSize(e){return hT.resolve(this.size)}}class vk extends OI{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Kn.addEntry(e,r)):this.Kn.removeEntry(n)}),hT.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class bk{constructor(e){this.persistence=e,this.Fi=new PE(e=>pS(e),fS),this.lastRemoteSnapshotVersion=cw.min(),this.highestTargetId=0,this.$i=0,this.Bi=new mk,this.targetCount=0,this.Li=yI.gn()}forEachTarget(e,t){return this.Fi.forEach((e,n)=>t(n)),hT.resolve()}getLastRemoteSnapshotVersion(e){return hT.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return hT.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),hT.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$i&&(this.$i=t),hT.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new yI(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,hT.resolve()}updateTargetData(e,t){return this.Tn(t),hT.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,hT.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Fi.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Fi.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),hT.waitFor(i).next(()=>r)}getTargetCount(e){return hT.resolve(this.targetCount)}getTargetData(e,t){const n=this.Fi.get(t)||null;return hT.resolve(n)}addMatchingKeys(e,t,n){return this.Bi.Ei(t,n),hT.resolve()}removeMatchingKeys(e,t,n){this.Bi.Ri(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),hT.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),hT.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Bi.Vi(t);return hT.resolve(n)}containsKey(e,t){return hT.resolve(this.Bi.containsKey(t))}}class wk{constructor(e,t){this.Ui={},this.overlays={},this.es=new nw(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new bk(this),this.indexManager=new eI,this.ds=function(e){return new _k(e)}(e=>this.referenceDelegate.qi(e)),this.M=new kT(t),this._s=new pk(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Ui[e.toKey()];return n||(n=new yk(t,this.referenceDelegate),this.Ui[e.toKey()]=n),n}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,n){Vb("MemoryPersistence","Starting transaction:",e);const r=new Sk(this.es.next());return this.referenceDelegate.Ki(),n(r).next(e=>this.referenceDelegate.Gi(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Qi(e,t){return hT.or(Object.values(this.Ui).map(n=>()=>n.containsKey(e,t)))}}class Sk extends uT{constructor(e){super(),this.currentSequenceNumber=e}}class Ek{constructor(e){this.persistence=e,this.ji=new mk,this.Wi=null}static zi(e){return new Ek(e)}get Hi(){if(this.Wi)return this.Wi;throw Zb()}addReference(e,t,n){return this.ji.addReference(n,t),this.Hi.delete(n.toString()),hT.resolve()}removeReference(e,t,n){return this.ji.removeReference(n,t),this.Hi.add(n.toString()),hT.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),hT.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach(e=>this.Hi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Hi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return hT.forEach(this.Hi,n=>{const r=Rw.fromPath(n);return this.Ji(e,r).next(e=>{e||t.removeEntry(r,cw.min())})}).next(()=>(this.Wi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ji(e,t).next(e=>{e?this.Hi.delete(t.toString()):this.Hi.add(t.toString())})}qi(e){return 0}Ji(e,t){return hT.or([()=>hT.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}function Ck(e,t){return`firestore_clients_${e}_${t}`}function Tk(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function Ik(e,t){return`firestore_targets_${e}_${t}`}class kk{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Yi(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new Gb(r.error.code,r.error.message))),s?new kk(e,t,r.state,i):(Ub("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class xk{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Yi(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Gb(n.error.code,n.error.message))),i?new xk(e,n.state,r):(Ub("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ak{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Yi(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=WE();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=Ow(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new Ak(e,i):(Ub("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Ok{constructor(e,t){this.clientId=e,this.onlineState=t}static Yi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Ok(t.clientId,t.onlineState):(Ub("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Rk{constructor(){this.activeTargetIds=WE()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Dk{constructor(e,t,n,r,i){this.window=e,this.Yn=t,this.persistenceKey=n,this.er=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new LE(sw),this.started=!1,this.rr=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ur=Ck(this.persistenceKey,this.er),this.ar=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.ir=this.ir.insert(this.er,new Rk),this.cr=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.dr=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this._r=function(e){return`firestore_bundle_loaded_v2_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,zi.Z)(function*(){const t=yield e.syncEngine.Fs();for(const r of t){if(r===e.er)continue;const t=e.getItem(Ck(e.persistenceKey,r));if(t){const n=Ak.Yi(r,t);n&&(e.ir=e.ir.insert(n.clientId,n))}}e.wr();const n=e.storage.getItem(e.dr);if(n){const t=e.mr(n);t&&e.gr(t)}for(const r of e.rr)e.sr(r);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let t=!1;return this.ir.forEach((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,t,n){this.pr(e,t,n),this.Ir(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Ik(this.persistenceKey,e));if(n){const r=xk.Yi(e,n);r&&(t=r.state)}}return this.Tr.Zi(e),this.wr(),t}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ik(this.persistenceKey,e))}updateQueryState(e,t,n){this.Er(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.Ir(e)}),this.currentUser=e,n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Vb("SharedClientState","READ",e,t),t}setItem(e,t){Vb("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Vb("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var t=this;const n=e;if(n.storageArea===this.storage){if(Vb("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ur)return void Ub("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,zi.Z)(function*(){if(t.started){if(null!==n.key)if(t.cr.test(n.key)){if(null==n.newValue){const e=t.Pr(n.key);return t.br(e,null)}{const e=t.Vr(n.key,n.newValue);if(e)return t.br(e.clientId,e)}}else if(t.hr.test(n.key)){if(null!==n.newValue){const e=t.vr(n.key,n.newValue);if(e)return t.Sr(e)}}else if(t.lr.test(n.key)){if(null!==n.newValue){const e=t.Dr(n.key,n.newValue);if(e)return t.Cr(e)}}else if(n.key===t.dr){if(null!==n.newValue){const e=t.mr(n.newValue);if(e)return t.gr(e)}}else if(n.key===t.ar){const e=function(e){let t=nw.A;if(null!=e)try{const n=JSON.parse(e);Bb("number"==typeof n),t=n}catch(e){Ub("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue);e!==nw.A&&t.sequenceNumberHandler(e)}else if(n.key===t._r){const e=t.Nr(n.newValue);yield Promise.all(e.map(e=>t.syncEngine.kr(e)))}}else t.rr.push(n)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,t,n){const r=new kk(this.currentUser,e,t,n),i=Tk(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Xi())}Ir(e){const t=Tk(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,t,n){const r=Ik(this.persistenceKey,e),i=new xk(e,t,n);this.setItem(r,i.Xi())}Rr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}Pr(e){const t=this.cr.exec(e);return t?t[1]:null}Vr(e,t){const n=this.Pr(e);return Ak.Yi(n,t)}vr(e,t){const n=this.hr.exec(e),r=Number(n[1]);return kk.Yi(new Pb(void 0!==n[2]?n[2]:null),r,t)}Dr(e,t){const n=this.lr.exec(e),r=Number(n[1]);return xk.Yi(r,t)}mr(e){return Ok.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var t=this;return(0,zi.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Mr(e.batchId,e.state,e.error);Vb("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const n=t?this.ir.insert(e,t):this.ir.remove(e),r=this.yr(this.ir),i=this.yr(n),s=[],o=[];return i.forEach(e=>{r.has(e)||s.push(e)}),r.forEach(e=>{i.has(e)||o.push(e)}),this.syncEngine.Fr(s,o).then(()=>{this.ir=n})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let t=WE();return e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)}),t}}class Nk{constructor(){this.$r=new Rk,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,n){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new Rk,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Pk{Lr(e){}shutdown(){}}class Lk{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){Vb("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){Vb("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Fk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Mk{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class Vk extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,n,r,i){const s=this.uo(e,t);Vb("RestConnection","Sending: ",s,n);const o={};return this.ao(o,r,i),this.co(e,s,o,n).then(e=>(Vb("RestConnection","Received: ",e),e),t=>{throw qb("RestConnection",`${e} failed with error: `,t,"url: ",s,"request:",n),t})}ho(e,t,n,r,i){return this.oo(e,t,n,r,i)}ao(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Lb,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}uo(e,t){return`${this.io}/v1/${t}:${Fk[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,n,r){return new Promise((i,s)=>{const o=new Db;o.listenOnce(kb.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Ib.NO_ERROR:const t=o.getResponseJson();Vb("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Ib.TIMEOUT:Vb("Connection",'RPC "'+e+'" timed out'),s(new Gb(zb.DEADLINE_EXCEEDED,"Request time out"));break;case Ib.HTTP_ERROR:const n=o.getStatus();if(Vb("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(zb).indexOf(t)>=0?t:zb.UNKNOWN}(e.status);s(new Gb(t,e.message))}else s(new Gb(zb.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Gb(zb.UNAVAILABLE,"Connection failed."));break;default:Zb()}}finally{Vb("Connection",'RPC "'+e+'" completed.')}});const a=JSON.stringify(r);o.send(t,"POST",a,n,15)})}lo(e,t,n){const r=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Cb(),s=Tb(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ob({})),this.ao(o.initMessageHeaders,t,n),(0,ss.uI)()||(0,ss.b$)()||(0,ss.d)()||(0,ss.w1)()||(0,ss.Mn)()||(0,ss.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");const a=r.join("");Vb("Connection","Creating WebChannel: "+a,o);const l=i.createWebChannel(a,o);let c=!1,u=!1;const h=new Mk({Wr:e=>{u?Vb("Connection","Not sending because WebChannel is closed:",e):(c||(Vb("Connection","Opening WebChannel transport."),l.open(),c=!0),Vb("Connection","WebChannel sending:",e),l.send(e))},zr:()=>l.close()}),d=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return d(l,Rb.EventType.OPEN,()=>{u||Vb("Connection","WebChannel transport opened.")}),d(l,Rb.EventType.CLOSE,()=>{u||(u=!0,Vb("Connection","WebChannel transport closed"),h.no())}),d(l,Rb.EventType.ERROR,e=>{u||(u=!0,qb("Connection","WebChannel transport errored:",e),h.no(new Gb(zb.UNAVAILABLE,"The operation could not be completed")))}),d(l,Rb.EventType.MESSAGE,e=>{var t;if(!u){const n=e.data[0];Bb(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Vb("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=OE[e];if(void 0!==t)return NE(t)}(e),n=i.message;void 0===t&&(t=zb.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),u=!0,h.no(new Gb(t,n)),l.close()}else Vb("Connection","WebChannel received:",n),h.so(n)}}),d(s,xb.STAT_EVENT,e=>{e.stat===Ab.PROXY?Vb("Connection","Detected buffering proxy"):e.stat===Ab.NOPROXY&&Vb("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.eo()},0),h}}function Uk(){return"undefined"!=typeof window?window:null}function qk(){return"undefined"!=typeof document?document:null}function jk(e){return new lC(e,!0)}class Zk{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Yn=e,this.timerId=t,this.fo=n,this._o=r,this.wo=i,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),n=Math.max(0,Date.now()-this.po),r=Math.max(0,t-n);r>0&&Vb("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,r,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class Bk{constructor(e,t,n,r,i,s,o,a){this.Yn=e,this.Ro=n,this.Po=r,this.bo=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new Zk(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,zi.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,zi.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,t){var n=this;return(0,zi.Z)(function*(){n.$o(),n.Bo(),n.Do.cancel(),n.Vo++,4!==e?n.Do.reset():t&&t.code===zb.RESOURCE_EXHAUSTED?(Ub(t.toString()),Ub("Using maximum backoff delay to prevent overloading the backend."),n.Do.Io()):t&&t.code===zb.UNAUTHENTICATED&&3!==n.state&&(n.authCredentialsProvider.invalidateToken(),n.appCheckCredentialsProvider.invalidateToken()),null!==n.stream&&(n.Lo(),n.stream.close(),n.stream=null),n.state=e,yield n.listener.Yr(t)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.Vo===t&&this.qo(e,n)},t=>{e(()=>{const e=new Gb(zb.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Ko(e)})})}qo(e,t){const n=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr(()=>{n(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(e=>{n(()=>this.Ko(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}No(){var e=this;this.state=5,this.Do.To((0,zi.Z)(function*(){e.state=0,e.start()}))}Ko(e){return Vb("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget(()=>this.Vo===e?t():(Vb("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Hk extends Bk{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.M=i}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function(e,t){let n;if("targetChange"in t){const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Zb()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.N?(Bb(void 0===t||"string"==typeof t),_w.fromBase64String(t||"")):(Bb(void 0===t||t instanceof Uint8Array),_w.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?zb.UNKNOWN:NE(e.code);return new Gb(t,e.message||"")}(o);n=new tC(r,i,s,a||null)}else if("documentChange"in t){const r=t.documentChange,i=gC(e,r.document.name),s=dC(r.document.updateTime),o=new Xw({mapValue:{fields:r.document.fields}}),a=tS.newFoundDocument(i,s,o);n=new XE(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in t){const r=t.documentDelete,i=gC(e,r.document),s=r.readTime?dC(r.readTime):cw.min(),o=tS.newNoDocument(i,s);n=new XE([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const r=t.documentRemove,i=gC(e,r.document);n=new XE([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return Zb();{const e=t.filter,r=new AE(e.count||0);n=new eC(e.targetId,r)}}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return cw.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?cw.min():t.readTime?dC(t.readTime):cw.min()}(e);return this.listener.Qo(t,n)}jo(e){const t={};t.database=vC(this.M),t.addTarget=function(e,t){let n;const r=t.target;return n=mS(r)?{documents:TC(e,r)}:{query:IC(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=uC(e,t.resumeToken):t.snapshotVersion.compareTo(cw.min())>0&&(n.readTime=cC(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Zb()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.Fo(t)}Wo(e){const t={};t.database=vC(this.M),t.removeTarget=e,this.Fo(t)}}class zk extends Bk{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.M=i,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(Bb(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function(e,t){return e&&e.length>0?(Bb(void 0!==t),e.map(e=>function(e,t){let n=dC(e.updateTime?e.updateTime:t);return n.isEqual(cw.min())&&(n=dC(t)),new pE(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=dC(e.commitTime);return this.listener.Yo(n,t)}return Bb(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=vC(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>EC(this.M,e))};this.Fo(t)}}class Gk extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=n,this.M=r,this.tu=!1}eu(){if(this.tu)throw new Gb(zb.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,n){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.bo.oo(e,t,n,r,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===zb.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Gb(zb.UNKNOWN,e.toString())})}ho(e,t,n){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.bo.ho(e,t,n,r,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===zb.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Gb(zb.UNKNOWN,e.toString())})}terminate(){this.tu=!0}}class $k{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(Ub(t),this.iu=!1):Vb("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class Kk{constructor(e,t,n,r,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=i,this._u.Lr(e=>{n.enqueueAndForget((0,zi.Z)(function*(){var e;sx(s)&&(Vb("RemoteStore","Restarting streams for network reachability change."),yield(e=(0,zi.Z)(function*(e){const t=Hb(e);t.fu.add(4),yield Qk(t),t.wu.set("Unknown"),t.fu.delete(4),yield Yk(t)}),function(t){return e.apply(this,arguments)})(s))}))}),this.wu=new $k(n,r)}}function Yk(e){return Wk.apply(this,arguments)}function Wk(){return(Wk=(0,zi.Z)(function*(e){if(sx(e))for(const t of e.du)yield t(!0)})).apply(this,arguments)}function Qk(e){return Jk.apply(this,arguments)}function Jk(){return(Jk=(0,zi.Z)(function*(e){for(const t of e.du)yield t(!1)})).apply(this,arguments)}function Xk(e,t){const n=Hb(e);n.lu.has(t.targetId)||(n.lu.set(t.targetId,t),ix(n)?rx(n):Px(n).xo()&&tx(n,t))}function ex(e,t){const n=Hb(e),r=Px(n);n.lu.delete(t),r.xo()&&nx(n,t),0===n.lu.size&&(r.xo()?r.Mo():sx(n)&&n.wu.set("Unknown"))}function tx(e,t){e.mu.Z(t.targetId),Px(e).jo(t)}function nx(e,t){e.mu.Z(t),Px(e).Wo(t)}function rx(e){e.mu=new rC({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.lu.get(t)||null}),Px(e).start(),e.wu.ru()}function ix(e){return sx(e)&&!Px(e).Co()&&e.lu.size>0}function sx(e){return 0===Hb(e).fu.size}function ox(e){e.mu=void 0}function ax(e){return lx.apply(this,arguments)}function lx(){return(lx=(0,zi.Z)(function*(e){e.lu.forEach((t,n)=>{tx(e,t)})})).apply(this,arguments)}function cx(e,t){return ux.apply(this,arguments)}function ux(){return(ux=(0,zi.Z)(function*(e,t){ox(e),ix(e)?(e.wu.au(t),rx(e)):e.wu.set("Unknown")})).apply(this,arguments)}function hx(e,t,n){return dx.apply(this,arguments)}function dx(){return(dx=(0,zi.Z)(function*(e,t,n){if(e.wu.set("Online"),t instanceof tC&&2===t.state&&t.cause)try{yield(r=(0,zi.Z)(function*(e,t){const n=t.cause;for(const r of t.targetIds)e.lu.has(r)&&(yield e.remoteSyncer.rejectListen(r,n),e.lu.delete(r),e.mu.removeTarget(r))}),function(e,t){return r.apply(this,arguments)})(e,t)}catch(n){Vb("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),yield px(e,n)}else if(t instanceof XE?e.mu.ut(t):t instanceof eC?e.mu._t(t):e.mu.ht(t),!n.isEqual(cw.min()))try{const t=yield XI(e.localStore);n.compareTo(t)>=0&&(yield function(e,t){const n=e.mu.yt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.lu.get(r);i&&e.lu.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(t=>{const n=e.lu.get(t);if(!n)return;e.lu.set(t,n.withResumeToken(_w.EMPTY_BYTE_STRING,n.snapshotVersion)),nx(e,t);const r=new IT(n.target,t,1,n.sequenceNumber);tx(e,r)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n))}catch(t){Vb("RemoteStore","Failed to raise snapshot:",t),yield px(e,t)}var r})).apply(this,arguments)}function px(e,t,n){return fx.apply(this,arguments)}function fx(){return(fx=(0,zi.Z)(function*(e,t,n){if(!gT(t))throw t;e.fu.add(1),yield Qk(e),e.wu.set("Offline"),n||(n=()=>XI(e.localStore)),e.asyncQueue.enqueueRetryable((0,zi.Z)(function*(){Vb("RemoteStore","Retrying IndexedDB access"),yield n(),e.fu.delete(1),yield Yk(e)}))})).apply(this,arguments)}function mx(e,t){return t().catch(n=>px(e,n,t))}function gx(e){return yx.apply(this,arguments)}function yx(){return(yx=(0,zi.Z)(function*(e){const t=Hb(e),n=Lx(t);let r=t.hu.length>0?t.hu[t.hu.length-1].batchId:-1;for(;_x(t);)try{const e=yield nk(t.localStore,r);if(null===e){0===t.hu.length&&n.Mo();break}r=e.batchId,vx(t,e)}catch(e){yield px(t,e)}bx(t)&&wx(t)})).apply(this,arguments)}function _x(e){return sx(e)&&e.hu.length<10}function vx(e,t){e.hu.push(t);const n=Lx(e);n.xo()&&n.Ho&&n.Jo(t.mutations)}function bx(e){return sx(e)&&!Lx(e).Co()&&e.hu.length>0}function wx(e){Lx(e).start()}function Sx(e){return Ex.apply(this,arguments)}function Ex(){return(Ex=(0,zi.Z)(function*(e){Lx(e).Zo()})).apply(this,arguments)}function Cx(e){return Tx.apply(this,arguments)}function Tx(){return(Tx=(0,zi.Z)(function*(e){const t=Lx(e);for(const n of e.hu)t.Jo(n.mutations)})).apply(this,arguments)}function Ix(e,t,n){return kx.apply(this,arguments)}function kx(){return(kx=(0,zi.Z)(function*(e,t,n){const r=e.hu.shift(),i=CT.from(r,t,n);yield mx(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),yield gx(e)})).apply(this,arguments)}function xx(e,t){return Ax.apply(this,arguments)}function Ax(){return(Ax=(0,zi.Z)(function*(e,t){var n;t&&Lx(e).Ho&&(yield(n=(0,zi.Z)(function*(e,t){if(DE(n=t.code)&&n!==zb.ABORTED){const n=e.hu.shift();Lx(e).ko(),yield mx(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),yield gx(e)}var n}),function(e,t){return n.apply(this,arguments)})(e,t)),bx(e)&&wx(e)})).apply(this,arguments)}function Ox(e,t){return Rx.apply(this,arguments)}function Rx(){return(Rx=(0,zi.Z)(function*(e,t){const n=Hb(e);n.asyncQueue.verifyOperationInProgress(),Vb("RemoteStore","RemoteStore received new credentials");const r=sx(n);n.fu.add(3),yield Qk(n),r&&n.wu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(t),n.fu.delete(3),yield Yk(n)})).apply(this,arguments)}function Dx(e,t){return Nx.apply(this,arguments)}function Nx(){return(Nx=(0,zi.Z)(function*(e,t){const n=Hb(e);t?(n.fu.delete(2),yield Yk(n)):t||(n.fu.add(2),yield Qk(n),n.wu.set("Unknown"))})).apply(this,arguments)}function Px(e){return e.gu||(e.gu=function(e,t,n){const r=Hb(e);return r.eu(),new Hk(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:ax.bind(null,e),Yr:cx.bind(null,e),Qo:hx.bind(null,e)}),e.du.push(function(){var t=(0,zi.Z)(function*(t){t?(e.gu.ko(),ix(e)?rx(e):e.wu.set("Unknown")):(yield e.gu.stop(),ox(e))});return function(e){return t.apply(this,arguments)}}())),e.gu}function Lx(e){return e.yu||(e.yu=function(e,t,n){const r=Hb(e);return r.eu(),new zk(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:Sx.bind(null,e),Yr:xx.bind(null,e),Xo:Cx.bind(null,e),Yo:Ix.bind(null,e)}),e.du.push(function(){var t=(0,zi.Z)(function*(t){t?(e.yu.ko(),yield gx(e)):(yield e.yu.stop(),e.hu.length>0&&(Vb("RemoteStore",`Stopping write stream with ${e.hu.length} pending writes`),e.hu=[]))});return function(e){return t.apply(this,arguments)}}())),e.yu}class Fx{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new $b,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Fx(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Gb(zb.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mx(e,t){if(Ub("AsyncQueue",`${t}: ${e}`),gT(e))return new Gb(zb.UNAVAILABLE,`${t}: ${e}`);throw e}class Vx{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Rw.comparator(t.key,n.key):(e,t)=>Rw.comparator(e.key,t.key),this.keyedMap=HE(),this.sortedSet=new LE(this.comparator)}static emptySet(e){return new Vx(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Vx))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Vx;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Ux{constructor(){this.pu=new LE(Rw.comparator)}track(e){const t=e.doc.key,n=this.pu.get(t);n?0!==e.type&&3===n.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==n.type?this.pu=this.pu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pu=this.pu.remove(t):1===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):Zb():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal((t,n)=>{e.push(n)}),e}}class qx{constructor(e,t,n,r,i,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new qx(e,t,Vx.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&HS(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class jx{constructor(){this.Tu=void 0,this.listeners=[]}}class Zx{constructor(){this.queries=new PE(e=>zS(e),HS),this.onlineState="Unknown",this.Eu=new Set}}function Bx(e,t){return Hx.apply(this,arguments)}function Hx(){return(Hx=(0,zi.Z)(function*(e,t){const n=Hb(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new jx),i)try{s.Tu=yield n.onListen(r)}catch(e){const n=Mx(e,`Initialization of query '${GS(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Au(n.onlineState),s.Tu&&t.Ru(s.Tu)&&Yx(n)})).apply(this,arguments)}function zx(e,t){return Gx.apply(this,arguments)}function Gx(){return(Gx=(0,zi.Z)(function*(e,t){const n=Hb(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)})).apply(this,arguments)}function $x(e,t){const n=Hb(e);let r=!1;for(const i of t){const e=n.queries.get(i.query);if(e){for(const t of e.listeners)t.Ru(i)&&(r=!0);e.Tu=i}}r&&Yx(n)}function Kx(e,t,n){const r=Hb(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function Yx(e){e.Eu.forEach(e=>{e.next()})}class Wx{constructor(e,t,n){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=n||{}}Ru(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new qx(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){return!e.fromCache||!(this.options.Cu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=qx.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class Qx{constructor(e,t){this.payload=e,this.byteLength=t}xu(){return"metadata"in this.payload}}class Jx{constructor(e){this.M=e}fi(e){return gC(this.M,e)}di(e){return e.metadata.exists?SC(this.M,e.document,!1):tS.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return dC(e)}}class Xx{constructor(e,t,n){this.Nu=e,this.localStore=t,this.M=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=eA(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const n=fw.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,n=new Jx(this.M);for(const r of e)if(r.metadata.queries){const e=n.fi(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||KE()).add(e);t.set(n,r)}}return t}complete(){var e=this;return(0,zi.Z)(function*(){const t=yield function(e,t,n,r){return uk.apply(this,arguments)}(e.localStore,new Jx(e.M),e.documents,e.Nu.id),n=e.Mu(e.documents);for(const r of e.queries)yield hk(e.localStore,r,n.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:t}})()}}function eA(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class tA{constructor(e){this.key=e}}class nA{constructor(e){this.key=e}}class rA{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=KE(),this.mutatedKeys=KE(),this.Uu=YS(e),this.qu=new Vx(this.Uu)}get Ku(){return this.$u}Gu(e,t){const n=t?t.Qu:new Ux,r=t?t.qu:this.qu;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a=FS(this.query)&&r.size===this.query.limit?r.last():null,l=MS(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=$S(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),p=!0):this.ju(c,u)||(n.track({type:2,doc:u}),p=!0,(a&&this.Uu(u,a)>0||l&&this.Uu(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(a||l)&&(o=!0)),p&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),FS(this.query)||MS(this.query))for(;s.size>this.query.limit;){const e=FS(this.query)?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{qu:s,Qu:n,ni:o,mutatedKeys:i}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const i=e.Qu.Iu();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zb()}};return n(e)-n(t)}(e.type,t.type)||this.Uu(e.doc,t.doc)),this.Wu(n);const s=t?this.zu():[],o=0===this.Lu.size&&this.current?1:0,a=o!==this.Bu;return this.Bu=o,0!==i.length||a?{snapshot:new qx(this.query,e.qu,r,i,e.mutatedKeys,0===o,a,!1),Hu:s}:{Hu:s}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new Ux,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(e=>this.$u=this.$u.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.$u=this.$u.delete(e)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=KE(),this.qu.forEach(e=>{this.Ju(e.key)&&(this.Lu=this.Lu.add(e.key))});const t=[];return e.forEach(e=>{this.Lu.has(e)||t.push(new nA(e))}),this.Lu.forEach(n=>{e.has(n)||t.push(new tA(n))}),t}Yu(e){this.$u=e.li,this.Lu=KE();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return qx.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class iA{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class sA{constructor(e){this.key=e,this.Zu=!1}}class oA{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.ta={},this.ea=new PE(e=>zS(e),HS),this.na=new Map,this.sa=new Set,this.ia=new LE(Rw.comparator),this.ra=new Map,this.oa=new mk,this.ua={},this.aa=new Map,this.ca=yI.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function aA(e,t){return lA.apply(this,arguments)}function lA(){return(lA=(0,zi.Z)(function*(e,t){const n=QA(e);let r,i;const s=n.ea.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Xu();else{const e=yield rk(n.localStore,ZS(t));n.isPrimaryClient&&Xk(n.remoteStore,e);const s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=yield cA(n,t,r,"current"===s)}return i})).apply(this,arguments)}function cA(e,t,n,r){return uA.apply(this,arguments)}function uA(){return(uA=(0,zi.Z)(function*(e,t,n,r){e.la=(t,n,r)=>{return(i=(0,zi.Z)(function*(e,t,n,r){let i=t.view.Gu(n);i.ni&&(i=yield ok(e.localStore,t.query,!1).then(({documents:e})=>t.view.Gu(e,i)));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return xA(e,t.targetId,o.Hu),o.snapshot}),function(e,t,n,r){return i.apply(this,arguments)})(e,t,n,r);var i};const i=yield ok(e.localStore,t,!0),s=new rA(t,i.li),o=s.Gu(i.documents),a=JE.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),l=s.applyChanges(o,e.isPrimaryClient,a);xA(e,n,l.Hu);const c=new iA(t,n,s);return e.ea.set(t,c),e.na.has(n)?e.na.get(n).push(t):e.na.set(n,[t]),l.snapshot})).apply(this,arguments)}function hA(e,t){return dA.apply(this,arguments)}function dA(){return(dA=(0,zi.Z)(function*(e,t){const n=Hb(e),r=n.ea.get(t),i=n.na.get(r.targetId);if(i.length>1)return n.na.set(r.targetId,i.filter(e=>!HS(e,t))),void n.ea.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ik(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),ex(n.remoteStore,r.targetId),IA(n,r.targetId)}).catch(SI))):(IA(n,r.targetId),yield ik(n.localStore,r.targetId,!0))})).apply(this,arguments)}function pA(){return(pA=(0,zi.Z)(function*(e,t,n){const r=JA(e);try{const e=yield function(e,t){const n=Hb(e),r=lw.now(),i=t.reduce((e,t)=>e.add(t.key),KE());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>n.ci.Ks(e,i).next(i=>{s=i;const o=[];for(const e of t){const t=vE(e,s.get(e.key));null!=t&&o.push(new EE(e.key,t,eS(t.value.mapValue),fE.exists(!0)))}return n.Bs.addMutationBatch(e,r,o,t)})).then(e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.ua[e.currentUser.toKey()];r||(r=new LE(sw)),r=r.insert(t,n),e.ua[e.currentUser.toKey()]=r}(r,e.batchId,n),yield RA(r,e.changes),yield gx(r.remoteStore)}catch(e){const t=Mx(e,"Failed to persist write");n.reject(t)}})).apply(this,arguments)}function fA(e,t){return mA.apply(this,arguments)}function mA(){return(mA=(0,zi.Z)(function*(e,t){const n=Hb(e);try{const e=yield ek(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.ra.get(t);r&&(Bb(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Zu=!0:e.modifiedDocuments.size>0?Bb(r.Zu):e.removedDocuments.size>0&&(Bb(r.Zu),r.Zu=!1))}),yield RA(n,e,t)}catch(e){yield SI(e)}})).apply(this,arguments)}function gA(e,t,n){const r=Hb(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ea.forEach((n,r)=>{const i=r.view.Au(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Hb(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.Au(t)&&(r=!0)}),r&&Yx(n)}(r.eventManager,t),e.length&&r.ta.Qo(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function yA(e,t,n){return _A.apply(this,arguments)}function _A(){return(_A=(0,zi.Z)(function*(e,t,n){const r=Hb(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ra.get(t),s=i&&i.key;if(s){let e=new LE(Rw.comparator);e=e.insert(s,tS.newNoDocument(s,cw.min()));const n=KE().add(s),i=new QE(cw.min(),new Map,new VE(sw),e,n);yield fA(r,i),r.ia=r.ia.remove(s),r.ra.delete(t),OA(r)}else yield ik(r.localStore,t,!1).then(()=>IA(r,t,n)).catch(SI)})).apply(this,arguments)}function vA(e,t){return bA.apply(this,arguments)}function bA(){return(bA=(0,zi.Z)(function*(e,t){const n=Hb(e),r=t.batch.batchId;try{const e=yield JI(n.localStore,t);TA(n,r,null),CA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield RA(n,e)}catch(e){yield SI(e)}})).apply(this,arguments)}function wA(e,t,n){return SA.apply(this,arguments)}function SA(){return(SA=(0,zi.Z)(function*(e,t,n){const r=Hb(e);try{const e=yield function(e,t){const n=Hb(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.Bs.lookupMutationBatch(e,t).next(t=>(Bb(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t))).next(()=>n.Bs.performConsistencyCheck(e)).next(()=>n.ci.Ks(e,r))})}(r.localStore,t);TA(r,t,n),CA(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),yield RA(r,e)}catch(n){yield SI(n)}})).apply(this,arguments)}function EA(){return(EA=(0,zi.Z)(function*(e,t){const n=Hb(e);sx(n.remoteStore)||Vb("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=yield function(e){const t=Hb(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.Bs.getHighestUnacknowledgedBatchId(e))}(n.localStore);if(-1===e)return void t.resolve();const r=n.aa.get(e)||[];r.push(t),n.aa.set(e,r)}catch(e){const n=Mx(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}})).apply(this,arguments)}function CA(e,t){(e.aa.get(t)||[]).forEach(e=>{e.resolve()}),e.aa.delete(t)}function TA(e,t,n){const r=Hb(e);let i=r.ua[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.ua[r.currentUser.toKey()]=i}}function IA(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.na.get(t))e.ea.delete(r),n&&e.ta.fa(r,n);e.na.delete(t),e.isPrimaryClient&&e.oa.Pi(t).forEach(t=>{e.oa.containsKey(t)||kA(e,t)})}function kA(e,t){e.sa.delete(t.path.canonicalString());const n=e.ia.get(t);null!==n&&(ex(e.remoteStore,n),e.ia=e.ia.remove(t),e.ra.delete(n),OA(e))}function xA(e,t,n){for(const r of n)r instanceof tA?(e.oa.addReference(r.key,t),AA(e,r)):r instanceof nA?(Vb("SyncEngine","Document no longer in limbo: "+r.key),e.oa.removeReference(r.key,t),e.oa.containsKey(r.key)||kA(e,r.key)):Zb()}function AA(e,t){const n=t.key,r=n.path.canonicalString();e.ia.get(n)||e.sa.has(r)||(Vb("SyncEngine","New document in limbo: "+n),e.sa.add(r),OA(e))}function OA(e){for(;e.sa.size>0&&e.ia.size<e.maxConcurrentLimboResolutions;){const t=e.sa.values().next().value;e.sa.delete(t);const n=new Rw(fw.fromString(t)),r=e.ca.next();e.ra.set(r,new sA(n)),e.ia=e.ia.insert(n,r),Xk(e.remoteStore,new IT(ZS(LS(n.path)),r,2,nw.A))}}function RA(e,t,n){return DA.apply(this,arguments)}function DA(){return(DA=(0,zi.Z)(function*(e,t,n){const r=Hb(e),i=[],s=[],o=[];var a;r.ea.isEmpty()||(r.ea.forEach((e,a)=>{o.push(r.la(a,t,n).then(e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=GI.Ys(a.targetId,e);s.push(t)}}))}),yield Promise.all(o),r.ta.Qo(i),yield(a=(0,zi.Z)(function*(e,t){const n=Hb(e);try{yield n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>hT.forEach(t,t=>hT.forEach(t.Hs,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>hT.forEach(t.Js,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!gT(e))throw e;Vb("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ii.get(e),r=t.withLastLimboFreeSnapshotVersion(t.snapshotVersion);n.ii=n.ii.insert(e,r)}}}),function(e,t){return a.apply(this,arguments)})(r.localStore,s))})).apply(this,arguments)}function NA(e,t){return PA.apply(this,arguments)}function PA(){return(PA=(0,zi.Z)(function*(e,t){const n=Hb(e);if(!n.currentUser.isEqual(t)){Vb("SyncEngine","User change. New user:",t.toKey());const e=yield WI(n.localStore,t);n.currentUser=t,function(e,t){e.aa.forEach(e=>{e.forEach(e=>{e.reject(new Gb(zb.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.aa.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),yield RA(n,e.hi)}})).apply(this,arguments)}function LA(e,t){const n=Hb(e),r=n.ra.get(t);if(r&&r.Zu)return KE().add(r.key);{let e=KE();const r=n.na.get(t);if(!r)return e;for(const t of r){const r=n.ea.get(t);e=e.unionWith(r.view.Ku)}return e}}function FA(e,t){return MA.apply(this,arguments)}function MA(){return(MA=(0,zi.Z)(function*(e,t){const n=Hb(e),r=yield ok(n.localStore,t.query,!0),i=t.view.Yu(r);return n.isPrimaryClient&&xA(n,t.targetId,i.Hu),i})).apply(this,arguments)}function VA(e,t){return UA.apply(this,arguments)}function UA(){return(UA=(0,zi.Z)(function*(e,t){const n=Hb(e);return lk(n.localStore,t).then(e=>RA(n,e))})).apply(this,arguments)}function qA(e,t,n,r){return jA.apply(this,arguments)}function jA(){return(jA=(0,zi.Z)(function*(e,t,n,r){const i=Hb(e),s=yield function(e,t){const n=Hb(e),r=Hb(n.Bs);return n.persistence.runTransaction("Lookup mutation documents","readonly",e=>r.fn(e,t).next(t=>t?n.ci.Ks(e,t):hT.resolve(null)))}(i.localStore,t);null!==s?("pending"===n?yield gx(i.remoteStore):"acknowledged"===n||"rejected"===n?(TA(i,t,r||null),CA(i,t),function(e,t){Hb(Hb(e).Bs)._n(t)}(i.localStore,t)):Zb(),yield RA(i,s)):Vb("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function ZA(){return(ZA=(0,zi.Z)(function*(e,t){const n=Hb(e);if(QA(n),JA(n),!0===t&&!0!==n.ha){const e=n.sharedClientState.getAllActiveQueryTargets(),t=yield BA(n,e.toArray());n.ha=!0,yield Dx(n.remoteStore,!0);for(const r of t)Xk(n.remoteStore,r)}else if(!1===t&&!1!==n.ha){const e=[];let t=Promise.resolve();n.na.forEach((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then(()=>(IA(n,i),ik(n.localStore,i,!0))),ex(n.remoteStore,i)}),yield t,yield BA(n,e),function(e){const t=Hb(e);t.ra.forEach((e,n)=>{ex(t.remoteStore,n)}),t.oa.bi(),t.ra=new Map,t.ia=new LE(Rw.comparator)}(n),n.ha=!1,yield Dx(n.remoteStore,!1)}})).apply(this,arguments)}function BA(e,t,n){return HA.apply(this,arguments)}function HA(){return(HA=(0,zi.Z)(function*(e,t,n){const r=Hb(e),i=[],s=[];for(const o of t){let e;const t=r.na.get(o);if(t&&0!==t.length){e=yield rk(r.localStore,ZS(t[0]));for(const e of t){const t=r.ea.get(e),n=yield FA(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=yield ak(r.localStore,o);e=yield rk(r.localStore,t),yield cA(r,zA(t),o,!1)}i.push(e)}return r.ta.Qo(s),i})).apply(this,arguments)}function zA(e){return PS(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function GA(e){const t=Hb(e);return Hb(Hb(t.localStore).persistence).Fs()}function $A(e,t,n,r){return KA.apply(this,arguments)}function KA(){return(KA=(0,zi.Z)(function*(e,t,n,r){const i=Hb(e);if(i.ha)return void Vb("SyncEngine","Ignoring unexpected query state notification.");const s=i.na.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=yield lk(i.localStore,KS(s[0])),r=QE.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);yield RA(i,e,r);break}case"rejected":yield ik(i.localStore,t,!0),IA(i,t,r);break;default:Zb()}})).apply(this,arguments)}function YA(e,t,n){return WA.apply(this,arguments)}function WA(){return(WA=(0,zi.Z)(function*(e,t,n){const r=QA(e);if(r.ha){for(const e of t){if(r.na.has(e)){Vb("SyncEngine","Adding an already active target "+e);continue}const t=yield ak(r.localStore,e),n=yield rk(r.localStore,t);yield cA(r,zA(t),n.targetId,!1),Xk(r.remoteStore,n)}for(const e of n)r.na.has(e)&&(yield ik(r.localStore,e,!1).then(()=>{ex(r.remoteStore,e),IA(r,e)}).catch(SI))}})).apply(this,arguments)}function QA(e){const t=Hb(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=fA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=LA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=yA.bind(null,t),t.ta.Qo=$x.bind(null,t.eventManager),t.ta.fa=Kx.bind(null,t.eventManager),t}function JA(e){const t=Hb(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=vA.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=wA.bind(null,t),t}class XA{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,zi.Z)(function*(){t.M=jk(e.databaseInfo.databaseId),t.sharedClientState=t._a(e),t.persistence=t.wa(e),yield t.persistence.start(),t.gcScheduler=t.ma(e),t.localStore=t.ga(e)})()}ma(e){return null}ga(e){return YI(this.persistence,new $I,e.initialUser,this.M)}wa(e){return new wk(Ek.zi,this.M)}_a(e){return new Nk}terminate(){var e=this;return(0,zi.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class eO extends XA{constructor(e,t,n){super(),this.ya=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,n=this;return(0,zi.Z)(function*(){yield t().call(n,e),yield n.ya.initialize(n,e),yield JA(n.ya.syncEngine),yield gx(n.ya.remoteStore),yield n.persistence.Ts(()=>(n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()))})()}ga(e){return YI(this.persistence,new $I,e.initialUser,this.M)}ma(e){return new II(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const t=HI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?cI.withCacheSize(this.cacheSizeBytes):cI.DEFAULT;return new jI(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Uk(),qk(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new Nk}}class tO extends eO{constructor(e,t){super(e,t,!1),this.ya=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,n=this;return(0,zi.Z)(function*(){yield t().call(n,e);const r=n.ya.syncEngine;n.sharedClientState instanceof Dk&&(n.sharedClientState.syncEngine={Mr:qA.bind(null,r),Or:$A.bind(null,r),Fr:YA.bind(null,r),Fs:GA.bind(null,r),kr:VA.bind(null,r)},yield n.sharedClientState.start()),yield n.persistence.Ts(function(){var e=(0,zi.Z)(function*(e){yield function(e,t){return ZA.apply(this,arguments)}(n.ya.syncEngine,e),n.gcScheduler&&(e&&!n.gcScheduler.started?n.gcScheduler.start(n.localStore):e||n.gcScheduler.stop())});return function(t){return e.apply(this,arguments)}}())})()}_a(e){const t=Uk();if(!Dk.vt(t))throw new Gb(zb.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=HI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Dk(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class nO{initialize(e,t){var n=this;return(0,zi.Z)(function*(){n.localStore||(n.localStore=e.localStore,n.sharedClientState=e.sharedClientState,n.datastore=n.createDatastore(t),n.remoteStore=n.createRemoteStore(t),n.eventManager=n.createEventManager(t),n.syncEngine=n.createSyncEngine(t,!e.synchronizeTabs),n.sharedClientState.onlineStateHandler=e=>gA(n.syncEngine,e,1),n.remoteStore.remoteSyncer.handleCredentialChange=NA.bind(null,n.syncEngine),yield Dx(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Zx}createDatastore(e){const t=jk(e.databaseInfo.databaseId),n=new Vk(e.databaseInfo);return function(e,t,n,r){return new Gk(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>gA(this.syncEngine,e,0),s=Lk.vt()?new Lk:new Pk,new Kk(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new oA(e,t,n,r,i,s);return o&&(a.ha=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,zi.Z)(function*(e){const t=Hb(e);Vb("RemoteStore","RemoteStore shutting down."),t.fu.add(5),yield Qk(t),t._u.shutdown(),t.wu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function rO(e,t=10240){let n=0;return{read:()=>(0,zi.Z)(function*(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}})(),cancel:()=>(0,zi.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class iO{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class sO{constructor(e,t){this.Ta=e,this.M=t,this.metadata=new $b,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(e=>{e&&e.xu()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))},e=>this.metadata.reject(e))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,zi.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,zi.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,zi.Z)(function*(){const t=yield e.Ra();if(null===t)return null;const n=e.Ea.decode(t),r=Number(n);isNaN(r)&&e.Pa(`length string (${n}) is not valid number`);const i=yield e.ba(r);return new Qx(JSON.parse(i),t.length+r)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,zi.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const t=e.Va();t<0&&e.Pa("Reached the end of bundle when a length string is expected.");const n=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),n})()}ba(e){var t=this;return(0,zi.Z)(function*(){for(;t.buffer.length<e;)(yield t.va())&&t.Pa("Reached the end of bundle when more is expected.");const n=t.Ea.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),n})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,zi.Z)(function*(){const t=yield e.Ta.read();if(!t.done){const n=new Uint8Array(e.buffer.length+t.value.length);n.set(e.buffer),n.set(t.value,e.buffer.length),e.buffer=n}return t.done})()}}class oO{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,zi.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Gb(zb.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=yield(r=(0,zi.Z)(function*(e,t){const n=Hb(e),r=vC(n.M)+"/documents",i={documents:t.map(e=>mC(n.M,e))},s=yield n.ho("BatchGetDocuments",r,i),o=new Map;s.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){Bb(!!t.found);const n=gC(e,t.found.name),r=dC(t.found.updateTime),i=new Xw({mapValue:{fields:t.found.fields}});return tS.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Bb(!!t.missing),Bb(!!t.readTime);const n=gC(e,t.missing),r=dC(t.readTime);return tS.newNoDocument(n,r)}(e,t):Zb()}(n.M,e);o.set(t.key.toString(),t)});const a=[];return t.forEach(e=>{const t=o.get(e.toString());Bb(!!t),a.push(t)}),a}),function(e,t){return r.apply(this,arguments)})(t.datastore,e);var r;return n.forEach(e=>t.recordVersion(e)),n})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new kE(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,zi.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var n;e.mutations.forEach(e=>{t.delete(e.key.toString())}),t.forEach((t,n)=>{const r=Rw.fromPath(n);e.mutations.push(new xE(r,e.precondition(r)))}),yield(n=(0,zi.Z)(function*(e,t){const n=Hb(e),r=vC(n.M)+"/documents",i={writes:t.map(e=>EC(n.M,e))};yield n.oo("Commit",r,i)}),function(e,t){return n.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Zb();t=cw.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Gb(zb.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?fE.updateTime(t):fE.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(cw.min()))throw new Gb(zb.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fE.updateTime(t)}return fE.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class aO{constructor(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.Sa=5,this.Do=new Zk(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,zi.Z)(function*(){const t=new oO(e.datastore),n=e.Ca(t);n&&n.then(n=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(n)}).catch(t=>{e.xa(t)}))}).catch(t=>{e.xa(t)})}))}Ca(e){try{const t=this.updateFunction(e);return!xw(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!DE(t)}return!1}}class lO{constructor(e,t,n,r){var i=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Pb.UNAUTHENTICATED,this.clientId=iw.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,function(){var e=(0,zi.Z)(function*(e){Vb("FirestoreClient","Received user=",e.uid),yield i.authCredentialListener(e),i.user=e});return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(n,e=>(Vb("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}getConfiguration(){var e=this;return(0,zi.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Gb(zb.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new $b;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,zi.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(n){const e=Mx(n,"Failed to shutdown persistence");t.reject(e)}})),t.promise}}function cO(e,t){return uO.apply(this,arguments)}function uO(){return(uO=(0,zi.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress(),Vb("FirestoreClient","Initializing OfflineComponentProvider");const n=yield e.getConfiguration();yield t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(function(){var e=(0,zi.Z)(function*(e){r.isEqual(e)||(yield WI(t.localStore,e),r=e)});return function(t){return e.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t})).apply(this,arguments)}function hO(e,t){return dO.apply(this,arguments)}function dO(){return(dO=(0,zi.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress();const n=yield pO(e);Vb("FirestoreClient","Initializing OnlineComponentProvider");const r=yield e.getConfiguration();yield t.initialize(n,r),e.setCredentialChangeListener(e=>Ox(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Ox(t.remoteStore,n)),e.onlineComponents=t})).apply(this,arguments)}function pO(e){return fO.apply(this,arguments)}function fO(){return(fO=(0,zi.Z)(function*(e){return e.offlineComponents||(Vb("FirestoreClient","Using default OfflineComponentProvider"),yield cO(e,new XA)),e.offlineComponents})).apply(this,arguments)}function mO(e){return gO.apply(this,arguments)}function gO(){return(gO=(0,zi.Z)(function*(e){return e.onlineComponents||(Vb("FirestoreClient","Using default OnlineComponentProvider"),yield hO(e,new nO)),e.onlineComponents})).apply(this,arguments)}function yO(e){return pO(e).then(e=>e.persistence)}function _O(e){return pO(e).then(e=>e.localStore)}function vO(e){return mO(e).then(e=>e.remoteStore)}function bO(e){return mO(e).then(e=>e.syncEngine)}function wO(e){return SO.apply(this,arguments)}function SO(){return(SO=(0,zi.Z)(function*(e){const t=yield mO(e),n=t.eventManager;return n.onListen=aA.bind(null,t.syncEngine),n.onUnlisten=hA.bind(null,t.syncEngine),n})).apply(this,arguments)}function EO(e,t,n={}){const r=new $b;return e.asyncQueue.enqueueAndForget((0,zi.Z)(function*(){return function(e,t,n,r,i){const s=new iO({next:s=>{t.enqueueAndForget(()=>zx(e,o));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new Gb(zb.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Gb(zb.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new Wx(LS(n.path),s,{includeMetadataChanges:!0,Cu:!0});return Bx(e,o)}(yield wO(e),e.asyncQueue,t,n,r)})),r.promise}function CO(e,t,n={}){const r=new $b;return e.asyncQueue.enqueueAndForget((0,zi.Z)(function*(){return function(e,t,n,r,i){const s=new iO({next:n=>{t.enqueueAndForget(()=>zx(e,o)),n.fromCache&&"server"===r.source?i.reject(new Gb(zb.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Wx(n,s,{includeMetadataChanges:!0,Cu:!0});return Bx(e,o)}(yield wO(e),e.asyncQueue,t,n,r)})),r.promise}const TO=new Map;function IO(e,t,n){if(!n)throw new Gb(zb.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function kO(e,t,n,r){if(!0===t&&!0===r)throw new Gb(zb.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function xO(e){if(!Rw.isDocumentKey(e))throw new Gb(zb.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function AO(e){if(Rw.isDocumentKey(e))throw new Gb(zb.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function OO(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Zb()}function RO(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Gb(zb.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=OO(e);throw new Gb(zb.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function DO(e,t){if(t<=0)throw new Gb(zb.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class NO{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Gb(zb.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Gb(zb.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,kO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class PO{constructor(e,t,n){this._authCredentials=t,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NO({}),this._settingsFrozen=!1,e instanceof kw?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Gb(zb.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kw(e.options.projectId)}(e))}get app(){if(!this._app)throw new Gb(zb.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Gb(zb.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NO(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Yb;switch(e.type){case"gapi":const t=e.client;return Bb(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Xb(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Gb(zb.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=TO.get(e);t&&(Vb("ComponentProvider","Removing Datastore"),TO.delete(e),t.terminate())}(this),Promise.resolve()}}class LO{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new MO(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new LO(this.firestore,e,this._key)}}class FO{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new FO(this.firestore,e,this._query)}}class MO extends FO{constructor(e,t,n){super(e,t,LS(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new LO(this.firestore,null,new Rw(e))}withConverter(e){return new MO(this.firestore,e,this._path)}}function VO(e,t,...n){if(e=(0,ss.m9)(e),IO("collection","path",t),e instanceof PO){const r=fw.fromString(t,...n);return AO(r),new MO(e,null,r)}{if(!(e instanceof LO||e instanceof MO))throw new Gb(zb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(fw.fromString(t,...n));return AO(r),new MO(e.firestore,null,r)}}function UO(e,t,...n){if(e=(0,ss.m9)(e),1===arguments.length&&(t=iw.R()),IO("doc","path",t),e instanceof PO){const r=fw.fromString(t,...n);return xO(r),new LO(e,null,new Rw(r))}{if(!(e instanceof LO||e instanceof MO))throw new Gb(zb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(fw.fromString(t,...n));return xO(r),new LO(e.firestore,e instanceof MO?e.converter:null,new Rw(r))}}function qO(e,t){return e=(0,ss.m9)(e),t=(0,ss.m9)(t),(e instanceof LO||e instanceof MO)&&(t instanceof LO||t instanceof MO)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function jO(e,t){return e=(0,ss.m9)(e),t=(0,ss.m9)(t),e instanceof FO&&t instanceof FO&&e.firestore===t.firestore&&HS(e._query,t._query)&&e.converter===t.converter}class ZO{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new Zk(this,"async_queue_retry"),this.qa=()=>{const e=qk();e&&Vb("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Do.Ao()};const e=qk();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=qk();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const t=new $b;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,zi.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(qg){if(!gT(qg))throw qg;Vb("AsyncQueue","Operation failed with retryable error: "+qg)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const t=this.ka.then(()=>(this.Ba=!0,e().catch(e=>{throw this.$a=e,this.Ba=!1,Ub("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(e=>(this.Ba=!1,e))));return this.ka=t,t}enqueueAfterDelay(e,t,n){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const r=Fx.createAndSchedule(this,e,t,n,e=>this.ja(e));return this.Fa.push(r),r}Ka(){this.$a&&Zb()}verifyOperationInProgress(){}Wa(){var e=this;return(0,zi.Z)(function*(){let t;do{t=e.ka,yield t}while(t!==e.ka)})()}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}function BO(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class HO{constructor(){this._progressObserver={},this._taskCompletionResolver=new $b,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class zO extends PO{constructor(e,t,n){super(e,t,n),this.type="firestore",this._queue=new ZO,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||$O(this),this._firestoreClient.terminate()}}function GO(e){return e._firestoreClient||$O(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function $O(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new Iw(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new lO(e._authCredentials,e._appCheckCredentials,e._queue,r)}function KO(e,t,n){const r=new $b;return e.asyncQueue.enqueue((0,zi.Z)(function*(){try{yield cO(e,n),yield hO(e,t),r.resolve()}catch(e){if(!function(e){return"FirebaseError"===e.name?e.code===zb.FAILED_PRECONDITION||e.code===zb.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(e))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.reject(e)}})).then(()=>r.promise)}function YO(e){if(e._initialized||e._terminated)throw new Gb(zb.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class WO{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Gb(zb.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gw(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class QO{constructor(e){this._byteString=e}static fromBase64String(e){try{return new QO(_w.fromBase64String(e))}catch(e){throw new Gb(zb.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new QO(_w.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class JO{constructor(e){this._methodName=e}}class XO{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Gb(zb.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Gb(zb.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return sw(this._lat,e._lat)||sw(this._long,e._long)}}const eR=/^__.*__$/;class tR{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new EE(e,this.data,this.fieldMask,t,this.fieldTransforms):new SE(e,this.data,t,this.fieldTransforms)}}class nR{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new EE(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zb()}}class iR{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.M=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ya(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new iR(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.nc(e),r}sc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.Ya(),r}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return CR(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(rR(this.Xa)&&eR.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class sR{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=n||jk(e)}ac(e,t,n,r=!1){return new iR({Xa:e,methodName:t,uc:n,path:gw.emptyPath(),ec:!1,oc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function oR(e){const t=e._freezeSettings(),n=jk(e._databaseId);return new sR(e._databaseId,!!t.ignoreUndefinedProperties,n)}function aR(e,t,n,r,i,s={}){const o=e.ac(s.merge||s.mergeFields?2:0,t,n,i);bR("Data must be an object, but it was:",o,r);const a=_R(r,o);let l,c;if(s.merge)l=new yw(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=wR(t,r,n);if(!o.contains(i))throw new Gb(zb.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);TR(e,i)||e.push(i)}l=new yw(e),c=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=o.fieldTransforms;return new tR(new Xw(a),l,c)}class lR extends JO{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lR}}function cR(e,t,n){return new iR({Xa:3,uc:t.settings.uc,methodName:e._methodName,ec:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}class uR extends JO{_toFieldTransform(e){return new dE(e.path,new iE)}isEqual(e){return e instanceof uR}}class hR extends JO{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=cR(this,e,!0),n=this.cc.map(e=>yR(e,t)),r=new sE(n);return new dE(e.path,r)}isEqual(e){return this===e}}class dR extends JO{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=cR(this,e,!0),n=this.cc.map(e=>yR(e,t)),r=new aE(n);return new dE(e.path,r)}isEqual(e){return this===e}}class pR extends JO{constructor(e,t){super(e),this.hc=t}_toFieldTransform(e){const t=new cE(e.M,XS(e.M,this.hc));return new dE(e.path,t)}isEqual(e){return this===e}}function fR(e,t,n,r){const i=e.ac(1,t,n);bR("Data must be an object, but it was:",i,r);const s=[],o=Xw.empty();hw(r,(e,r)=>{const a=ER(t,e,n);r=(0,ss.m9)(r);const l=i.sc(a);if(r instanceof lR)s.push(a);else{const e=yR(r,l);null!=e&&(s.push(a),o.set(a,e))}});const a=new yw(s);return new nR(o,a,i.fieldTransforms)}function mR(e,t,n,r,i,s){const o=e.ac(1,t,n),a=[wR(t,r,n)],l=[i];if(s.length%2!=0)throw new Gb(zb.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(wR(t,s[d])),l.push(s[d+1]);const c=[],u=Xw.empty();for(let d=a.length-1;d>=0;--d)if(!TR(c,a[d])){const e=a[d];let t=l[d];t=(0,ss.m9)(t);const n=o.sc(e);if(t instanceof lR)c.push(e);else{const r=yR(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new yw(c);return new nR(u,h,o.fieldTransforms)}function gR(e,t,n,r=!1){return yR(n,e.ac(r?4:3,t))}function yR(e,t){if(vR(e=(0,ss.m9)(e)))return bR("Unsupported field value:",t,e),_R(e,t);if(e instanceof JO)return function(e,t){if(!rR(t.Xa))throw t.rc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.rc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ec&&4!==t.Xa)throw t.rc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=yR(i,t.ic(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,ss.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return XS(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=lw.fromDate(e);return{timestampValue:cC(t.M,n)}}if(e instanceof lw){const n=new lw(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:cC(t.M,n)}}if(e instanceof XO)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof QO)return{bytesValue:uC(t.M,e._byteString)};if(e instanceof LO){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.rc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:pC(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.rc(`Unsupported field value: ${OO(e)}`)}(e,t)}function _R(e,t){const n={};return dw(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hw(e,(e,r)=>{const i=yR(r,t.tc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function vR(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof lw||e instanceof XO||e instanceof QO||e instanceof LO||e instanceof JO)}function bR(e,t,n){if(!vR(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=OO(n);throw t.rc("an object"===r?e+" a custom object":e+" "+r)}}function wR(e,t,n){if((t=(0,ss.m9)(t))instanceof WO)return t._internalPath;if("string"==typeof t)return ER(e,t);throw CR("Field path arguments must be of type string or ",e,!1,void 0,n)}const SR=new RegExp("[~\\*/\\[\\]]");function ER(e,t,n){if(t.search(SR)>=0)throw CR(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new WO(...t.split("."))._internalPath}catch(r){throw CR(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function CR(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Gb(zb.INVALID_ARGUMENT,a+e+l)}function TR(e,t){return e.some(e=>e.isEqual(t))}class IR{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new LO(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new kR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xR("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class kR extends IR{data(){return super.data()}}function xR(e,t){return"string"==typeof t?ER(e,t):t instanceof WO?t._internalPath:t._delegate._internalPath}class AR{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class OR extends IR{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new RR(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(xR("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class RR extends OR{data(e={}){return super.data(e)}}class DR{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new AR(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new RR(this._firestore,this._userDataWriter,n.key,n,new AR(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Gb(zb.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>({type:"added",doc:new RR(e._firestore,e._userDataWriter,n.doc.key,n.doc,new AR(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new RR(e._firestore,e._userDataWriter,t.doc.key,t.doc,new AR(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:NR(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function NR(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zb()}}function PR(e,t){return e instanceof OR&&t instanceof OR?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof DR&&t instanceof DR&&e._firestore===t._firestore&&jO(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function LR(e){if(MS(e)&&0===e.explicitOrderBy.length)throw new Gb(zb.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class FR{}function MR(e,...t){for(const n of t)e=n._apply(e);return e}class VR extends FR{constructor(e,t,n){super(),this.lc=e,this.fc=t,this.dc=n,this.type="where"}_apply(e){const t=oR(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Gb(zb.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){zR(o,s);const t=[];for(const n of o)t.push(HR(r,e,n));a={arrayValue:{values:t}}}else a=HR(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||zR(o,s),a=gR(n,"where",o,"in"===s||"not-in"===s);const l=vS.create(i,s,a);return function(e,t){if(t.S()){const n=US(e);if(null!==n&&!n.isEqual(t.field))throw new Gb(zb.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=VS(e);null!==r&&GR(0,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw new Gb(zb.INVALID_ARGUMENT,n===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,l),l}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new FO(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new NS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}class UR extends FR{constructor(e,t){super(),this.lc=e,this._c=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Gb(zb.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Gb(zb.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new AS(t,n);return function(e,t){if(null===VS(e)){const n=US(e);null!==n&&GR(0,n,t.field)}}(e,r),r}(e._query,this.lc,this._c);return new FO(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new NS(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class qR extends FR{constructor(e,t,n){super(),this.type=e,this.wc=t,this.mc=n}_apply(e){return new FO(e.firestore,e.converter,BS(e._query,this.wc,this.mc))}}class jR extends FR{constructor(e,t,n){super(),this.type=e,this.gc=t,this.yc=n}_apply(e){const t=BR(e,this.type,this.gc,this.yc);return new FO(e.firestore,e.converter,function(e,t){return new NS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class ZR extends FR{constructor(e,t,n){super(),this.type=e,this.gc=t,this.yc=n}_apply(e){const t=BR(e,this.type,this.gc,this.yc);return new FO(e.firestore,e.converter,function(e,t){return new NS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function BR(e,t,n,r){if(n[0]=(0,ss.m9)(n[0]),n[0]instanceof IR)return function(e,t,n,r,i){if(!r)throw new Gb(zb.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const o of jS(e))if(o.field.isKeyField())s.push(jw(t,r.key));else{const e=r.data.field(o.field);if(Ew(e))throw new Gb(zb.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new Gb(zb.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new xS(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=oR(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new Gb(zb.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let l=0;l<i.length;l++){const s=i[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new Gb(zb.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof s}`);if(!qS(e)&&-1!==s.indexOf("/"))throw new Gb(zb.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${s}' contains a slash.`);const n=e.path.child(fw.fromString(s));if(!Rw.isDocumentKey(n))throw new Gb(zb.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new Rw(n);a.push(jw(t,i))}else{const e=gR(n,r,s);a.push(e)}}return new xS(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function HR(e,t,n){if("string"==typeof(n=(0,ss.m9)(n))){if(""===n)throw new Gb(zb.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qS(t)&&-1!==n.indexOf("/"))throw new Gb(zb.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(fw.fromString(n));if(!Rw.isDocumentKey(r))throw new Gb(zb.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return jw(e,new Rw(r))}if(n instanceof LO)return jw(e,n._key);throw new Gb(zb.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${OO(n)}.`)}function zR(e,t){if(!Array.isArray(e)||0===e.length)throw new Gb(zb.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new Gb(zb.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function GR(e,t,n){if(!n.isEqual(t))throw new Gb(zb.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class $R{convertValue(e,t="none"){switch(Pw(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ww(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Sw(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Zb()}}convertObject(e,t){const n={};return hw(e.fields,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new XO(ww(e.latitude),ww(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Cw(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Tw(e));default:return null}}convertTimestamp(e){const t=bw(e);return new lw(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=fw.fromString(e);Bb(FC(n));const r=new kw(n.get(1),n.get(3)),i=new Rw(n.popFirst(5));return r.isEqual(t)||Ub(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function KR(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class YR extends $R{constructor(e){super(),this.firestore=e}convertBytes(e){return new QO(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new LO(this.firestore,null,t)}}class WR{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=oR(e)}set(e,t,n){this._verifyNotCommitted();const r=QR(e,this._firestore),i=KR(r.converter,t,n),s=aR(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,fE.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=QR(e,this._firestore);let s;return s="string"==typeof(t=(0,ss.m9)(t))||t instanceof WO?mR(this._dataReader,"WriteBatch.update",i._key,t,n,r):fR(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(s.toMutation(i._key,fE.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=QR(e,this._firestore);return this._mutations=this._mutations.concat(new kE(t._key,fE.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Gb(zb.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function QR(e,t){if((e=(0,ss.m9)(e)).firestore!==t)throw new Gb(zb.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class JR extends $R{constructor(e){super(),this.firestore=e}convertBytes(e){return new QO(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new LO(this.firestore,null,t)}}function XR(e,t,n){e=RO(e,LO);const r=RO(e.firestore,zO),i=KR(e.converter,t,n);return nD(r,[aR(oR(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,fE.none())])}function eD(e,t,n,...r){e=RO(e,LO);const i=RO(e.firestore,zO),s=oR(i);let o;return o="string"==typeof(t=(0,ss.m9)(t))||t instanceof WO?mR(s,"updateDoc",e._key,t,n,r):fR(s,"updateDoc",e._key,t),nD(i,[o.toMutation(e._key,fE.exists(!0))])}function tD(e,...t){var n,r,i;e=(0,ss.m9)(e);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||BO(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(BO(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[o+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let l,c,u;if(e instanceof LO)c=RO(e.firestore,zO),u=LS(e._key.path),l={next:n=>{t[o]&&t[o](rD(c,e,n))},error:t[o+1],complete:t[o+2]};else{const n=RO(e,FO);c=RO(n.firestore,zO),u=n._query;const r=new JR(c);l={next:e=>{t[o]&&t[o](new DR(c,r,n,e))},error:t[o+1],complete:t[o+2]},LR(e._query)}return function(e,t,n,r){const i=new iO(r),s=new Wx(t,i,n);return e.asyncQueue.enqueueAndForget((0,zi.Z)(function*(){return Bx(yield wO(e),s)})),()=>{i.Ia(),e.asyncQueue.enqueueAndForget((0,zi.Z)(function*(){return zx(yield wO(e),s)}))}}(GO(c),u,a,l)}function nD(e,t){return function(e,t){const n=new $b;return e.asyncQueue.enqueueAndForget((0,zi.Z)(function*(){return function(e,t,n){return pA.apply(this,arguments)}(yield bO(e),t,n)})),n.promise}(GO(e),t)}function rD(e,t,n){const r=n.docs.get(t._key),i=new JR(e);return new OR(e,i,t._key,r,new AR(n.hasPendingWrites,n.fromCache),t.converter)}class iD extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=oR(e)}get(e){const t=QR(e,this._firestore),n=new YR(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return Zb();const r=e[0];if(r.isFoundDocument())return new IR(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new IR(this._firestore,n,t._key,null,t.converter);throw Zb()})}set(e,t,n){const r=QR(e,this._firestore),i=KR(r.converter,t,n),s=aR(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n,...r){const i=QR(e,this._firestore);let s;return s="string"==typeof(t=(0,ss.m9)(t))||t instanceof WO?mR(this._dataReader,"Transaction.update",i._key,t,n,r):fR(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,s),this}delete(e){const t=QR(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=QR(e,this._firestore),n=new JR(this._firestore);return super.get(e).then(e=>new OR(this._firestore,n,t._key,e._document,new AR(!1,!1),t.converter))}}function sD(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Gb("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function oD(){if("undefined"==typeof Uint8Array)throw new Gb("unimplemented","Uint8Arrays are not available in this environment.")}function aD(){if("undefined"==typeof atob)throw new Gb("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){!function(e){Lb=e}(rs.SDK_VERSION),(0,rs._registerComponent)(new is.wA("firestore",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=new zO(r,new Qb(e.getProvider("auth-internal")),new tw(e.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:t},n),i._setSettings(n),i},"PUBLIC")),(0,rs.registerVersion)(Nb,"3.4.8",e),(0,rs.registerVersion)(Nb,"3.4.8","esm2017")}();class lD{constructor(e){this._delegate=e}static fromBase64String(e){return aD(),new lD(QO.fromBase64String(e))}static fromUint8Array(e){return oD(),new lD(QO.fromUint8Array(e))}toBase64(){return aD(),this._delegate.toBase64()}toUint8Array(){return oD(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function cD(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class uD{enableIndexedDbPersistence(e,t){return function(e,t){YO(e=RO(e,zO));const n=GO(e),r=e._freezeSettings(),i=new nO;return KO(n,i,new eO(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){YO(e=RO(e,zO));const t=GO(e),n=e._freezeSettings(),r=new nO;return KO(t,r,new tO(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Gb(zb.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new $b;return e._queue.enqueueAndForgetEvenWhileRestricted((0,zi.Z)(function*(){try{yield(n=(0,zi.Z)(function*(e){if(!pT.vt())return Promise.resolve();const t=e+"main";yield pT.delete(t)}),function(e){return n.apply(this,arguments)})(HI(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var n})),t.promise}(e._delegate)}}class hD{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof kw||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||qb("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){!function(e,t,n,r={}){var i;const s=(e=RO(e,PO))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&qb("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Pb.MOCK_USER;else{t=(0,ss.Sg)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Gb(zb.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Pb(s)}e._authCredentials=new Wb(new Kb(t,n))}}(this._delegate,e,t,n)}enableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((0,zi.Z)(function*(){const t=yield yO(e),n=yield vO(e);return t.setNetworkEnabled(!0),function(e){const t=Hb(e);return t.fu.delete(0),Yk(t)}(n)}))}(GO(e=RO(e,zO)))}(this._delegate)}disableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((0,zi.Z)(function*(){const t=yield yO(e),n=yield vO(e);return t.setNetworkEnabled(!1),(r=(0,zi.Z)(function*(e){const t=Hb(e);t.fu.add(0),yield Qk(t),t.wu.set("Offline")}),function(e){return r.apply(this,arguments)})(n);var r}))}(GO(e=RO(e,zO)))}(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,kO("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(e){return function(e){const t=new $b;return e.asyncQueue.enqueueAndForget((0,zi.Z)(function*(){return function(e,t){return EA.apply(this,arguments)}(yield bO(e),t)})),t.promise}(GO(e=RO(e,zO)))}(this._delegate)}onSnapshotsInSync(e){return function(e,t){return function(e,t){const n=new iO(t);return e.asyncQueue.enqueueAndForget((0,zi.Z)(function*(){return function(e,t){Hb(e).Eu.add(t),t.next()}(yield wO(e),n)})),()=>{n.Ia(),e.asyncQueue.enqueueAndForget((0,zi.Z)(function*(){return function(e,t){Hb(e).Eu.delete(t)}(yield wO(e),n)}))}}(GO(e=RO(e,zO)),BO(t)?t:{next:t})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Gb("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new TD(this,VO(this._delegate,e))}catch(t){throw yD(t,"collection()","Firestore.collection()")}}doc(e){try{return new gD(this,UO(this._delegate,e))}catch(t){throw yD(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new SD(this,function(e,t){if(e=RO(e,PO),IO("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Gb(zb.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new FO(e,null,function(e){return new NS(fw.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw yD(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t){return function(e,t){const n=new $b;return e.asyncQueue.enqueueAndForget((0,zi.Z)(function*(){const r=yield function(e){return mO(e).then(e=>e.datastore)}(e);new aO(e.asyncQueue,r,t,n).run()})),n.promise}(GO(e=RO(e,zO)),n=>t(new iD(e,n)))}(this._delegate,t=>e(new pD(this,t)))}batch(){return GO(this._delegate),new fD(new WR(this._delegate,e=>nD(this._delegate,e)))}loadBundle(e){return function(e,t){const n=GO(e=RO(e,zO)),r=new HO;return function(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new sO(e,t)}(function(e,t){if(e instanceof Uint8Array)return rO(e,t);if(e instanceof ArrayBuffer)return rO(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,jk(t));e.asyncQueue.enqueueAndForget((0,zi.Z)(function*(){!function(e,t,n){const r=Hb(e);var i;(i=(0,zi.Z)(function*(e,t,n){try{const r=yield t.getMetadata();if(yield function(e,t){const n=Hb(e),r=dC(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",e=>n._s.getBundleMetadata(e,t.id)).then(e=>!!e&&e.createTime.compareTo(r)>=0)}(e.localStore,r))return yield t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(eA(r));const i=new Xx(r,e.localStore,t.M);let s=yield t.da();for(;s;){const e=yield i.ku(s);e&&n._updateProgress(e),s=yield t.da()}const o=yield i.complete();return yield RA(e,o.Fu,void 0),yield function(e,t){const n=Hb(e);return n.persistence.runTransaction("Save bundle","readwrite",e=>n._s.saveBundleMetadata(e,t))}(e.localStore,r),n._completeWith(o.progress),Promise.resolve(o.Ou)}catch(e){return qb("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e),Promise.resolve(new Set)}}),function(e,t,n){return i.apply(this,arguments)})(r,t,n).then(e=>{r.sharedClientState.notifyBundleLoaded(e)})}(yield bO(e),i,r)}))}(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return function(e,t){return function(e,t){return e.asyncQueue.enqueue((0,zi.Z)(function*(){return function(e,t){const n=Hb(e);return n.persistence.runTransaction("Get named query","readonly",e=>n._s.getNamedQuery(e,t))}(yield _O(e),t)}))}(GO(e=RO(e,zO)),t).then(t=>t?new FO(e,null,t.query):null)}(this._delegate,e).then(e=>e?new SD(this,e):null)}}class dD extends $R{constructor(e){super(),this.firestore=e}convertBytes(e){return new lD(new QO(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return gD.forKey(t,this.firestore,null)}}class pD{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new dD(e)}get(e){const t=ID(e);return this._delegate.get(t).then(e=>new bD(this._firestore,new OR(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter)))}set(e,t,n){const r=ID(e);return n?(sD("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=ID(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=ID(e);return this._delegate.delete(t),this}}class fD{constructor(e){this._delegate=e}set(e,t,n){const r=ID(e);return n?(sD("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=ID(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=ID(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class mD{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new RR(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new wD(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=mD.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new mD(e,new dD(e),t),r.set(t,i)),i}}mD.INSTANCES=new WeakMap;class gD{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new dD(e)}static forPath(e,t,n){if(e.length%2!=0)throw new Gb("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new gD(t,new LO(t._delegate,n,new Rw(e)))}static forKey(e,t,n){return new gD(t,new LO(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new TD(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new TD(this.firestore,VO(this._delegate,e))}catch(t){throw yD(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ss.m9)(e))instanceof LO&&qO(this._delegate,e)}set(e,t){t=sD("DocumentReference.set",t);try{return t?XR(this._delegate,e,t):XR(this._delegate,e)}catch(n){throw yD(n,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?eD(this._delegate,e):eD(this._delegate,e,t,...n)}catch(r){throw yD(r,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return nD(RO(e.firestore,zO),[new kE(e._key,fE.none())])}(this._delegate)}onSnapshot(...e){const t=_D(e),n=vD(e,e=>new bD(this.firestore,new OR(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)));return tD(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=RO(e,LO);const t=RO(e.firestore,zO),n=GO(t),r=new JR(t);return function(e,t){const n=new $b;return e.asyncQueue.enqueueAndForget((0,zi.Z)(function*(){return(r=(0,zi.Z)(function*(e,t,n){try{const r=yield function(e,t){const n=Hb(e);return n.persistence.runTransaction("read document","readonly",e=>n.ci.Ls(e,t))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Gb(zb.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Mx(e,`Failed to get document '${t} from cache`);n.reject(r)}}),function(e,t,n){return r.apply(this,arguments)})(yield _O(e),t,n);var r})),n.promise}(n,e._key).then(n=>new OR(t,r,e._key,n,new AR(null!==n&&n.hasLocalMutations,!0),e.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=RO(e,LO);const t=RO(e.firestore,zO);return EO(GO(t),e._key,{source:"server"}).then(n=>rD(t,e,n))}(this._delegate):function(e){e=RO(e,LO);const t=RO(e.firestore,zO);return EO(GO(t),e._key).then(n=>rD(t,e,n))}(this._delegate),t.then(e=>new bD(this.firestore,new OR(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)))}withConverter(e){return new gD(this.firestore,this._delegate.withConverter(e?mD.getInstance(this.firestore,e):null))}}function yD(e,t,n){return e.message=e.message.replace(t,n),e}function _D(e){for(const t of e)if("object"==typeof t&&!cD(t))return t;return{}}function vD(e,t){var n,r;let i;return i=cD(e[0])?e[0]:cD(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class bD{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new gD(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return PR(this._delegate,e._delegate)}}class wD extends bD{data(e){const t=this._delegate.data(e);return function(e,t){e||Zb()}(void 0!==t),t}}class SD{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new dD(e)}where(e,t,n){try{return new SD(this.firestore,MR(this._delegate,function(e,t,n){const r=t,i=xR("where",e);return new VR(i,r,n)}(e,t,n)))}catch(r){throw yD(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new SD(this.firestore,MR(this._delegate,function(e,t="asc"){const n=t,r=xR("orderBy",e);return new UR(r,n)}(e,t)))}catch(n){throw yD(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new SD(this.firestore,MR(this._delegate,function(e){return DO("limit",e),new qR("limit",e,"F")}(e)))}catch(t){throw yD(t,"limit()","Query.limit()")}}limitToLast(e){try{return new SD(this.firestore,MR(this._delegate,function(e){return DO("limitToLast",e),new qR("limitToLast",e,"L")}(e)))}catch(t){throw yD(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new SD(this.firestore,MR(this._delegate,function(...e){return new jR("startAt",e,!0)}(...e)))}catch(t){throw yD(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new SD(this.firestore,MR(this._delegate,function(...e){return new jR("startAfter",e,!1)}(...e)))}catch(t){throw yD(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new SD(this.firestore,MR(this._delegate,function(...e){return new ZR("endBefore",e,!1)}(...e)))}catch(t){throw yD(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new SD(this.firestore,MR(this._delegate,function(...e){return new ZR("endAt",e,!0)}(...e)))}catch(t){throw yD(t,"endAt()","Query.endAt()")}}isEqual(e){return jO(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=RO(e,FO);const t=RO(e.firestore,zO),n=GO(t),r=new JR(t);return function(e,t){const n=new $b;return e.asyncQueue.enqueueAndForget((0,zi.Z)(function*(){return(r=(0,zi.Z)(function*(e,t,n){try{const r=yield ok(e,t,!0),i=new rA(t,r.li),s=i.Gu(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=Mx(e,`Failed to execute query '${t} against cache`);n.reject(r)}}),function(e,t,n){return r.apply(this,arguments)})(yield _O(e),t,n);var r})),n.promise}(n,e._query).then(n=>new DR(t,r,e,n))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=RO(e,FO);const t=RO(e.firestore,zO),n=GO(t),r=new JR(t);return CO(n,e._query,{source:"server"}).then(n=>new DR(t,r,e,n))}(this._delegate):function(e){e=RO(e,FO);const t=RO(e.firestore,zO),n=GO(t),r=new JR(t);return LR(e._query),CO(n,e._query).then(n=>new DR(t,r,e,n))}(this._delegate),t.then(e=>new CD(this.firestore,new DR(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)))}onSnapshot(...e){const t=_D(e),n=vD(e,e=>new CD(this.firestore,new DR(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)));return tD(this._delegate,t,n)}withConverter(e){return new SD(this.firestore,this._delegate.withConverter(e?mD.getInstance(this.firestore,e):null))}}class ED{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new wD(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class CD{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new SD(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new wD(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(e=>new ED(this._firestore,e))}forEach(e,t){this._delegate.forEach(n=>{e.call(t,new wD(this._firestore,n))})}isEqual(e){return PR(this._delegate,e._delegate)}}class TD extends SD{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new gD(this.firestore,e):null}doc(e){try{return new gD(this.firestore,void 0===e?UO(this._delegate):UO(this._delegate,e))}catch(t){throw yD(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=RO(e.firestore,zO),r=UO(e),i=KR(e.converter,t);return nD(n,[aR(oR(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,fE.exists(!1))]).then(()=>r)}(this._delegate,e).then(e=>new gD(this.firestore,e))}isEqual(e){return qO(this._delegate,e._delegate)}withConverter(e){return new TD(this.firestore,this._delegate.withConverter(e?mD.getInstance(this.firestore,e):null))}}function ID(e){return RO(e,LO)}class kD{constructor(...e){this._delegate=new WO(...e)}static documentId(){return new kD(gw.keyField().canonicalString())}isEqual(e){return(e=(0,ss.m9)(e))instanceof WO&&this._delegate._internalPath.isEqual(e._internalPath)}}class xD{constructor(e){this._delegate=e}static serverTimestamp(){const e=new uR("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new xD(e)}static delete(){const e=new lR("deleteField");return e._methodName="FieldValue.delete",new xD(e)}static arrayUnion(...e){const t=function(...e){return new hR("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new xD(t)}static arrayRemove(...e){const t=function(...e){return new dR("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new xD(t)}static increment(e){const t=function(e){return new pR("increment",e)}(e);return t._methodName="FieldValue.increment",new xD(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const AD={Firestore:hD,GeoPoint:XO,Timestamp:lw,Blob:lD,Transaction:pD,WriteBatch:fD,DocumentReference:gD,DocumentSnapshot:bD,Query:SD,QueryDocumentSnapshot:wD,QuerySnapshot:CD,CollectionReference:TD,FieldPath:kD,FieldValue:xD,setLogLevel:function(e){!function(e){Fb.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};var OD,RD;function DD(e,t){return function(e,t=eh.z){return new We.y(n=>{let r;return null!=t?t.schedule(()=>{r=e.onSnapshot({includeMetadataChanges:!0},n)}):r=e.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(e,t)}function ND(e,t){return DD(e,t).pipe((0,lt.U)(e=>({payload:e,type:"query"})))}function PD(e,t){return ND(e,t).pipe(yt(void 0),qp(),(0,lt.U)(([e,t])=>{const n=t.payload.docChanges(),r=n.map(e=>({type:e.type,payload:e}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(t.payload.metadata)&&t.payload.docs.forEach((t,i)=>{const s=n.find(e=>e.doc.ref.isEqual(t.ref)),o=null==e?void 0:e.payload.docs.find(e=>e.ref.isEqual(t.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(t.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(t.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:t}})}),r}))}function LD(e,t,n){return PD(e,n).pipe(_t((e,n)=>function(e,t,n){return t.forEach(t=>{n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!e[t.newIndex].doc.ref.isEqual(t.doc.ref))return FD(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const n=e.slice();return n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t),n}return FD(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return FD(e,t.oldIndex,1)}return e}(e,t))}),e}(e,n.map(e=>e.payload),t),[]),ah(),(0,lt.U)(e=>e.map(e=>({type:e.type,payload:e}))))}function FD(e,t,n,...r){const i=e.slice();return i.splice(t,n,...r),i}function MD(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}RD=(e,t)=>new hD(e,t,new uD),(OD=Ig.Z).INTERNAL.registerComponent(new is.wA("firestore-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("firestore").getImmediate();return RD(t,n)},"PUBLIC").setServiceProps(Object.assign({},AD))),OD.registerVersion("@firebase/firestore-compat","0.1.17");class VD{constructor(e,t,n){this.ref=e,this.query=t,this.afs=n}stateChanges(e){let t=PD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,lt.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)))),t.pipe(yt(void 0),qp(),wt(([e,t])=>t.length>0||!e),(0,lt.U)(([e,t])=>t),ts.iC)}auditTrail(e){return this.stateChanges(e).pipe(_t((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=MD(e);return LD(this.query,t,this.afs.schedulers.outsideAngular).pipe(ts.iC)}valueChanges(e={}){return ND(this.query,this.afs.schedulers.outsideAngular).pipe((0,lt.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data())),ts.iC)}get(e){return(0,Ue.D)(this.query.get(e)).pipe(ts.iC)}add(e){return this.ref.add(e)}doc(e){return new UD(this.ref.doc(e),this.afs)}}class UD{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const n=this.ref.collection(e),{ref:r,query:i}=zD(n,t);return new VD(r,i,this.afs)}snapshotChanges(){return DD(this.ref,this.afs.schedulers.outsideAngular).pipe(yt(void 0),qp(),(0,lt.U)(([e,t])=>t.exists?(null==e?void 0:e.exists)?{payload:t,type:"modified"}:{payload:t,type:"added"}:{payload:t,type:"removed"})).pipe(ts.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,lt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ue.D)(this.ref.get(e)).pipe(ts.iC)}}class qD{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?PD(this.query,this.afs.schedulers.outsideAngular).pipe((0,lt.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)),wt(e=>e.length>0),ts.iC):PD(this.query,this.afs.schedulers.outsideAngular).pipe(ts.iC)}auditTrail(e){return this.stateChanges(e).pipe(_t((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=MD(e);return LD(this.query,t,this.afs.schedulers.outsideAngular).pipe(ts.iC)}valueChanges(e={}){return ND(this.query,this.afs.schedulers.outsideAngular).pipe((0,lt.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign({[e.idField]:t.id},t.data()):t.data())),ts.iC)}get(e){return(0,Ue.D)(this.query.get(e)).pipe(ts.iC)}}const jD=new r.OlP("angularfire2.enableFirestorePersistence"),ZD=new r.OlP("angularfire2.firestore.persistenceSettings"),BD=new r.OlP("angularfire2.firestore.settings"),HD=new r.OlP("angularfire2.firestore.use-emulator");function zD(e,t=(e=>e)){return{query:t(e),ref:e}}let GD=(()=>{class e{constructor(e,t,n,r,i,s,o,a,l,c,u,h,d,p,f,m,g){this.schedulers=o;const y=(0,ns.on)(e,s,t),_=l;c&&Gs(y,s,u,d,p,f,h,m),[this.firestore,this.persistenceEnabled$]=(0,ns.cc)(`${y.name}.firestore`,"AngularFirestore",y.name,()=>{const e=s.runOutsideAngular(()=>y.firestore());if(r&&e.settings(r),_&&e.useEmulator(..._),n&&!te(i)){const t=()=>{try{return(0,Ue.D)(e.enablePersistence(a||void 0).then(()=>!0,()=>!1))}catch(t){return"undefined"!=typeof console&&console.warn(t),(0,qe.of)(!1)}};return[e,s.runOutsideAngular(t)]}return[e,(0,qe.of)(!1)]},[r,_,n])}collection(e,t){let n;n="string"==typeof e?this.firestore.collection(e):e;const{ref:r,query:i}=zD(n,t),s=this.schedulers.ngZone.run(()=>r);return new VD(s,i,this)}collectionGroup(e,t){const n=t||(e=>e),r=this.firestore.collectionGroup(e);return new qD(n(r),this)}doc(e){let t;t="string"==typeof e?this.firestore.doc(e):e;const n=this.schedulers.ngZone.run(()=>t);return new UD(n,this)}createId(){return this.firestore.collection("_").doc().id}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(ns.Dh),r.LFG(ns.xv,8),r.LFG(jD,8),r.LFG(BD,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(ts.HU),r.LFG(ZD,8),r.LFG(HD,8),r.LFG($s,8),r.LFG(qs,8),r.LFG(js,8),r.LFG(Zs,8),r.LFG(Bs,8),r.LFG(Hs,8),r.LFG(zs,8),r.LFG(Vs,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),$D=(()=>{class e{constructor(){Us.Z.registerVersion("angularfire",ts.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:e,providers:[{provide:jD,useValue:!0},{provide:ZD,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[GD]}),e})();const KD={apiKey:"AIzaSyBqWbJSQNE-I8O8smfX6FNNdDCM9QkDhmg",authDomain:"cowin-dashboard.firebaseapp.com",projectId:"cowin-dashboard",storageBucket:"cowin-dashboard.appspot.com",messagingSenderId:"648103003481",appId:"1:648103003481:web:706686bec94bcaa03df848",measurementId:"G-X2GVBYHPJB"};n(3098);const YD={provide:new r.OlP("mat-menu-scroll-strategy"),deps:[Of],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let WD=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[YD],imports:[[ee,ld,Ed,Ff],Gp,ld]}),e})(),QD=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e,bootstrap:[Eg]}),e.\u0275inj=r.cJS({providers:[$d,Tm,Qd],imports:[[Ve,Ym,Oo,ll,Ju,tg,Cg,_g,hm,Bd,Dp,rm,ll,cl,Vm,ns.hO.initializeApp(KD),$D,Ks,WD]]}),e})();(0,r.G48)(),Fe().bootstrapModule(QD).catch(e=>console.error(e))},6304:(e,t,n)=>{"use strict";function r(e,t,n,r,i,s,o){try{var a=e[s](o),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,s){var o=e.apply(t,n);function a(e){r(o,i,s,a,l,"next",e)}function l(e){r(o,i,s,a,l,"throw",e)}a(void 0)})}}n.d(t,{Z:()=>i})}},e=>{"use strict";e(e.s=349)}]);